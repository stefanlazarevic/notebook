(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{184:function(e,t,n){e.exports=n(335)},193:function(e,t,n){},194:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"first",(function(){return R})),n.d(a,"last",(function(){return D})),n.d(a,"chunk",(function(){return j})),n.d(a,"swap",(function(){return A})),n.d(a,"mapReversed",(function(){return w})),n.d(a,"map",(function(){return k})),n.d(a,"replaceAtIndex",(function(){return N})),n.d(a,"removeAtIndex",(function(){return I}));var r={};n.r(r),n.d(r,"getTabbableElements",(function(){return T}));var o={};n.r(o),n.d(o,"clear",(function(){return L})),n.d(o,"truncate",(function(){return S}));var c={};n.r(c),n.d(c,"deleteProperty",(function(){return G}));var l={};n.r(l),n.d(l,"generateRandom",(function(){return U})),n.d(l,"isString",(function(){return B}));var i=n(1),u=n.n(i),s=n(31),d=n.n(s),f=n(5),p=(n(193),n(194),n(92)),E=n(121),m=(n(204),n(205),n(206),n(24));n(207);var y,h,v=function(e){var t=["Button",e.className];return u.a.createElement("button",Object.assign({},e,{className:t.join("")}),e.children)},b=n(10),O=n.n(b),C=n(7),g=n(17);function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[0]}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[e.length-1]}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t<1)throw Error("Chunk size must be greater than one.");for(var n=Array.from({length:Math.ceil(e.length/t)},(function(){return[]})),a=0,r=0;r<n.length;r++)for(var o=n[r],c=0;c<t;c++)"undefined"!==typeof e[a]&&o.push(e[a++]);return n}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||t<0)throw Error("Swap indexes must be greater than or equal to 0.");if(e>=n.length||t>=n.length)throw Error("Swap indexes must be less than the size of array.");for(var a=Array(n.length),r=n[t],o=n[e],c=0;c<n.length;c++)a[c]=c!==e?c!==t?n[c]:o:r;return a}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),a=t.length-1;a>-1;a--)n[t.length-a-1]=e(t[a],a,t);return n}function k(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),a=0;a<t.length;a++)n[a]=e(t[a],a,t);return n}function N(e,t,n){return t.slice(0,e).concat(n,t.slice(e+1))}function I(e,t){return t.slice(0,e).concat(t.slice(e+1))}function T(e){var t,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])',"audio[controls]","video[controls]"];if(e&&document)return"string"===typeof e?null===(t=document.getElementById(e))||void 0===t?void 0:t.querySelectorAll(n.join(",")):e.querySelectorAll(n.join(","))}!function(e){e[e.DELETE_RECORD=0]="DELETE_RECORD",e[e.RENAME_RECORD=1]="RENAME_RECORD",e[e.CREATE_GROUP=2]="CREATE_GROUP",e[e.RENAME_GROUP=3]="RENAME_GROUP"}(y||(y={})),function(e){e.OPEN_OVERLAY="Overlays/Actions/OPEN_OVERLAY",e.CLOSE_OVERLAY="Overlays/Actions/CLOSE_OVERLAY"}(h||(h={}));var x=n(21);function L(e){var t=e.getSelection(),n=e.getCurrentContent(),a=e.getCurrentInlineStyle().reduce((function(e,n){return x.Modifier.removeInlineStyle(e,t,n)}),n);return x.EditorState.push(e,x.Modifier.setBlockType(a,t,"unstyled"),"change-block-type")}function S(e,t){var n=e.getBlockMap(),a=[],r=0,o=!1;return n.forEach((function(e){if(!o&&e){var n=e.getLength();if(r+n>t){o=!0;var c=e.getText().slice(0,t-r),l=x.ContentState.createFromText("".concat(c,"..."));a.push(l.getFirstBlock())}else a.push(e);r+=n+1}})),o?x.ContentState.createFromBlockArray(a):e}var P=n(178),_=n(183),G=function(e,t){t[e];return Object(P.a)(t,[e].map(_.a))};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="";if(e<=0)return t;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.length<e;){var a=Math.floor(Math.random()*n.length);t+=n.charAt(a)}return t}function B(e){return"string"===typeof e}var V={array:a,dom:r,editor:o,object:c,string:l};function M(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(a,r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:h.OPEN_OVERLAY,payload:Object(C.a)({},t,{overlayID:V.string.generateRandom(3),type:e})});case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function F(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:h.CLOSE_OVERLAY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var H,W=function(){var e=Object(f.d)(),t="Create new folder";return u.a.createElement(v,{onClick:function(){e(M(y.CREATE_GROUP))},title:t,"aria-label":t},u.a.createElement(m.d,{"aria-hidden":!0}))},z={open:!1,id:void 0};function K(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:H.REPLACE,payload:{open:!0,id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.REPLACE="Editor/Actions/REPLACE",e.REPLACE_ALL="Editor/Actions/REPLACE_ALL"}(H||(H={}));var Y=function(){var e=Object(f.d)();return u.a.createElement(v,{onClick:function(){e(K())},title:"Create new note","aria-label":"Create new note"},u.a.createElement(m.k,{"aria-hidden":!0}))};var q=function(e){return u.a.createElement("div",{className:"AppHeaderMenu"},u.a.createElement(W,null),u.a.createElement(Y,null))};var J,Q=function(e){return u.a.createElement("header",{id:"AppHeader",className:"AppHeader"},u.a.createElement("h1",{className:"AppHeader__title"},"Notebook"),u.a.createElement(q,null))},X=(n(302),n(25));function Z(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:J.OPEN_GROUP,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function $(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){var r,o,c,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.records,l=c[e.id]){t.next=5;break}throw Error("NoteRecord with ID ".concat(e.id," is absent."));case 5:if(l.parent===e.parent){t.next=7;break}throw Error('Changing record location is not permitted. If your intention was moving record to another group, consider using the "moveToGroup" function.');case 7:n({type:J.UPDATE_RECORD,payload:e});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function ee(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){var r,o,c,l,i,u,s,d,f,p;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=r.tabs,l=o.groups,i=c.records,u=l[e]){t.next=6;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 6:if(!(u.children.length>0)){t.next=8;break}throw Error("NoteGroup must be empty before removing.");case 8:for(s=Array(i.length),d=0;d<i.length;d++)(f=i[d])===e?(p=V.array.last(l[f].path),s[d]=p):s[d]=i[d];n({type:J.REMOVE_GROUP,payload:Object(C.a)({},u,{parentGroupId:V.array.last(u.path),records:s})});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function te(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(a,r){var o,c,l,i,u,s,d,f,p,E,m;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),c=o.notes,l=c.groups,i=c.records,u=l[e],s=l[t],d=i[t],u){n.next=7;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 7:if(s||d){n.next=9;break}throw Error("ID ".concat(t," does not belong to any NoteRecord or NoteGroup."));case 9:s&&(p=V.array.last(s.path)||"root",E=Object(C.a)({},l,(f={},Object(X.a)(f,p,Object(C.a)({},l[p],{children:l[p].children.filter((function(e){return e!==t}))})),Object(X.a)(f,e,Object(C.a)({},l[e],{children:l[e].children.concat(t)})),Object(X.a)(f,t,Object(C.a)({},l[t],{path:u.path.concat(e)})),f)),m=[t],function e(){if(0!==m.length){for(var t=m.pop(),n=E[t],a=n.children,r=0;r<a.length;r++){var o=E[a[r]];o&&void 0!==o.children&&(o.path=n.path.concat(n.id),E[o.id]=o,m.push(o.id))}e()}}(),a({type:J.MOVE_GROUP,payload:E})),d&&a({type:J.MOVE_RECORD,payload:Object(C.a)({},d,{targetGroupID:e})});case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function ne(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){var r,o,c,l,i,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.currentGroupID,l=o.groups,(i=l[c]).path&&!(i.path.length<1)){t.next=5;break}throw Error("Ungroup is not allowed in root group.");case 5:u=l[V.array.last(i.path)],n(te(u.id,e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.OPEN_GROUP="Notes/Actions/Group/OPEN_GROUP",e.CREATE_RECORD="Notes/Actions/CREATE_RECORD",e.REMOVE_RECORD="Notes/Actions/REMOVE_RECORD",e.UPDATE_RECORD="Notes/Actions/UPDATE_RECORD",e.CREATE_GROUP="Notes/Actions/CREATE_GROUP",e.UPDATE_GROUP="Notes/Actions/UPDATE_GROUP",e.REMOVE_GROUP="Notes/Actions/REMOVE_GROUP",e.MOVE_GROUP="Notes/Actions/MOVE_GROUP",e.MOVE_RECORD="Notes/Actions/MOVE_RECORD",e.REORDER="Notes/Actions/REORDER"}(J||(J={}));var ae=ne;var re=function(){var e=Object(f.d)(),t="Open root folder";return u.a.createElement(v,{onClick:function(){e(Z("root"))},title:t,"aria-label":t},u.a.createElement(m.j,{"aria-hidden":!0}))};var oe=function(){var e=Object(f.d)(),t="Open parent folder",n=Object(f.e)((function(e){return e.notes.currentGroupID})),a=Object(f.e)((function(e){return V.array.last(e.notes.groups[n].path)}));return u.a.createElement(v,{title:t,"aria-label":t,onClick:function(){a&&e(Z(a))},disabled:!Boolean(a)},u.a.createElement(m.a,{"aria-hidden":!0}))};n(303),n(304);function ce(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),a=Object(i.useRef)(0),r=Object(i.useRef)([]),o=Object(i.useCallback)((function(){if(c()){for(;c();)if(n.current){if(a.current>n.current.length)return;var e=n.current[a.current];r.current&&r.current.push(e.offsetWidth+s(l(e))),f(a.current++)}}else if(r.current&&t.current&&r.current.length>0&&n.current)for(var o=Array.from(n.current).slice(r.current.length).reduce((function(e,t){return e+t.offsetWidth+s(l(t))}),0);o+r.current[r.current.length-1]<t.current.clientWidth;)r.current.pop(),d(--a.current)}),[]);function c(){return!!t.current&&t.current.scrollWidth>t.current.clientWidth}function l(e){if(window)return window.getComputedStyle(e)}function s(e){return e&&e.marginRight?parseFloat(e.marginRight):0}function d(e){n.current&&n.current[e]&&n.current[e].classList.remove("hidden")}function f(e){n.current&&n.current[e]&&n.current[e].classList.add("hidden")}return Object(i.useEffect)((function(){return t&&t.current&&(n.current=t.current.getElementsByClassName("BreadcrumbElement")),window&&(window.addEventListener("resize",o),o()),function(){window&&window.removeEventListener("resize",o)}}),[o]),u.a.createElement("div",{ref:t,className:"Breadcrumb"},e.children)}n(305);function le(e){return u.a.createElement("div",Object.assign({},e,{className:"BreadcrumbElement"}),e.children)}var ie=function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.groups[e.id].title}));return u.a.createElement(le,{tabIndex:e.tabIndex,role:"link",title:n,onClick:function(){t(Z(e.id))}},n)};function ue(e){var t=Object(f.d)(),n="Open root folder";return u.a.createElement(le,{onClick:function(){t(Z("root"))},tabIndex:e.tabIndex,role:"link",title:n,"aria-label":n},u.a.createElement(m.c,{"aria-hidden":!0}))}var se=function(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return e.notes.groups[t].path})).slice(1);return"root"!==t&&n.push(t),u.a.createElement("div",{className:"AddressBar"},u.a.createElement(ce,null,u.a.createElement(ue,{tabIndex:0}),n.map((function(e,t){return u.a.createElement(ie,{key:e,id:e,tabIndex:t===n.length-1?-1:0})}))))},de=n(32);var fe,pe=function(){return u.a.createElement(v,{title:"Help","aria-label":"Help"},u.a.createElement(de.c,{"aria-hidden":!0}))},Ee=n(33);n(306);function me(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return e.notes.currentGroupID})),a=Object(f.e)((function(e){return e.notes.groups[n].favorite}));return u.a.createElement("button",{className:"FavoriteButton","aria-label":"Add to favorite",title:"Add to favorite",onClick:function(){var e;t(a?(e=n,function(){var t=Object(g.a)(O.a.mark((function t(n,a){var r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,o.groups[e]){t.next=5;break}throw Error("Folder with id ".concat(e," is absent."));case 5:n({type:fe.REMOVE,payload:{id:e}});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()):function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){var r,o,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.groups,c[e]){t.next=5;break}throw Error("Folder with id ".concat(e," is absent."));case 5:n({type:fe.ADD,payload:{id:e}});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(n))}},a?u.a.createElement(Ee.f,null):u.a.createElement(Ee.e,{"aria-hidden":!0}))}!function(e){e.ADD="Favorites/Actions/ADD",e.BATCH_ADD="Favorites/Actions/BATCH_ADD",e.REMOVE="Favorites/Actions/REMOVE",e.BATCH_REMOVE="Favorites/Actions/BATCH_REMOVE"}(fe||(fe={}));var ye=function(){return u.a.createElement("div",{className:"Navigator","data-open":!0},u.a.createElement(oe,null),u.a.createElement(re,null),u.a.createElement(se,null),u.a.createElement(me,null),u.a.createElement(pe,null))},he=n(72);n(307),n(308),n(309);function ve(e){return u.a.createElement("button",{className:"ResizeButton",onClick:function(t){"function"===typeof e.onClick&&e.onClick(!e.maximized)},title:"".concat(e.maximized?"Minimize":"Maximize"," Editor")},e.maximized?u.a.createElement(de.e,null):u.a.createElement(de.d,null))}n(310);function be(e){return u.a.createElement("button",{className:"CloseButton",title:"Close Editor",onClick:e.onClick},u.a.createElement(m.b,null))}n(311);var Oe=Object(i.forwardRef)((function(e,t){var n=Object(i.useRef)(null);return Object(i.useImperativeHandle)(t,(function(){return{getValue:function(){return n.current?n.current.value:""}}})),u.a.createElement("input",{ref:n,className:"NameInput",placeholder:"New title",type:"text",defaultValue:e.defaultValue,onChange:e.onChange,autoFocus:!0})}));n(312);function Ce(e){return u.a.createElement("div",{className:"ChangeIndicator"},u.a.createElement("span",{className:"ChangeIndicatorDot","data-state":e.state}))}var ge,Re=Object(i.forwardRef)((function(e,t){return u.a.createElement("div",{className:"AppEditorHeader"},u.a.createElement(Oe,{ref:t,defaultValue:e.defaultValue,onChange:e.onChange}),u.a.createElement(Ce,{state:e.indicatorState}),u.a.createElement(ve,{maximized:e.maximized,onClick:e.onResize}),u.a.createElement(be,{onClick:e.onClose}))}));n(313);function De(e){return function(t,n){switch(t){case ge.BOLD:return e(x.RichUtils.toggleInlineStyle(n,ge.BOLD)),"handled";case ge.ITALIC:return e(x.RichUtils.toggleInlineStyle(n,ge.ITALIC)),"handled";case ge.UNDERLINE:return e(x.RichUtils.toggleInlineStyle(n,ge.UNDERLINE)),"handled";case ge.STRIKETHROUGH:return e(x.RichUtils.toggleInlineStyle(n,ge.STRIKETHROUGH)),"handled";case ge.UNDO:return e(x.EditorState.undo(n)),"handled";case ge.REDO:return e(x.EditorState.redo(n)),"handled";case ge.SAVE:return"handled";case ge.CLEAR:return e(V.editor.clear(n)),"handled";default:return"not-handled"}}}!function(e){e.BOLD="BOLD",e.ITALIC="ITALIC",e.UNDERLINE="UNDERLINE",e.STRIKETHROUGH="STRIKETHROUGH",e.SAVE="SAVE",e.UNDO="UNDO",e.REDO="REDO",e.CLEAR="CLEAR"}(ge||(ge={}));var je={9:"tab",13:"enter",27:"esc",32:"space",46:"delete",66:"b",67:"c",73:"i",83:"s",85:"u",87:"y",97:"z",113:"f2"};function Ae(e){var t=e.ctrlKey,n=e.shiftKey,a=e.keyCode,r=je[a];return t&&"b"===r?ge.BOLD:t&&"i"===r?ge.ITALIC:t&&"u"===r?ge.UNDERLINE:t&&n&&"s"===r?ge.STRIKETHROUGH:t&&"s"===r?ge.SAVE:t&&"z"===r?ge.UNDO:t&&"y"===r?ge.REDO:t&&n&&"c"===r?ge.CLEAR:Object(x.getDefaultKeyBinding)(e)}n(314),n(315);function we(e){return u.a.createElement("button",{className:"EditorControlButton",title:e.title,tabIndex:e.tabIndex,onMouseDown:function(t){"function"===typeof e.onClick&&e.onClick(t,e.command)},"data-active":e.active},e.children)}function ke(e){var t,n,a,r;function o(t,n){t.preventDefault(),"function"===typeof e.onClick&&e.onClick(n)}return u.a.createElement("div",{className:"EditorControls"},u.a.createElement(we,{command:ge.BOLD,onClick:o,title:"Bold",active:Boolean(null===(t=e.inlineStyles)||void 0===t?void 0:t.has("BOLD")),tabIndex:-1},u.a.createElement(m.e,null)),u.a.createElement(we,{command:ge.ITALIC,onClick:o,title:"Italic",active:Boolean(null===(n=e.inlineStyles)||void 0===n?void 0:n.has("ITALIC")),tabIndex:-1},u.a.createElement(m.g,null)),u.a.createElement(we,{command:ge.UNDERLINE,onClick:o,title:"Underline",active:Boolean(null===(a=e.inlineStyles)||void 0===a?void 0:a.has("UNDERLINE")),tabIndex:-1},u.a.createElement(m.i,null)),u.a.createElement(we,{command:ge.STRIKETHROUGH,onClick:o,title:"Strikethrough",active:Boolean(null===(r=e.inlineStyles)||void 0===r?void 0:r.has("STRIKETHROUGH")),tabIndex:-1},u.a.createElement(m.h,null)),u.a.createElement(we,{command:ge.CLEAR,onClick:o,title:"Clear formatting",active:!1,tabIndex:-1},u.a.createElement(m.f,null)))}var Ne,Ie=Object(i.forwardRef)((function(e,t){var n=Object(i.useState)(e.rawContentState?x.EditorState.createWithContent(Object(x.convertFromRaw)(e.rawContentState)):x.EditorState.createEmpty()),a=Object(he.a)(n,2),r=a[0],o=a[1],c=Object(i.useRef)(null);function l(t){(o(t),"function"===typeof e.onChange)&&(t.getCurrentContent().getBlockMap().equals(r.getCurrentContent().getBlockMap())||e.onChange())}function s(e){c.current&&c.current.focus()}function d(){c.current&&c.current.blur()}return Object(i.useImperativeHandle)(t,(function(){return{getPlainText:function(){return r.getCurrentContent().getPlainText()},getRawDraftContentState:function(){return Object(x.convertToRaw)(r.getCurrentContent())},focusEditor:s,blurEditor:d}})),u.a.createElement("div",{className:"Editor"},u.a.createElement(ke,{inlineStyles:r.getCurrentInlineStyle(),onClick:function(e){De(l)(e,r)}}),u.a.createElement("div",{className:"EditorWrapper",onMouseDown:s},u.a.createElement(x.Editor,{ref:c,editorState:r,onChange:l,keyBindingFn:Ae,handleKeyCommand:De(l),spellCheck:e.spellCheck})))}));function Te(e){var t=Object(i.useState)(e.maximized),n=Object(he.a)(t,2),a=n[0],r=n[1],o=Object(i.useState)(Ne.IDLE),c=Object(he.a)(o,2),l=c[0],s=c[1],d=Object(i.useRef)(),f=Object(i.useRef)(),p=Object(i.useRef)();function E(){var t={id:e.id||V.string.generateRandom(),parent:e.currentGroupID,title:"",content:{entityMap:{},blocks:[]},type:"Note",createdAt:Date.now()};if(d.current&&(t.title=d.current.getValue()),f.current&&(t.content=f.current.getRawDraftContentState()),"function"===typeof e.onSave&&!e.id)return e.onSave(e.currentGroupID,t),void(e.saveAndClose&&!e.autoSave?y():s(Ne.SAVED));"function"===typeof e.onUpdate&&e.id&&(t.updatedAt=Date.now(),e.onUpdate(t),e.saveAndClose&&!e.autoSave?y():s(Ne.SAVED))}function m(){s(Ne.UNSAVED),p.current&&clearTimeout(p.current),e.autoSave&&Boolean(e.id)&&(p.current=setTimeout((function(){E()}),3e3))}function y(){p.current&&clearTimeout(p.current),"function"===typeof e.onClose&&e.onClose()}return u.a.createElement("div",{className:"AppEditor"},u.a.createElement("div",{className:"AppEditorWrapper",onKeyDown:function(e){var t=e.ctrlKey,n=e.shiftKey,a=e.keyCode,r=je[a];t&&!n&&"s"===r&&(e.preventDefault(),p.current&&clearTimeout(p.current),l===Ne.UNSAVED&&E()),"esc"===r&&(e.preventDefault(),y())}},u.a.createElement("div",{className:"AppEditorCanvas","data-maximized":a},u.a.createElement(Re,{maximized:a,ref:d,onClose:e.onClose,onResize:r,defaultValue:e.title,indicatorState:l,onChange:m}),u.a.createElement(Ie,{ref:f,spellCheck:e.spellCheck,onChange:m,rawContentState:e.content}))))}!function(e){e[e.IDLE=0]="IDLE",e[e.SAVED=1]="SAVED",e[e.UNSAVED=2]="UNSAVED"}(Ne||(Ne={}));var xe=Object(f.c)((function(e){var t,n=e.editor,a=e.settings,r=e.notes,o=n.open,c=n.id,l=a.editor,i=r.currentGroupID,u=r.records;return c&&(t=u[c]),Object(C.a)({open:o,maximized:!1,autoSave:Boolean(l.autoSave),saveAndClose:Boolean(l.saveAndClose),spellCheck:Boolean(l.spellCheck),currentGroupID:i},t)}),(function(e){return{onClose:function(){return e(function(){var e=Object(g.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:H.REPLACE_ALL,payload:{open:!1,id:void 0}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSave:function(t,n){Object(f.b)((function(){e(function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(a,r){var o,c,l,i,u;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),c=o.notes,l=c.records,i=c.groups,u=i[e],t.id&&!l[t.id]){n.next=5;break}throw Error("NoteRecord with the ID ".concat(t.id," already exists."));case 5:if(u){n.next=7;break}throw Error("NoteGroup with the ID ".concat(e," is absent"));case 7:a({type:J.CREATE_RECORD,payload:Object(C.a)({},t,{parent:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n)),e(K(n.id))}))},onUpdate:function(t){return e($(t))}}}))((function(e){return u.a.createElement(u.a.Fragment,null,e.open&&Object(s.createPortal)(u.a.createElement(Te,e),document.getElementById("app-editor-root")))}));n(316),n(317),n(318);function Le(e){return u.a.createElement("header",{className:"OverlayHeader"},u.a.createElement("span",{className:"OverlayHeaderTitle"},e.title),u.a.createElement("button",{className:"OverlayHeaderButton",onClick:function(){"function"===typeof e.onClose&&e.onClose(e.id)},tabIndex:e.tabIndex},u.a.createElement(m.b,null)))}n(319);function Se(e){return u.a.createElement("div",{className:"OverlayBody"},e.children)}n(320);function Pe(e){return u.a.createElement("footer",{className:"OverlayFooter"},e.children)}n(321),n(322);var _e=Object(i.forwardRef)((function(e,t){return u.a.createElement("input",{ref:t,type:e.type,placeholder:e.placeholder,className:"FormInput",autoFocus:e.autoFocus,defaultValue:e.defaultValue,name:e.name,autoComplete:e.autoComplete})}));n(323);n(324);var Ge=new Map;Ge.set(y.DELETE_RECORD,(function(e){var t=Object(f.d)();return u.a.createElement("div",{className:"DeleteRecordOverlay"},u.a.createElement(Le,{id:e.overlayID,onClose:e.onClose,title:"Delete Note"}),u.a.createElement(Se,null,u.a.createElement("p",null,"Are you sure you want to permanently delete this note?")),u.a.createElement(Pe,null,u.a.createElement("button",{onClick:function(){Object(f.b)((function(){var n;t((n=e.id,function(){var e=Object(g.a)(O.a.mark((function e(t,a){var r,o,c,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),o=r.notes,c=o.records,l=c[n],n){e.next=5;break}throw Error("NoteRecord ID is absent.");case 5:if(l){e.next=7;break}throw Error("NoteRecord with the ID ".concat(n," is absent."));case 7:t({type:J.REMOVE_RECORD,payload:l});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),t(F(e.overlayID))}))}},"Delete Note"),u.a.createElement("button",{onClick:e.onClose},"Keep Note")))})),Ge.set(y.RENAME_RECORD,(function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.records[e.id]})),a=Object(i.useRef)(null);function r(){var r=n.title;a.current&&(r=a.current.value);var o=Object(C.a)({},n,{title:r});Object(f.b)((function(){t($(o)),t(F(e.overlayID))}))}return u.a.createElement("div",{className:"RenameRecordOverlay",onKeyDown:function(e){var t=e.keyCode;"enter"===je[t]&&(e.preventDefault(),r())}},u.a.createElement(Le,{id:e.overlayID,title:"Rename Note",onClose:e.onClose}),u.a.createElement(Se,null,u.a.createElement(_e,{ref:a,type:"text",name:"title",defaultValue:n.title,autoFocus:!0,autoComplete:"off"})),u.a.createElement(Pe,null,u.a.createElement("button",{onClick:r},"Save"),u.a.createElement("button",{onClick:e.onClose},"Cancel")))})),Ge.set(y.CREATE_GROUP,(function(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return e.notes.currentGroupID})),a=Object(f.e)((function(e){return e.notes.groups[n]})),r=Object(i.useRef)(null);function o(){var o={id:V.string.generateRandom(),title:"",children:[],updatedAt:Date.now(),type:"Folder",path:a.path.concat(a.id)};r.current&&(o.title=r.current.value),Object(f.b)((function(){t(function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(a,r){var o,c,l;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),c=o.notes,l=c.groups,l[e]){n.next=5;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 5:if(!l[t.id]){n.next=7;break}throw Error("NoteGroup with ID ".concat(t.id," already exist."));case 7:a({type:J.CREATE_GROUP,payload:Object(C.a)({},t,{targetGroupID:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(n,o)),t(F(e.overlayID))}))}return u.a.createElement("div",{className:"CreateGroupOverlay",onKeyDown:function(e){var t=e.keyCode;"enter"===je[t]&&(e.preventDefault(),o())}},u.a.createElement(Le,{id:e.overlayID,title:"Create Group",onClose:e.onClose}),u.a.createElement(Se,null,u.a.createElement(_e,{ref:r,type:"text",placeholder:"Group name",autoFocus:!0,autoComplete:"off"})),u.a.createElement(Pe,null,u.a.createElement("button",{onClick:o},"Create Group"),u.a.createElement("button",{onClick:e.onClose},"Cancel")))})),Ge.set(y.RENAME_GROUP,(function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.groups[e.id]})),a=Object(i.useRef)(null);function r(){var r=n.title;a.current&&(r=a.current.value),Object(f.b)((function(){var n,a;t((n=e.id,a={title:r},function(){var e=Object(g.a)(O.a.mark((function e(t,r){var o,c,l,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r(),c=o.notes,l=c.groups,i=l[n]){e.next=5;break}throw Error("NoteGroup with ID ".concat(n," is absent."));case 5:t({type:J.UPDATE_GROUP,payload:Object(C.a)({},i,{},a)});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),t(F(e.overlayID))}))}return u.a.createElement("div",{className:"RenameGroupOverlay",onKeyDown:function(e){var t=e.keyCode;"enter"===je[t]&&(e.preventDefault(),r())}},u.a.createElement(Le,{id:e.overlayID,title:"Rename Group",onClose:e.onClose}),u.a.createElement(Se,null,u.a.createElement(_e,{ref:a,type:"text",name:"title",defaultValue:n.title,autoFocus:!0,autoComplete:"off"})),u.a.createElement(Pe,null,u.a.createElement("button",{onClick:r},"Save"),u.a.createElement("button",{onClick:e.onClose},"Cancel")))}));var Ue=Ge;n(325);function Be(e){var t=Object(i.useRef)([]);function n(){"function"===typeof e.onClose&&e.onClose(e.overlayID)}return Object(i.useEffect)((function(){return t.current&&(t.current=V.dom.getTabbableElements(e.overlayID)),function(){t.current&&(t.current=[])}}),[e.overlayID]),u.a.createElement("div",{id:e.overlayID,className:"Overlay",onKeyDown:function(e){var a=e.keyCode,r=e.target,o=e.shiftKey,c=je[a];"esc"!==c?"tab"===c&&o?t&&r===V.array.first(t.current)&&(e.preventDefault(),V.array.last(t.current).focus()):"tab"===c&&t&&r===V.array.last(t.current)&&(e.preventDefault(),V.array.first(t.current).focus()):n()}},u.a.Children.map(e.children,(function(e){return u.a.cloneElement(e,Object(C.a)({},e.props,{onClose:n}))})))}var Ve=Object(f.c)((function(e){return{overlays:e.overlays}}),(function(e){return{onClose:function(t){return e(F(t))}}}))((function(e){return e.overlays.length?Object(s.createPortal)(u.a.createElement("div",{className:"OverlayContainer react-no-print"},V.array.mapReversed((function(t){var n=Ue.get(t.type);return n?u.a.createElement(Be,{key:t.overlayID,overlayID:t.overlayID,onClose:e.onClose},u.a.createElement(n,{overlayID:t.overlayID,id:t.id,onClose:e.onClose})):null}),e.overlays)),document.getElementById("app-overlays-root")):null}));function Me(e){return u.a.createElement("div",null,u.a.createElement("h1",null,e.title),u.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.printHTML}}))}var Fe=n(182);function He(e){return function(){var t=Object(g.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"REPLACE",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var We,ze=Object(f.c)((function(e){var t=e.print,n=e.notes.records;return{printHTML:t.reduce((function(e,t){var a=n[t];return a?e+"<h2>".concat(a.title,"</h2>")+Object(Fe.a)(Object(x.convertFromRaw)(a.content)):e}),"")}}),(function(e){return{clearPrintQueue:function(){return e(He([]))}}}))((function(e){return Object(i.useEffect)((function(){if(e.printHTML){if(document&&window){var t=document.title;document.title="Notebook",window.print(),document.title=t}"function"===typeof e.clearPrintQueue&&e.clearPrintQueue()}}),[e,e.printHTML]),u.a.createElement(u.a.Fragment,null,e.printHTML&&Object(s.createPortal)(u.a.createElement(Me,{title:e.title,printHTML:e.printHTML}),document.getElementById("print-mount")))})),Ke=n(93),Ye=n(11),qe=(n(326),n(327),n(328),{currentTabIndex:0,records:["root"]});function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return(function(){var t=Object(g.a)(O.a.mark((function t(n,a){var r,o,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),o=r.tabs,c=o.records.concat(e),n({type:We.CREATE_TAB,payload:{currentTabIndex:c.length-1,records:c,id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}function Qe(e){var t=Object(f.d)();function n(){t(Z(e.id))}function a(){t(Je(e.id))}function r(){t(M(y.RENAME_GROUP,{id:e.id}))}function o(){t(ee(e.id))}function c(){t(ne(e.id))}return u.a.createElement(Ye.b,{id:"group-menu",holdToDisplay:-1,collect:function(){return{id:e.id,index:e.index,open:n,openInNewTab:a,rename:r,remove:o,ungroup:c}},attributes:{className:"VTRow ".concat(e.selected?"selected":""," ").concat(e.className),style:Object(C.a)({},e.style,{width:e.getRowWidth()}),tabIndex:e.index,onDoubleClick:n,draggable:!0,onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(n){n.preventDefault();var a=JSON.parse(n.dataTransfer.getData("text/plain")),r=a&&a.id;e.path.includes(r)||r&&r!==e.id&&t(te(e.id,r))},onClick:function(t){"function"===typeof e.onClick&&e.onClick(t,e.id)},onKeyDown:function(n){var a=n.keyCode,r=je[a];"enter"===r&&t(Z(e.id)),"f2"===r&&t(M(y.RENAME_GROUP,{id:e.id})),"delete"===r&&t(ee(e.id))}}},u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(0)}},u.a.createElement("div",{className:"VTCellContent"},u.a.createElement(Ee.d,{className:"VTCellIcon"}),u.a.createElement("span",null,e.title))),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(1)}},u.a.createElement("span",null,e.updatedAt?function(e){var t=new Date(e),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),a=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),o=t.getHours(),c=t.getMinutes(),l=o%12,i=(l=l||12)+":"+(c<10?"0"+c:c)+" "+(o>=12?"pm":"am");return"".concat(r,"/").concat(a,"/").concat(n," ").concat(i)}(e.updatedAt):"-")),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(2)}},u.a.createElement("span",null,e.type)))}function Xe(e){var t=Object(f.d)();function n(){t(K(e.id))}function a(){t(He([e.id]))}function r(n){t(ae(e.id))}function o(){t(M(y.RENAME_RECORD,{id:e.id}))}function c(){t(M(y.DELETE_RECORD,{id:e.id}))}return u.a.createElement(Ye.b,{id:"record-menu",holdToDisplay:-1,collect:function(){return{id:e.id,index:e.index,open:n,print:a,ungroup:r,rename:o,remove:c}},attributes:{className:"VTRow FileRow ".concat(e.className),style:Object(C.a)({},e.style,{width:e.getRowWidth()}),tabIndex:e.index,onDoubleClick:n,draggable:!0,onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onClick:function(t){"function"===typeof e.onClick&&e.onClick(t,e.id)},onKeyDown:function(n){n.preventDefault();var a=n.keyCode,r=je[a];"enter"===r&&t(K(e.id)),"delete"===r&&c(),"f2"===r&&o()}}},u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(0)}},u.a.createElement("div",{className:"VTCellContent"},u.a.createElement(Ee.c,{className:"VTCellIcon"}),u.a.createElement("span",null,e.title))),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(1)}},u.a.createElement("span",null,e.updatedAt?function(e){var t=new Date(e),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),a=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),o=t.getHours(),c=t.getMinutes(),l=o%12,i=(l=l||12)+":"+(c<10?"0"+c:c)+" "+(o>=12?"pm":"am");return"".concat(r,"/").concat(a,"/").concat(n," ").concat(i)}(e.updatedAt):"-")),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(2)}},u.a.createElement("span",null,e.type)))}function Ze(e){var t=Object(f.e)((function(t){return t.notes.records[e.id]})),n=Object(f.e)((function(t){return t.notes.groups[e.id]}));return t?u.a.createElement(Xe,Object.assign({},t,{className:e.className,style:e.style,index:e.index,getRowWidth:e.getRowWidth,getColumnWidth:e.getColumnWidth})):n?u.a.createElement(Qe,Object.assign({},n,{className:e.className,style:e.style,index:e.index,getRowWidth:e.getRowWidth,getColumnWidth:e.getColumnWidth,selected:e.selected,onClick:e.onClick})):u.a.createElement("div",{className:"VTRow",style:Object(C.a)({},e.style,{width:"100%"})},u.a.createElement("div",{className:"VTCell",style:{justifyContent:"center"}},"This Folder is Empty."))}!function(e){e.CREATE_TAB="Tabs/Actions/CREATE_TAB",e.OPEN_TAB="Tabs/Actions/OPEN_TAB",e.CLOSE_TAB="Tabs/Actions/CLOSE_TAB",e.REPLACE="Tabs/Actions/REPLACE"}(We||(We={}));n(329);function $e(e){return u.a.createElement("span",null,e.length," ",1===e.length?"Item":"Items")}function et(e){return u.a.createElement("div",{className:"Ribbon"},u.a.createElement($e,{length:e.length}))}function tt(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return e.notes.currentGroupID})),a=Object(f.e)((function(e){return e.notes.groups[n].children})),r=Object(f.e)((function(e){return e.notes.groups[n].path}));function o(e){var t=e.index,n=e.style,r=e.isScrolling,o=e.data.rowProps,c=o.getRowWidth,l=o.getColumnWidth;return u.a.createElement(Ze,{id:a[t],index:t,style:n,getRowWidth:c,getColumnWidth:l,className:t%2?"VTRowEven":"VTRowOdd",isScrolling:r})}return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"NotesWrapper"},u.a.createElement(Ye.b,{id:"table-menu",holdToDisplay:-1,attributes:{onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var o=JSON.parse(e.dataTransfer.getData("text/plain")),c=o&&o.id;r.includes(c)||a.includes(c)||c&&c!==n&&t(te(n,c))}}},u.a.createElement(E.a,null,(function(e){var t=e.width,n=e.height;return u.a.createElement(Ke.b,{data:a.length?a:["empty"],width:t,height:n,rowHeight:40,headerHeight:40,minColumnWidth:30,rowRenderer:o,autoScroll:!0,listProps:{overscanCount:20,useIsScrolling:!0}},u.a.createElement(Ke.a,{label:"Name",width:240}),u.a.createElement(Ke.a,{label:"Last Modified",width:200}),u.a.createElement(Ke.a,{label:"Type",width:100}))})))),u.a.createElement(et,{length:a.length}))}n(330),n(331);function nt(e){return u.a.createElement("button",{className:"AsideButton",disabled:e.disabled,onClick:function(t){"function"===typeof e.onClick&&e.onClick(t)},"data-active":e.active},e.children||e.text)}function at(e){var t=Object(f.d)();return u.a.createElement(nt,{onClick:function(){t(Z("root"))}},u.a.createElement(de.b,null),u.a.createElement("span",null,"My Drive"))}function rt(e){return u.a.createElement(nt,null,u.a.createElement(de.h,null),u.a.createElement("span",null,"Recycle"))}var ot=Object(i.forwardRef)((function(e,t){return u.a.createElement("div",{ref:t,tabIndex:e.disabled?-1:0,className:e.className?"Summary ".concat(e.className):"Summary",onClick:function(){"function"===typeof e.onClick&&e.onClick(Boolean(e.open))},onKeyDown:function(t){if("function"===typeof e.onClick){var n=t.key;"Enter"!==n&&" "!==n||e.onClick(Boolean(e.open))}}},"function"===typeof e.children?e.children(Boolean(e.open)):e.children)}));ot.displayName="CollapseSummary";var ct=ot,lt=Object(i.forwardRef)((function(e,t){var n=Object(i.useRef)(null),a=Object(i.useMemo)((function(){return{height:0,transition:"height 300ms ease-in",overflow:"hidden"}}),[]),r=Object(i.useMemo)((function(){if("function"===typeof e.onCollapse)return e.onCollapse}),[e.onCollapse]),o=Object(i.useCallback)((function(){n.current&&"0px"===n.current.style.height&&"function"===typeof r&&r()}),[r]);return Object(i.useEffect)((function(){var t=n.current;return e.open&&t&&(t.style.height=t.scrollHeight+"px"),t&&t.addEventListener("transitionend",o),function(){t&&t.removeEventListener("transitionend",o)}}),[e.open,o]),Object(i.useImperativeHandle)(t,(function(){return{expand:function(){n.current&&(n.current.style.height=n.current.scrollHeight+"px")},collapse:function(){n.current&&(n.current.style.height=n.current.scrollHeight+"px"),setTimeout((function(){n.current&&(n.current.style.height="0px")}),0)}}})),u.a.createElement("div",{ref:n,className:e.className?"Details ".concat(e.className):"Details",style:a},e.open?"function"===typeof e.children?e.children(e.open):e.children:null)}));lt.displayName="CollapseDetails";var it=lt;function ut(e){var t=Object(i.useState)(!1),n=Object(he.a)(t,2),a=n[0],r=n[1],o=Object(i.useRef)(null),c=Object(i.useRef)(null);function l(){a?o.current&&o.current.collapse():(o.current&&o.current.expand(),r(!0))}function s(){r(!1)}return Object(i.useEffect)((function(){r(e.open)}),[e.open]),Object(i.useEffect)((function(){"boolean"===typeof e.open&&r(e.open)}),[e.open]),u.a.createElement("div",{className:e.className?"Collapse ".concat(e.className):"Collapse"},u.a.Children.map(e.children,(function(e){return e.type&&"CollapseSummary"===e.type.displayName?Object(i.cloneElement)(e,Object(C.a)({},e.props,{open:a,onClick:l,ref:c})):e.type&&"CollapseDetails"===e.type.displayName?Object(i.cloneElement)(e,Object(C.a)({},e.props,{open:a,ref:o,onCollapse:s})):e})))}function st(e){return u.a.createElement(ut,{className:"QuickAccess",open:!0},u.a.createElement(ct,null,(function(e){return u.a.createElement("h4",null,u.a.createElement(de.a,null),u.a.createElement("span",null,"Quick Access"),e?u.a.createElement(Ee.a,null):u.a.createElement(Ee.b,null))})),u.a.createElement(it,null,u.a.createElement("div",{className:"Wrapper"},u.a.createElement(at,null),u.a.createElement(rt,null))))}var dt=n(122);n(332);function ft(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.groups[e.id].title}));return u.a.createElement(nt,{style:e.style,className:"FavoriteFolder",onClick:function(){t(Z(e.id))},title:n},u.a.createElement(Ee.d,{"aria-hidden":!0}),u.a.createElement("span",null,n))}function pt(e){var t=Object(f.e)((function(e){return e.favorites})),n=t.length||1,a=40*n;return u.a.createElement(ut,{className:"Favorites"},u.a.createElement(ct,null,(function(e){return u.a.createElement("h4",null,u.a.createElement(de.g,null),u.a.createElement("span",null,"Favorites"),e?u.a.createElement(Ee.a,null):u.a.createElement(Ee.b,null))})),u.a.createElement(it,null,u.a.createElement("div",{className:"Wrapper"},u.a.createElement(dt.a,{height:a,itemCount:n,itemSize:40,width:280},(function(e){var n=e.index,a=e.style;return 0===t.length?u.a.createElement(nt,{style:a,className:"FavoriteFolder"},"No Favorites"):u.a.createElement(ft,{id:t[n]})})))))}function Et(e){return u.a.createElement("div",{className:"Aside"},u.a.createElement(st,null),u.a.createElement(pt,null))}function mt(e){var t=Object(f.d)();return u.a.createElement(Ye.a,{id:"table-menu"},u.a.createElement(Ye.c,{onClick:function(e){e.preventDefault(),t(M(y.CREATE_GROUP))}},"Create Folder"),u.a.createElement(Ye.c,{onClick:function(e){e.preventDefault(),t(K())}},"Create Note"))}function yt(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return V.array.last(e.notes.groups[t].path)}));return u.a.createElement(Ye.a,{id:"group-menu"},u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.open&&t.open()}},"Open"),u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.openInNewTab&&t.openInNewTab()}},"Open in new tab"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{disabled:!0},"Copy"),u.a.createElement(Ye.c,{disabled:!0},"Cut"),u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.rename&&t.rename()}},"Rename"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{disabled:!Boolean(n),onClick:function(e,t){e.preventDefault(),"function"===typeof t.ungroup&&t.ungroup()}},"Ungroup"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.remove&&t.remove()}},"Remove"))}function ht(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return V.array.last(e.notes.groups[t].path)}));return u.a.createElement(Ye.a,{id:"record-menu"},u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.open&&t.open()}},"Open"),u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.print&&t.print()}},"Print"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{disabled:!0},"Copy"),u.a.createElement(Ye.c,{disabled:!0},"Cut"),u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.rename&&t.rename()}},"Rename"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{disabled:!Boolean(n),onClick:function(e,t){e.preventDefault(),"function"===typeof t.ungroup&&t.ungroup()}},"Ungroup"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.remove&&t.remove()}},"Remove"))}n(333),n(334);var vt=function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.tabs.records[e.index]})),a=Object(f.e)((function(e){return e.notes.groups[n].title})),r=Object(f.e)((function(t){return t.tabs.currentTabIndex===e.index})),o=Object(f.e)((function(e){return e.tabs.records.length}));function c(){var n;t((n=e.index,function(){var e=Object(g.a)(O.a.mark((function e(t,a){var r,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),o=r.tabs,!(n<0||n>=o.records.length)){e.next=3;break}throw Error("Tab at index ".concat(n," is absent."));case 3:t({type:We.OPEN_TAB,payload:{currentTabIndex:n,id:o.records[n]}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}function l(){t(Je(n))}function i(n){var a;(n&&n.stopPropagation(),o<2)||t((a=e.index,function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,o,c,l,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!((o=r.tabs).records.length<2)){e.next=3;break}throw Error("Cannot close last tab.");case 3:if(!(a<0||a>=o.records.length)){e.next=5;break}throw Error("Tab at index ".concat(a," is absent."));case 5:(c=o.currentTabIndex)>a?c-=1:c===a&&(c=a-1)<0&&(c=0),l=V.array.removeAtIndex(a,o.records),i=l[c],t({type:We.CLOSE_TAB,payload:{currentTabIndex:c,records:l,id:i}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}function s(){var n;o<2||t((n=e.index,function(){var e=Object(g.a)(O.a.mark((function e(t,a){var r,o,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),!((o=r.tabs).records.length<2)){e.next=3;break}throw Error("Cannot close last tab.");case 3:if(!(n<0||n>=o.records.length)){e.next=5;break}throw Error("Tab at index ".concat(n," is absent."));case 5:c=[o.records[n]],t({type:We.REPLACE,payload:{currentTabIndex:0,records:c,id:c[0]}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}function d(){var n;o<2||t((n=e.index,function(){var e=Object(g.a)(O.a.mark((function e(t,a){var r,o,c,l,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),!((o=r.tabs).records.length<2)){e.next=3;break}throw Error("Cannot close last tab.");case 3:if(!(n<0||n>=o.records.length)){e.next=5;break}throw Error("Tab at index ".concat(n," is absent."));case 5:c=o.records.slice(0,n+1),(l=o.currentTabIndex)>n&&(l=n),i=c[l],t({type:We.REPLACE,payload:{currentTabIndex:l,records:c,id:i}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}return u.a.createElement(Ye.b,{renderTag:"button",id:"tab-menu",holdToDisplay:-1,attributes:{className:"Tab ".concat(r?"active":""),onClick:c,title:a,onDragOver:function(e){e.preventDefault(),c()}},collect:function(){return{duplicate:l,close:i,closeOther:s,closeAfter:d}}},u.a.createElement("span",null,a),o>1&&u.a.createElement("div",{className:"Button",onClick:i,title:"Close tab","aria-label":"Close tab"},u.a.createElement(m.b,{className:"Icon","aria-hidden":"true"})))};var bt=function(e){var t=Object(f.d)();return u.a.createElement(v,{title:"Create new tab","aria-label":"Create new tab",onClick:function(){t(Je())}},u.a.createElement(de.f,null))};var Ot=function(){var e=Object(f.e)((function(e){return e.tabs.records.length}));return u.a.createElement("div",{className:"FolderTabs"},u.a.Children.map(Array.from({length:e}),(function(e,t){return u.a.createElement(vt,{index:t})})),u.a.createElement(bt,null))};function Ct(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return e.tabs.records.length}));return u.a.createElement(Ye.a,{id:"tab-menu"},u.a.createElement(Ye.c,{onClick:function(){t(Je())}},"New Tab"),u.a.createElement(Ye.c,{onClick:function(e,t){"function"===typeof t.duplicate&&t.duplicate()}},"Duplicate"),u.a.createElement(Ye.c,{divider:!0}),u.a.createElement(Ye.c,{disabled:n<2,onClick:function(e,t){"function"===typeof t.close&&t.close()}},"Close Tab"),u.a.createElement(Ye.c,{disabled:n<2,onClick:function(e,t){"function"===typeof t.closeOther&&t.closeOther()}},"Close other tabs"),u.a.createElement(Ye.c,{disabled:n<2,onClick:function(e,t){"function"===typeof t.closeAfter&&t.closeAfter()}},"Close tabs to the right"))}var gt=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"App react-no-print"},u.a.createElement(Q,null),u.a.createElement(ye,null),u.a.createElement(xe,null),u.a.createElement("div",{className:"AppPanel"},u.a.createElement(E.a,null,(function(e){var t=e.width,n=e.height;return u.a.createElement(p.Container,{className:"ResizeContainer",style:{width:t,height:n}},u.a.createElement(p.Section,{className:"ResizeSection",defaultSize:300,maxSize:300},u.a.createElement(Et,null)),u.a.createElement(p.Bar,{size:5,className:"ResizerBar"}),u.a.createElement(p.Section,null,u.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},u.a.createElement(tt,null),u.a.createElement(Ot,null))))}))),u.a.createElement(Ve,null),u.a.createElement(mt,null),u.a.createElement(yt,null),u.a.createElement(ht,null),u.a.createElement(Ct,null)),u.a.createElement(ze,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt,Dt=n(45),jt=n(180),At=n(181),wt={instruction:{id:"instruction",parent:"ostalo",title:"INSTRUCTIONS",content:{blocks:[{key:"8ofdk",text:"EDITOR",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:6,style:"BOLD"}],entityRanges:[],data:{}},{key:"aemmj",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"35hd4",text:"In order to save a note, use shortcut ctrl + s.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2dqfh",text:"To close editor, you can simply use escape key. (ESC)",type:"unstyled",depth:0,inlineStyleRanges:[{offset:48,length:5,style:"ITALIC"}],entityRanges:[],data:{}},{key:"e5mv2",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a71vr",text:"Available shortcuts:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"dhmf5",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8jlev",text:"1. ctrl + b - Bold",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:4,style:"BOLD"}],entityRanges:[],data:{}},{key:"5ikho",text:"2. ctrl + i  - Italic",type:"unstyled",depth:0,inlineStyleRanges:[{offset:15,length:6,style:"ITALIC"}],entityRanges:[],data:{}},{key:"eacar",text:"3. ctrl + u - Underline",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:9,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"2h4vl",text:"4. ctrl + shift + s - Strikethrough",type:"unstyled",depth:0,inlineStyleRanges:[{offset:22,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"cefcc",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"alrtq",text:"NOTES",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:5,style:"BOLD"}],entityRanges:[],data:{}},{key:"cgvgp",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1jo4c",text:"- To move a note or a group into the another group, simply drag that note over the target group and drop.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bqsbk",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cvojm",text:"- To ungroup certain note or group from current group, use right click > ungroup option.",type:"unstyled",depth:0,inlineStyleRanges:[{offset:59,length:11,style:"BOLD"},{offset:73,length:8,style:"BOLD"}],entityRanges:[],data:{}}],entityMap:{}},type:"Note",createdAt:Date.now(),updatedAt:Date.now()}};!function(e){e.REPLACE="Notes/Groups/Actions/REPLACE",e.REPLACE_ALL="Notes/Groups/Actions/REPLACE_ALL"}(Rt||(Rt={}));var kt=function(){for(var e=Date.now(),t={root:{id:"root",path:[],title:"My Drive",updatedAt:e,type:"Folder",children:["fakultet"]},fakultet:{id:"fakultet",path:["root"],title:"Fakultet",updatedAt:e,type:"Folder",children:["ostalo"]},ostalo:{id:"ostalo",path:["root","fakultet"],title:"Ostalo",updatedAt:e,type:"Folder",children:["instruction"]}},n=0;n<0;n++){var a=V.string.generateRandom(6);t[a]={id:a,path:["root"],title:a,updatedAt:e,type:"Folder",children:[]},t.root.children.push(a)}return t}();var Nt=Object(Dt.combineReducers)({currentGroupID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.OPEN_GROUP:return t.payload;case We.CREATE_TAB:case We.OPEN_TAB:case We.CLOSE_TAB:return t.payload.id;default:return e}},groups:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J.CREATE_RECORD:return Object(C.a)({},n,Object(X.a)({},a.payload.parent,Object(C.a)({},n[a.payload.parent],{children:n[a.payload.parent].children.concat(a.payload.id)})));case J.REMOVE_RECORD:return Object(C.a)({},n,Object(X.a)({},a.payload.parent,Object(C.a)({},n[a.payload.parent],{children:n[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case J.CREATE_GROUP:return Object(C.a)({},n,(e={},Object(X.a)(e,a.payload.targetGroupID,Object(C.a)({},n[a.payload.targetGroupID],{children:n[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(X.a)(e,a.payload.id,Object(C.a)({},a.payload)),e));case J.UPDATE_GROUP:return Object(C.a)({},n,Object(X.a)({},a.payload.id,a.payload));case J.REMOVE_GROUP:return Object(C.a)({},V.object.deleteProperty(a.payload.id,n),Object(X.a)({},a.payload.parentGroupId,Object(C.a)({},n[a.payload.parentGroupId],{children:n[a.payload.parentGroupId].children.filter((function(e){return e!==a.payload.id}))})));case J.MOVE_GROUP:return Object(C.a)({},a.payload);case J.MOVE_RECORD:return Object(C.a)({},n,(t={},Object(X.a)(t,a.payload.targetGroupID,Object(C.a)({},n[a.payload.targetGroupID],{children:n[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(X.a)(t,a.payload.parent,Object(C.a)({},n[a.payload.parent],{children:n[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),t));case J.REORDER:return Object(C.a)({},n,Object(X.a)({},a.payload.id,Object(C.a)({},a.payload)));case fe.ADD:return Object(C.a)({},n,Object(X.a)({},a.payload.id,Object(C.a)({},n[a.payload.id],{favorite:!0})));case fe.REMOVE:return Object(C.a)({},n,Object(X.a)({},a.payload.id,Object(C.a)({},n[a.payload.id],{favorite:!1})));default:return n}},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.CREATE_RECORD:return Object(C.a)({},e,Object(X.a)({},t.payload.id,Object(C.a)({},t.payload)));case J.REMOVE_RECORD:return V.object.deleteProperty(t.payload.id,e);case J.UPDATE_RECORD:return Object(C.a)({},e,Object(X.a)({},t.payload.id,Object(C.a)({},e[t.payload.id],{},t.payload)));case J.MOVE_RECORD:return Object(C.a)({},e,Object(X.a)({},t.payload.id,Object(C.a)({},e[t.payload.id],{parent:t.payload.targetGroupID})));default:return e}}});var It,Tt={autoSave:!0,saveAndClose:!1,spellCheck:!1};!function(e){e.REPLACE="Settings/Editor/Actions/REPLACE",e.REPLACE_ALL="Settings/Editor/Actions/REPLACE_ALL"}(It||(It={}));var xt,Lt={softDelete:!0};!function(e){e.REPLACE="Settings/Notes/Actions/REPLACE",e.REPLACE_ALL="Settings/Notes/Actions/REPLACE_ALL"}(xt||(xt={}));var St=Object(Dt.combineReducers)({editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It.REPLACE:return Object(C.a)({},e,{},t.payload);case It.REPLACE_ALL:return Object(C.a)({},t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt.REPLACE:return Object(C.a)({},e,{},t.payload);case xt.REPLACE_ALL:return Object(C.a)({},t.payload);default:return e}}}),Pt=n(123);var _t=Object(Dt.combineReducers)({notes:Nt,tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We.CREATE_TAB:return{currentTabIndex:t.payload.currentTabIndex,records:t.payload.records};case We.OPEN_TAB:return Object(C.a)({},e,{currentTabIndex:t.payload.currentTabIndex});case We.CLOSE_TAB:return{currentTabIndex:t.payload.currentTabIndex,records:t.payload.records};case We.REPLACE:return{currentTabIndex:t.payload.currentTabIndex,records:t.payload.records.slice()};case J.OPEN_GROUP:return Object(C.a)({},e,{records:V.array.replaceAtIndex(e.currentTabIndex,e.records,t.payload)});case J.REMOVE_GROUP:return Object(C.a)({},e,{records:t.payload.records});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe.ADD:return e.concat(t.payload.id);case fe.REMOVE:case J.REMOVE_GROUP:return e.filter((function(e){return e!==t.payload.id}));default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.REPLACE:return Object(C.a)({},e,{},t.payload);case H.REPLACE_ALL:return Object(C.a)({},t.payload);default:return e}},settings:St,overlays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.OPEN_OVERLAY:return[].concat(Object(Pt.a)(e),[t.payload]);case h.CLOSE_OVERLAY:return e.filter((function(e){return e.overlayID!==t.payload}));default:return e}},print:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE":return Object(Pt.a)(t.payload.slice());default:return e}}}),Gt=[jt.a],Ut=Object(Dt.createStore)(_t,Object(At.composeWithDevTools)(Dt.applyMiddleware.apply(void 0,Gt)));d.a.render(u.a.createElement(f.a,{store:Ut},u.a.createElement(gt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.15d6c40a.chunk.js.map