{"version":3,"sources":["components/UI/Button/index.ts","redux/overlays/types.ts","components/UI/Button/Button.tsx","utils/array.ts","utils/dom.ts","utils/editor.ts","utils/object.ts","utils/string.ts","utils/index.ts","redux/overlays/actions.ts","components/AppHeader/components/CreateNewFolderButton/index.ts","redux/editor/types.ts","components/AppHeader/components/CreateNewFolderButton/CreateNewFolderButton.tsx","redux/editor/actions.ts","components/AppHeader/components/CreateNewFileButton/index.ts","components/AppHeader/components/CreateNewFileButton/CreateNewFileButton.tsx","components/AppHeader/components/AppHeaderMenu/index.ts","components/AppHeader/components/AppHeaderMenu/AppHeaderMenu.tsx","components/AppHeader/index.ts","redux/notes/types.ts","components/AppHeader/AppHeader.tsx","redux/notes/actions.ts","components/Navigator/components/HomeButton/index.ts","components/Navigator/components/HomeButton/HomeButton.tsx","components/Navigator/components/BackButton/index.ts","components/Navigator/components/BackButton/BackButton.tsx","components/UI/Breadcrumb/Breadcrumb.tsx","components/UI/Breadcrumb/components/BreadcrumbElement/BreadcrumbElement.tsx","components/Navigator/components/AddressBar/components/Step/index.ts","components/Navigator/components/AddressBar/components/Step/Step.tsx","components/Navigator/components/AddressBar/components/RootStep/RootStep.tsx","components/Navigator/components/AddressBar/index.ts","components/Navigator/components/AddressBar/AddressBar.tsx","components/Navigator/components/HelpButton/index.ts","redux/favorites/types.ts","components/Navigator/components/HelpButton/HelpButton.tsx","components/Navigator/components/FavoriteButton/FavoriteButton.tsx","redux/favorites/actions.ts","components/Navigator/index.ts","components/Navigator/Navigator.tsx","components/AppEditor/components/ResizeButton/ResizeButton.tsx","components/AppEditor/components/CloseButton/CloseButton.tsx","components/AppEditor/components/NameInput/NameInput.tsx","components/AppEditor/components/ChangeIndicator/ChangeIndicator.tsx","components/AppEditor/layout/Header/Header.tsx","components/AppEditor/layout/Editor/Commands.ts","components/AppEditor/layout/Editor/Shortcuts.ts","components/AppEditor/components/EditorControlButton/EditorControlButton.tsx","components/AppEditor/components/EditorControls/EditorControls.tsx","components/AppEditor/layout/Editor/Editor.tsx","components/AppEditor/components/ChangeIndicator/ChangeIndicatorProps.ts","components/AppEditor/AppEditor.tsx","components/AppEditor/index.tsx","components/Overlay/template/OverlayHeader/OverlayHeader.tsx","components/Overlay/template/OverlayBody/OverlayBody.tsx","components/Overlay/template/OverlayFooter/OverlayFooter.tsx","components/UI/FormInput/FormInput.tsx","components/Overlay/OverlayMap.ts","components/Overlay/components/DeleteRecordOverlay/DeleteRecordOverlay.tsx","components/Overlay/components/RenameRecordOverlay/RenameRecordOverlay.tsx","components/Overlay/components/CreateGroupOverlay/CreateGroupOverlay.tsx","components/Overlay/components/RenameGroupOverlay/RenameGroupOverlay.tsx","components/Overlay/Overlay.tsx","components/Overlay/index.tsx","components/RecordPrint/RecordPrint.tsx","redux/print/actions.ts","components/RecordPrint/index.tsx","redux/tabs/types.ts","redux/tabs/actions.ts","components/NotesTable/components/Group/Group.tsx","components/NotesTable/components/Record/Record.tsx","components/NotesTable/components/NoteRow/NoteRow.tsx","components/NotesTable/components/Ribbon/components/ItemCounter/ItemCounter.tsx","components/NotesTable/components/Ribbon/Ribbon.tsx","components/NotesTable/NotesTable.tsx","components/Aside/components/Button/AsideButton.tsx","components/Aside/components/HomeButton/HomeButton.tsx","components/Aside/components/RecycleButton/RecycleButton.tsx","components/UI/Collapse/components/Summary/Summary.tsx","components/UI/Collapse/components/Details/Details.tsx","components/UI/Collapse/index.tsx","components/Aside/components/QuickAccess/QuickAccess.tsx","components/Aside/components/Favorites/components/Favorite/FavoriteFolder.tsx","components/Aside/components/Favorites/Favorites.tsx","components/Aside/Aside.tsx","components/ContextMenu/TableMenu/TableMenu.tsx","components/ContextMenu/FolderMenu/FolderMenu.tsx","components/ContextMenu/FileMenu/FileMenu.tsx","components/FolderTabs/components/Tab/index.ts","components/FolderTabs/components/Tab/Tab.tsx","components/FolderTabs/components/NewTabButton/index.ts","components/FolderTabs/components/NewTabButton/NewTabButton.tsx","components/FolderTabs/index.ts","components/FolderTabs/FolderTabs.tsx","components/ContextMenu/TabMenu/TabMenu.tsx","App.tsx","serviceWorker.ts","redux/notes/groups/types.ts","redux/notes/records/types.ts","data/instructionsContentState.ts","redux/notes/reducers.ts","redux/notes/group/reducer.ts","redux/notes/groups/reducer.ts","redux/notes/records/reducer.ts","redux/settings/editor/types.ts","redux/settings/notes/types.ts","redux/settings/reducers.ts","redux/settings/editor/reducer.ts","redux/settings/notes/reducer.ts","redux/reducers.ts","redux/tabs/reducer.ts","redux/favorites/reducer.ts","redux/editor/reducer.ts","redux/overlays/reducer.ts","redux/print/reducer.ts","redux/store.ts","index.tsx"],"names":["Button","OverlayType","OverlaysActions","props","classnames","className","join","children","first","array","length","last","chunk","size","Error","result","Array","from","Math","ceil","index","i","j","push","swap","sourceIndex","targetIndex","output","source","target","mapReversed","callback","map","replaceAtIndex","newValue","slice","concat","removeAtIndex","getTabbableElements","parentNode","tabbableElements","document","getElementById","querySelectorAll","clear","editorState","selection","getSelection","contentState","getCurrentContent","unstyledContentState","getCurrentInlineStyle","reduce","state","style","Modifier","removeInlineStyle","EditorState","setBlockType","truncate","characterCount","blocks","getBlockMap","truncatedBlocks","count","isTruncated","forEach","block","getLength","truncatedText","getText","ContentState","createFromText","getFirstBlock","createFromBlockArray","deleteProperty","key","generateRandom","characters","randomIndex","floor","random","charAt","isString","value","dom","editor","object","string","showOverlay","type","dispatch","getState","a","OPEN_OVERLAY","payload","overlayID","utils","closeOverlay","CLOSE_OVERLAY","CreateNewFolderButton","NoteEditorStateActions","useDispatch","label","onClick","CREATE_GROUP","title","aria-label","aria-hidden","NoteEditorDefaultState","open","id","undefined","openEditor","REPLACE","CreateNewFileButton","AppHeaderMenu","AppHeader","NotesActions","openGroup","targetGroupID","OPEN_GROUP","updateRecord","changedRecord","notes","records","record","parent","UPDATE_RECORD","removeGroup","tabs","groups","group","newRecords","folderID","path","REMOVE_GROUP","parentGroupId","moveToGroup","targetGroup","parentFolderID","newFolderTree","filter","_id","queue","processQueue","pop","parentFolder","childFolder","MOVE_GROUP","MOVE_RECORD","ungroupGroup","currentGroupID","currentGroup","ungroupRecord","HomeButton","BackButton","currentGroupId","useSelector","disabled","Boolean","Breadcrumb","breadcrumb","useRef","breadcrumbElements","firstVisibleIndex","hiddenWidth","resize","useCallback","elementOverflow","current","element","offsetWidth","getMarginRight","getComputedStyle","hideElement","visibleWidth","width","clientWidth","showElement","scrollWidth","window","marginRight","parseFloat","classList","remove","add","useEffect","getElementsByClassName","addEventListener","removeEventListener","ref","BreadcrumbElement","Step","tabIndex","role","RootStep","AddressBar","folderId","HelpButton","FavoriteActions","FavoriteButton","currentFolderID","isFavorite","favorite","REMOVE","ADD","addToFavorites","Navigator","data-open","ResizeButton","event","maximized","CloseButton","forwardRef","inputReference","useImperativeHandle","getValue","placeholder","defaultValue","onChange","autoFocus","ChangeIndicator","data-state","EditorCommand","indicatorState","onResize","onClose","handleKeyCommands","updateEditorState","command","BOLD","RichUtils","toggleInlineStyle","ITALIC","UNDERLINE","STRIKETHROUGH","UNDO","undo","REDO","redo","SAVE","CLEAR","KeycodeMap","9","13","27","32","46","66","67","73","83","85","87","97","113","keyBindingFunction","isControlKey","ctrlKey","isShiftKey","shiftKey","keyCode","getDefaultKeyBinding","EditorControlButton","onMouseDown","data-active","active","EditorControls","handleControlButtonClick","preventDefault","inlineStyles","has","ChangeIndicatorState","useState","rawContentState","createWithContent","convertFromRaw","createEmpty","setEditorState","draftEditorReference","newEditorState","equals","focusEditor","focus","blurEditor","blur","getPlainText","getRawDraftContentState","convertToRaw","Draft","keyBindingFn","handleKeyCommand","spellCheck","AppEditor","setMaximized","IDLE","setIndicatorState","nameInputReference","editorReference","saveTimeoutReference","save","content","entityMap","createdAt","Date","now","onSave","saveAndClose","autoSave","closeEditor","SAVED","onUpdate","updatedAt","handleDetectedChange","UNSAVED","clearTimeout","setTimeout","onKeyDown","data-maximized","connect","settings","editorSettings","REPLACE_ALL","batch","CREATE_RECORD","createRecord","createPortal","OverlayHeader","OverlayBody","OverlayFooter","name","autoComplete","OverlayMap","Map","set","DELETE_RECORD","recordID","REMOVE_RECORD","RENAME_RECORD","titleReference","updatedRecord","nameReference","create","createNewGroup","RENAME_GROUP","updatedAttributes","UPDATE_GROUP","Overlay","overlayTabElements","close","React","Children","child","cloneElement","overlays","overlay","OverlayComponent","get","RecordPrint","dangerouslySetInnerHTML","__html","printHTML","queuePrintRecords","ids","TabActions","print","html","stateToHTML","clearPrintQueue","titleBeforePrinting","DEFAULT_TAB_STATE","currentTabIndex","createNewTab","CREATE_TAB","Group","openInNewTab","rename","ungroup","holdToDisplay","collect","attributes","selected","getRowWidth","onDoubleClick","draggable","onDragOver","onDragStart","dataTransfer","setData","JSON","stringify","onDrop","data","parse","getData","floatingID","includes","getColumnWidth","UNIX_timestamp","d","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","hours","getHours","minutes","getMinutes","HH","strTime","timeConverter","Record","NoteRow","justifyContent","ItemCounter","Ribbon","NotesTable","rowRenderer","isScrolling","rowProps","height","rowHeight","headerHeight","minColumnWidth","autoScroll","listProps","overscanCount","useIsScrolling","AsideButton","text","RecycleButton","Summary","displayName","Details","details","useMemo","transition","overflow","onCollapse","onTransitionEnd","_details","scrollHeight","expand","collapse","Collapse","setOpen","summary","toggleOpenState","QuickAccess","expanded","FavoriteFolder","Favorites","favorites","itemCount","itemSize","Aside","TableMenu","FolderMenu","parentGroupID","divider","FileMenu","Tab","OPEN_TAB","duplicate","stopPropagation","CLOSE_TAB","closeOther","closeAfter","renderTag","NewTabButton","FolderTabs","_","TabMenu","App","defaultSize","maxSize","display","flexDirection","location","hostname","match","NotesGroupsActions","DEFAULT_RECORDS_STATE","instruction","depth","inlineStyleRanges","offset","entityRanges","DEFAULT_NOTES_GROUPS_STATE","root","fakultet","ostalo","combineReducers","action","REORDER","EditorSettingsActions","EditorSettingsDefaultState","NotesSettingsActions","NotesSettingsDefaultState","softDelete","notesReducers","settingsReducers","middlewares","thunk","createStore","appReducers","composeWithDevTools","applyMiddleware","ReactDOM","render","store","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.15d6c40a.chunk.js","sourcesContent":["import Button from \"./Button\";\n\nexport default Button;\n","import { NoteRecordID } from \"../notes/records/types\";\nimport { NoteGroupID } from \"../notes/groups/types\";\n\nexport enum OverlayType {\n  DELETE_RECORD,\n  RENAME_RECORD,\n  CREATE_GROUP,\n  RENAME_GROUP\n}\n\nexport type OverlayID = string;\n\nexport interface Overlay {\n  overlayID: OverlayID;\n  type: OverlayType;\n\n  id?: NoteRecordID | NoteGroupID;\n}\n\nexport type OverlayState = Overlay[];\n\nexport enum OverlaysActions {\n  OPEN_OVERLAY = \"Overlays/Actions/OPEN_OVERLAY\",\n  CLOSE_OVERLAY = \"Overlays/Actions/CLOSE_OVERLAY\"\n}\n","import React from \"react\";\n\nimport \"./Button.css\";\n\nimport { ButtonProps } from \"./ButtonProps\";\n\nexport default function Button(props: ButtonProps) {\n  const classnames = [\"Button\", props.className];\n\n  return (\n    <button {...props} className={classnames.join(\"\")}>\n      {props.children}\n    </button>\n  );\n}\n","type MapCallbackFunction = (element: any, index: number, array: any[]) => void;\n\nexport function first(array: any[] = []): any {\n  if (!array || array.length <= 0) {\n    return undefined;\n  }\n\n  return array[0];\n}\n\nexport function last(array: any[] = []): any {\n  if (!array || array.length <= 0) {\n    return undefined;\n  }\n\n  return array[array.length - 1];\n}\n\nexport function chunk(array: any[] = [], size: number) {\n  if (size < 1) {\n    throw Error(\"Chunk size must be greater than one.\");\n  }\n\n  // const result = Array(, () => []);\n  const result: any[][] = Array.from(\n    { length: Math.ceil(array.length / size) },\n    () => []\n  );\n  let index = 0;\n\n  for (let i = 0; i < result.length; i++) {\n    const chunk = result[i];\n\n    for (let j = 0; j < size; j++) {\n      if (typeof array[index] !== \"undefined\") {\n        chunk.push(array[index++]);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function swap(\n  sourceIndex: number,\n  targetIndex: number,\n  array: any[] = []\n) {\n  if (sourceIndex < 0 || targetIndex < 0) {\n    throw Error(\"Swap indexes must be greater than or equal to 0.\");\n  }\n\n  if (sourceIndex >= array.length || targetIndex >= array.length) {\n    throw Error(\"Swap indexes must be less than the size of array.\");\n  }\n\n  const output = Array(array.length);\n\n  const source = array[targetIndex];\n  const target = array[sourceIndex];\n\n  for (let i = 0; i < array.length; i++) {\n    if (i === sourceIndex) {\n      output[i] = source;\n      continue;\n    }\n\n    if (i === targetIndex) {\n      output[i] = target;\n      continue;\n    }\n\n    output[i] = array[i];\n  }\n\n  return output;\n}\n\nexport function mapReversed(callback: MapCallbackFunction, array: any = []) {\n  const output = Array(array.length);\n\n  for (let i = array.length - 1; i > -1; i--) {\n    output[array.length - i - 1] = callback(array[i], i, array);\n  }\n\n  return output;\n}\n\nexport function map(callback: MapCallbackFunction, array: any = []) {\n  const output = Array(array.length);\n\n  for (let i = 0; i < array.length; i++) {\n    output[i] = callback(array[i], i, array);\n  }\n\n  return output;\n}\n\nexport function replaceAtIndex(index: number, array: any[], newValue: any) {\n  return array.slice(0, index).concat(newValue, array.slice(index + 1));\n}\n\nexport function removeAtIndex(index: number, array: any[]) {\n  return array.slice(0, index).concat(array.slice(index + 1));\n}\n","export function getTabbableElements(parentNode: HTMLElement | string) {\n  const tabbableElements = [\n    \"a[href]\",\n    \"area[href]\",\n    \"input:not([disabled])\",\n    \"select:not([disabled])\",\n    \"textarea:not([disabled])\",\n    \"button:not([disabled])\",\n    \"[contenteditable]\",\n    '[tabindex]:not([tabindex=\"-1\"])',\n    \"audio[controls]\",\n    \"video[controls]\"\n  ];\n\n  if (parentNode && document) {\n    if (typeof parentNode === \"string\") {\n      return document\n        .getElementById(parentNode)\n        ?.querySelectorAll(tabbableElements.join(\",\"));\n    }\n\n    return parentNode.querySelectorAll(tabbableElements.join(\",\"));\n  }\n}\n","import { EditorState, Modifier, ContentState, ContentBlock } from \"draft-js\";\n\nexport function clear(editorState: EditorState): EditorState {\n  const selection = editorState.getSelection();\n  const contentState = editorState.getCurrentContent();\n  const styles = editorState.getCurrentInlineStyle();\n\n  const unstyledContentState = styles.reduce((state, style) => {\n    return Modifier.removeInlineStyle(\n      state as ContentState,\n      selection,\n      style as string\n    );\n  }, contentState);\n\n  return EditorState.push(\n    editorState,\n    Modifier.setBlockType(unstyledContentState, selection, \"unstyled\"),\n    \"change-block-type\"\n  );\n}\n\nexport function truncate(\n  contentState: ContentState,\n  characterCount: number\n): ContentState {\n  const blocks = contentState.getBlockMap();\n  const truncatedBlocks: ContentBlock[] = [];\n\n  let count = 0;\n  let isTruncated = false;\n\n  blocks.forEach(block => {\n    if (!isTruncated && block) {\n      const length = block.getLength();\n      if (count + length > characterCount) {\n        isTruncated = true;\n        const truncatedText = block.getText().slice(0, characterCount - count);\n        const state = ContentState.createFromText(`${truncatedText}...`);\n        truncatedBlocks.push(state.getFirstBlock());\n      } else {\n        truncatedBlocks.push(block);\n      }\n      count += length + 1;\n    }\n  });\n\n  if (isTruncated) {\n    return ContentState.createFromBlockArray(truncatedBlocks);\n  }\n\n  return contentState;\n}\n","// eslint-disable-next-line @typescript-eslint/no-use-before-define\nexport const deleteProperty = (key: string, { [key]: _, ...newObj }) => newObj;\n","export function generateRandom(length: number = 16): string {\n  let output = \"\";\n\n  if (length <= 0) {\n    return output;\n  }\n\n  const characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n  while (output.length < length) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    output += characters.charAt(randomIndex);\n  }\n\n  return output;\n}\n\nexport function isString(value: any): boolean {\n  return typeof value === \"string\";\n}\n","import * as array from \"./array\";\nimport * as dom from \"./dom\";\nimport * as editor from \"./editor\";\nimport * as object from \"./object\";\nimport * as string from \"./string\";\n\nexport default {\n  array,\n  dom,\n  editor,\n  object,\n  string\n};\n","import { IDispatch, AppState } from \"../types\";\nimport { OverlaysActions, OverlayType, OverlayID } from \"./types\";\nimport utils from \"../../utils\";\n\nexport function showOverlay(type: OverlayType, props?: any) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: OverlaysActions.OPEN_OVERLAY,\n      payload: {\n        ...props,\n        overlayID: utils.string.generateRandom(3),\n        type\n      }\n    });\n  };\n}\n\nexport function closeOverlay(overlayID: OverlayID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: OverlaysActions.CLOSE_OVERLAY,\n      payload: overlayID\n    });\n  };\n}\n","import CreateNewFolderButton from \"./CreateNewFolderButton\";\n\nexport default CreateNewFolderButton;\n","export type NoteEditorState = {\n  open: boolean;\n  id?: string;\n};\n\nexport const NoteEditorDefaultState = {\n  open: false,\n  id: undefined\n};\n\nexport enum NoteEditorStateActions {\n  REPLACE = \"Editor/Actions/REPLACE\",\n  REPLACE_ALL = \"Editor/Actions/REPLACE_ALL\"\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { MdCreateNewFolder } from \"react-icons/md\";\n\nimport Button from \"../../../UI/Button\";\nimport { showOverlay } from \"../../../../redux/overlays/actions\";\nimport { OverlayType } from \"../../../../redux/overlays/types\";\n\nexport default function CreateNewFolderButton() {\n  const dispatch = useDispatch();\n\n  const label = \"Create new folder\";\n\n  function onClick() {\n    dispatch(showOverlay(OverlayType.CREATE_GROUP));\n  }\n\n  return (\n    <Button onClick={onClick} title={label} aria-label={label}>\n      <MdCreateNewFolder aria-hidden={true} />\n    </Button>\n  );\n}\n","import { IDispatch, AppState } from \"../types\";\nimport { NoteEditorStateActions } from \"./types\";\nimport { NoteRecordID } from \"../notes/records/types\";\n\nexport function closeEditor() {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: NoteEditorStateActions.REPLACE_ALL,\n      payload: {\n        open: false,\n        id: undefined\n      }\n    });\n  };\n}\n\nexport function openEditor(id?: NoteRecordID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: NoteEditorStateActions.REPLACE,\n      payload: {\n        open: true,\n        id\n      }\n    });\n  };\n}\n","import CreateNewFileButton from \"./CreateNewFileButton\";\n\nexport default CreateNewFileButton;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { openEditor } from \"../../../../redux/editor/actions\";\nimport Button from \"../../../UI/Button\";\nimport { MdNoteAdd } from \"react-icons/md\";\n\nexport default function CreateNewFileButton() {\n  const dispatch = useDispatch();\n\n  const label = \"Create new note\";\n\n  function onClick() {\n    dispatch(openEditor());\n  }\n\n  return (\n    <Button onClick={onClick} title={label} aria-label={label}>\n      <MdNoteAdd aria-hidden={true} />\n    </Button>\n  );\n}\n","import AppHeaderMenu from \"./AppHeaderMenu\";\n\nexport default AppHeaderMenu;\n","import React from \"react\";\n\nimport \"./AppHeaderMenu.css\";\n\nimport AppHeaderMenuProps from \"./AppHeaderMenuProps\";\nimport CreateNewFolderButton from \"../CreateNewFolderButton\";\nimport CreateNewFileButton from \"../CreateNewFileButton\";\n\nexport default function AppHeaderMenu(props: AppHeaderMenuProps) {\n  return (\n    <div className=\"AppHeaderMenu\">\n      <CreateNewFolderButton />\n      <CreateNewFileButton />\n    </div>\n  );\n}\n","import AppHeader from \"./AppHeader\";\n\nexport default AppHeader;\n","import { NotesRecords } from \"./records/types\";\nimport { NotesGroups, NoteGroupID } from \"./groups/types\";\n\nexport type NotesState = {\n  currentGroupID: NoteGroupID;\n  groups: NotesGroups;\n  records: NotesRecords;\n};\n\nexport enum NotesActions {\n  OPEN_GROUP = \"Notes/Actions/Group/OPEN_GROUP\",\n  CREATE_RECORD = \"Notes/Actions/CREATE_RECORD\",\n  REMOVE_RECORD = \"Notes/Actions/REMOVE_RECORD\",\n  UPDATE_RECORD = \"Notes/Actions/UPDATE_RECORD\",\n  CREATE_GROUP = \"Notes/Actions/CREATE_GROUP\",\n  UPDATE_GROUP = \"Notes/Actions/UPDATE_GROUP\",\n  REMOVE_GROUP = \"Notes/Actions/REMOVE_GROUP\",\n  MOVE_GROUP = \"Notes/Actions/MOVE_GROUP\",\n  MOVE_RECORD = \"Notes/Actions/MOVE_RECORD\",\n  REORDER = \"Notes/Actions/REORDER\"\n}\n","import React from \"react\";\n\nimport \"./AppHeader.css\";\n\nimport AppHeaderProps from \"./AppHeaderProps\";\nimport AppHeaderMenu from \"./components/AppHeaderMenu\";\n\nexport default function AppHeader(props: AppHeaderProps) {\n  return (\n    <header id=\"AppHeader\" className=\"AppHeader\">\n      <h1 className=\"AppHeader__title\">Notebook</h1>\n      <AppHeaderMenu />\n    </header>\n  );\n}\n","import { NoteGroupID, NoteGroup } from \"./groups/types\";\nimport { IDispatch, AppState } from \"../types\";\nimport { NotesActions } from \"./types\";\nimport { NoteRecord, NoteRecordID } from \"./records/types\";\nimport utils from \"../../utils\";\n\n/**\n * Navigate to the group.\n *\n * @param targetGroupID A group id which should be open.\n */\nexport function openGroup(targetGroupID: NoteGroupID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: NotesActions.OPEN_GROUP,\n      payload: targetGroupID\n    });\n  };\n}\n\n/**\n * Navigate to the parent group.\n *\n * @param sourceGroupID A group id whos parent should be opened.\n */\nexport function openParentGroup(sourceGroupID: NoteGroupID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { groups } = notes;\n\n    const group = groups[sourceGroupID];\n\n    if (group && group.path && group.path.length > 0) {\n      dispatch({\n        type: NotesActions.OPEN_GROUP,\n        payload: utils.array.last(group.path)\n      });\n    }\n  };\n}\n\n/**\n * Navigate to the root group.\n */\nexport function openRootGroup() {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: NotesActions.OPEN_GROUP,\n      payload: \"root\"\n    });\n  };\n}\n\n/**\n * Insert newly created record in the redux state.\n *\n * @param targetGroupID Group in which new record should be put.\n * @param record NoteRecord object\n */\nexport function createRecord(targetGroupID: NoteGroupID, record: NoteRecord) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { records, groups } = notes;\n    const group = groups[targetGroupID];\n\n    if (!record.id || records[record.id]) {\n      throw Error(`NoteRecord with the ID ${record.id} already exists.`);\n    }\n\n    if (!group) {\n      throw Error(`NoteGroup with the ID ${targetGroupID} is absent`);\n    }\n\n    dispatch({\n      type: NotesActions.CREATE_RECORD,\n      payload: {\n        ...record,\n        parent: targetGroupID\n      }\n    });\n  };\n}\n\n/**\n * Remove existing record.\n *\n * @param recordID Record id to remove.\n */\nexport function removeRecord(recordID: NoteRecordID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { records } = notes;\n    const record = records[recordID];\n\n    if (!recordID) {\n      throw Error(\"NoteRecord ID is absent.\");\n    }\n\n    if (!record) {\n      throw Error(`NoteRecord with the ID ${recordID} is absent.`);\n    }\n\n    dispatch({\n      type: NotesActions.REMOVE_RECORD,\n      payload: record\n    });\n  };\n}\n\n/**\n * Update existing record.\n *\n * @param changedRecord Modified NoteRecord object.\n */\nexport function updateRecord(changedRecord: NoteRecord) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { records } = notes;\n\n    const record = records[changedRecord.id];\n\n    if (!record) {\n      throw Error(`NoteRecord with ID ${changedRecord.id} is absent.`);\n    }\n\n    if (record.parent !== changedRecord.parent) {\n      throw Error(\n        `Changing record location is not permitted. If your intention was moving record to another group, consider using the \"moveToGroup\" function.`\n      );\n    }\n\n    dispatch({\n      type: NotesActions.UPDATE_RECORD,\n      payload: changedRecord\n    });\n  };\n}\n\n/**\n * Create new group.\n *\n * @param targetGroupID Group ID where new group should be inserted.\n * @param group NoteGroup object.\n */\nexport function createNewGroup(targetGroupID: NoteGroupID, group: NoteGroup) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { groups } = notes;\n\n    const targetGroup = groups[targetGroupID];\n\n    if (!targetGroup) {\n      throw Error(`NoteGroup with ID ${targetGroupID} is absent.`);\n    }\n\n    if (groups[group.id]) {\n      throw Error(`NoteGroup with ID ${group.id} already exist.`);\n    }\n\n    dispatch({\n      type: NotesActions.CREATE_GROUP,\n      payload: {\n        ...group,\n        targetGroupID\n      }\n    });\n  };\n}\n\nexport function updateGroup(\n  id: NoteGroupID,\n  updatedAttributes: Partial<NoteGroup>\n) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { groups } = notes;\n    const group = groups[id];\n\n    if (!group) {\n      throw Error(`NoteGroup with ID ${id} is absent.`);\n    }\n\n    dispatch({\n      type: NotesActions.UPDATE_GROUP,\n      payload: {\n        ...group,\n        ...updatedAttributes\n      }\n    });\n  };\n}\n\nexport function removeGroup(targetGroupID: NoteGroupID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes, tabs } = getState();\n    const { groups } = notes;\n    const { records } = tabs;\n\n    const group = groups[targetGroupID];\n\n    if (!group) {\n      throw Error(`NoteGroup with ID ${targetGroupID} is absent.`);\n    }\n\n    if (group.children.length > 0) {\n      throw Error(`NoteGroup must be empty before removing.`);\n    }\n\n    const newRecords = Array(records.length);\n\n    for (let i = 0; i < records.length; i++) {\n      const folderID = records[i];\n\n      if (folderID === targetGroupID) {\n        const id = utils.array.last(groups[folderID].path);\n\n        newRecords[i] = id;\n      } else {\n        newRecords[i] = records[i];\n      }\n    }\n\n    dispatch({\n      type: NotesActions.REMOVE_GROUP,\n      payload: {\n        ...group,\n        parentGroupId: utils.array.last(group.path),\n        records: newRecords\n      }\n    });\n  };\n}\n\nexport function moveToGroup(\n  targetGroupID: NoteGroupID,\n  id: NoteGroupID | NoteRecordID\n) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { groups, records } = notes;\n    const targetGroup = groups[targetGroupID];\n    const group = groups[id];\n    const record = records[id];\n\n    if (!targetGroup) {\n      throw Error(`NoteGroup with ID ${targetGroupID} is absent.`);\n    }\n\n    if (!group && !record) {\n      throw Error(`ID ${id} does not belong to any NoteRecord or NoteGroup.`);\n    }\n\n    if (group) {\n      const parentFolderID = utils.array.last(group.path) || \"root\";\n\n      const newFolderTree = {\n        ...groups,\n        [parentFolderID]: {\n          ...groups[parentFolderID],\n          children: groups[parentFolderID].children.filter(_id => _id !== id)\n        },\n        [targetGroupID]: {\n          ...groups[targetGroupID],\n          children: groups[targetGroupID].children.concat(id)\n        },\n        [id]: { ...groups[id], path: targetGroup.path.concat(targetGroupID) }\n      };\n\n      const queue: string[] = [id];\n\n      // Breath first traverse.\n      (function processQueue() {\n        if (queue.length === 0) {\n          return;\n        }\n\n        const id = queue.pop()!;\n        const parentFolder = newFolderTree[id];\n\n        const children = parentFolder.children;\n\n        for (let i = 0; i < children.length; i++) {\n          const childFolder = newFolderTree[children[i]];\n\n          if (childFolder && childFolder.children !== undefined) {\n            childFolder.path = parentFolder.path.concat(parentFolder.id);\n            newFolderTree[childFolder.id] = childFolder;\n\n            queue.push(childFolder.id);\n          }\n        }\n\n        processQueue();\n      })();\n\n      dispatch({\n        type: NotesActions.MOVE_GROUP,\n        payload: newFolderTree\n      });\n    }\n\n    if (record) {\n      dispatch({\n        type: NotesActions.MOVE_RECORD,\n        payload: {\n          ...record,\n          targetGroupID: targetGroupID\n        }\n      });\n    }\n  };\n}\n\nexport function ungroupGroup(id: NoteRecordID | NoteGroupID) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { currentGroupID, groups } = notes;\n\n    const currentGroup = groups[currentGroupID];\n\n    if (!currentGroup.path || currentGroup.path.length < 1) {\n      throw Error(`Ungroup is not allowed in root group.`);\n    }\n\n    const targetGroup = groups[utils.array.last(currentGroup.path)];\n\n    dispatch(moveToGroup(targetGroup.id, id));\n  };\n}\n\nexport const ungroupRecord = ungroupGroup;\n\nexport function swapCurrentGroupChildren(\n  sourceIndex: number,\n  targetIndex: number\n) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { currentGroupID, groups } = notes;\n\n    const group = groups[currentGroupID];\n\n    dispatch({\n      type: NotesActions.REORDER,\n      payload: {\n        ...group,\n        children: utils.array.swap(sourceIndex, targetIndex, group.children)\n      }\n    });\n  };\n}\n","import HomeButton from \"./HomeButton\";\n\nexport default HomeButton;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { MdHome } from \"react-icons/md\";\n\nimport { openGroup } from \"../../../../redux/notes/actions\";\nimport Button from \"../../../UI/Button\";\n\nexport default function HomeButton() {\n  const dispatch = useDispatch();\n\n  const label = \"Open root folder\";\n\n  function onClick() {\n    dispatch(openGroup(\"root\"));\n  }\n\n  return (\n    <Button onClick={onClick} title={label} aria-label={label}>\n      <MdHome aria-hidden={true} />\n    </Button>\n  );\n}\n","import BackButton from \"./BackButton\";\n\nexport default BackButton;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MdArrowBack } from \"react-icons/md\";\n\nimport { AppState } from \"../../../../redux/types\";\nimport { openGroup } from \"../../../../redux/notes/actions\";\nimport utils from \"../../../../utils\";\nimport Button from \"../../../UI/Button\";\n\nexport default function BackButton() {\n  const dispatch = useDispatch();\n\n  const label = \"Open parent folder\";\n\n  const currentGroupId = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const parentGroupId = useSelector((state: AppState) =>\n    utils.array.last(state.notes.groups[currentGroupId].path)\n  );\n\n  function onClick() {\n    if (parentGroupId) {\n      dispatch(openGroup(parentGroupId));\n    }\n  }\n\n  return (\n    <Button\n      title={label}\n      aria-label={label}\n      onClick={onClick}\n      disabled={!Boolean(parentGroupId)}\n    >\n      <MdArrowBack aria-hidden={true} />\n    </Button>\n  );\n}\n","import React, { useRef, useEffect, useCallback } from \"react\";\n\nimport \"./Breadcrumb.css\";\n\nexport default function Breadcrumb(props: any) {\n  const breadcrumb = useRef<HTMLDivElement>(null);\n  const breadcrumbElements = useRef<HTMLCollectionOf<HTMLDivElement>>(null);\n  const firstVisibleIndex = useRef<number>(0);\n  const hiddenWidth = useRef<number[]>([]);\n\n  const resize = useCallback(() => {\n    if (elementOverflow()) {\n      while (elementOverflow()) {\n        if (breadcrumbElements.current) {\n          if (firstVisibleIndex.current > breadcrumbElements.current.length) {\n            return;\n          }\n\n          const element = breadcrumbElements.current[firstVisibleIndex.current];\n\n          if (hiddenWidth.current) {\n            hiddenWidth.current.push(\n              element.offsetWidth + getMarginRight(getComputedStyle(element))\n            );\n          }\n\n          hideElement(firstVisibleIndex.current++);\n        }\n      }\n    } else {\n      if (hiddenWidth.current && breadcrumb.current) {\n        if (hiddenWidth.current.length > 0) {\n          if (breadcrumbElements.current) {\n            const visibleWidth = Array.from(breadcrumbElements.current)\n              .slice(hiddenWidth.current.length)\n              .reduce((width, element) => {\n                return (\n                  width +\n                  element.offsetWidth +\n                  getMarginRight(getComputedStyle(element))\n                );\n              }, 0);\n\n            while (\n              visibleWidth +\n                hiddenWidth.current[hiddenWidth.current.length - 1] <\n              breadcrumb.current.clientWidth\n            ) {\n              hiddenWidth.current.pop();\n              showElement(--firstVisibleIndex.current);\n            }\n          }\n        }\n      }\n    }\n  }, []);\n\n  function elementOverflow() {\n    if (!breadcrumb.current) {\n      return false;\n    }\n\n    return breadcrumb.current.scrollWidth > breadcrumb.current.clientWidth;\n  }\n\n  function getComputedStyle(\n    element: HTMLDivElement\n  ): CSSStyleDeclaration | undefined {\n    if (window) {\n      return window.getComputedStyle(element);\n    }\n\n    return undefined;\n  }\n\n  function getMarginRight(style?: CSSStyleDeclaration): number {\n    if (!style || !style.marginRight) {\n      return 0;\n    }\n\n    return parseFloat(style.marginRight);\n  }\n\n  function showElement(index: number) {\n    if (breadcrumbElements.current) {\n      if (breadcrumbElements.current[index]) {\n        breadcrumbElements.current[index].classList.remove(\"hidden\");\n      }\n    }\n  }\n\n  function hideElement(index: number) {\n    if (breadcrumbElements.current) {\n      if (breadcrumbElements.current[index]) {\n        breadcrumbElements.current[index].classList.add(\"hidden\");\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (breadcrumb && breadcrumb.current) {\n      // @ts-ignore\n      breadcrumbElements.current = breadcrumb.current.getElementsByClassName(\n        \"BreadcrumbElement\"\n      )!;\n    }\n\n    if (window) {\n      window.addEventListener(\"resize\", resize);\n      resize();\n    }\n\n    return function componentWillUnmount() {\n      if (window) {\n        window.removeEventListener(\"resize\", resize);\n      }\n    };\n  }, [resize]);\n\n  return (\n    <div ref={breadcrumb} className=\"Breadcrumb\">\n      {props.children}\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./BreadcrumbElement.css\";\n\nimport BreadcrumbElementProps from \"./BreadcrumbElementProps\";\n\nexport default function BreadcrumbElement(props: BreadcrumbElementProps) {\n  return (\n    <div {...props} className=\"BreadcrumbElement\">\n      {props.children}\n    </div>\n  );\n}\n","import Step from \"./Step\";\n\nexport default Step;\n","import React from \"react\";\n\nimport BreadcrumbElement from \"../../../../../UI/Breadcrumb/components/BreadcrumbElement/BreadcrumbElement\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppState } from \"../../../../../../redux/types\";\nimport { openGroup } from \"../../../../../../redux/notes/actions\";\n\nexport default function Step(props: any) {\n  const dispatch = useDispatch();\n\n  const title = useSelector(\n    (state: AppState) => state.notes.groups[props.id].title\n  );\n\n  function onClick() {\n    dispatch(openGroup(props.id));\n  }\n\n  return (\n    <BreadcrumbElement\n      tabIndex={props.tabIndex}\n      role=\"link\"\n      title={title}\n      onClick={onClick}\n    >\n      {title}\n    </BreadcrumbElement>\n  );\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { MdComputer } from \"react-icons/md\";\n\nimport BreadcrumbElement from \"../../../../../UI/Breadcrumb/components/BreadcrumbElement/BreadcrumbElement\";\nimport { openGroup } from \"../../../../../../redux/notes/actions\";\n\nexport default function RootStep(props: any) {\n  const dispatch = useDispatch();\n\n  const label = \"Open root folder\";\n\n  function open() {\n    dispatch(openGroup(\"root\"));\n  }\n\n  return (\n    <BreadcrumbElement\n      onClick={open}\n      tabIndex={props.tabIndex}\n      role=\"link\"\n      title={label}\n      aria-label={label}\n    >\n      <MdComputer aria-hidden={true} />\n    </BreadcrumbElement>\n  );\n}\n","import AddressBar from \"./AddressBar\";\n\nexport default AddressBar;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport \"./AddressBar.css\";\n\nimport { AppState } from \"../../../../redux/types\";\nimport Breadcrumb from \"../../../UI/Breadcrumb/Breadcrumb\";\n\nimport Step from \"./components/Step\";\nimport RootStep from \"./components/RootStep/RootStep\";\nimport { NoteGroupID } from \"../../../../redux/notes/groups/types\";\n\nexport default function AddressBar(props: any) {\n  const currentGroupId = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const path = useSelector(\n    (state: AppState) => state.notes.groups[currentGroupId].path\n  ).slice(1);\n\n  if (currentGroupId !== \"root\") {\n    path.push(currentGroupId);\n  }\n\n  return (\n    <div className=\"AddressBar\">\n      <Breadcrumb>\n        <RootStep tabIndex={0} />\n        {path.map((folderId: NoteGroupID, index: number) => {\n          return (\n            <Step\n              key={folderId}\n              id={folderId}\n              tabIndex={index === path.length - 1 ? -1 : 0}\n            />\n          );\n        })}\n      </Breadcrumb>\n    </div>\n  );\n}\n","import HelpButton from \"./HelpButton\";\n\nexport default HelpButton;\n","export enum FavoriteActions {\n  ADD = \"Favorites/Actions/ADD\",\n  BATCH_ADD = \"Favorites/Actions/BATCH_ADD\",\n  REMOVE = \"Favorites/Actions/REMOVE\",\n  BATCH_REMOVE = \"Favorites/Actions/BATCH_REMOVE\"\n}\n\nexport type FavoritesState = string[];\n","import React from \"react\";\nimport { FiHelpCircle } from \"react-icons/fi\";\n\nimport Button from \"../../../UI/Button\";\n\nexport default function HelpButton() {\n  const label = \"Help\";\n\n  return (\n    <Button title={label} aria-label={label}>\n      <FiHelpCircle aria-hidden={true} />\n    </Button>\n  );\n}\n","import React from \"react\";\nimport { FaRegStar, FaStar } from \"react-icons/fa\";\n\nimport \"./FavoriteButton.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppState } from \"../../../../redux/types\";\nimport {\n  removeFromFavorites,\n  addToFavorites\n} from \"../../../../redux/favorites/actions\";\n\nexport default function FavoriteButton(props: any) {\n  const dispatch = useDispatch();\n\n  const currentFolderID = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const isFavorite = useSelector(\n    (state: AppState) => state.notes.groups[currentFolderID].favorite\n  );\n\n  function toggleFavorite() {\n    if (isFavorite) {\n      dispatch(removeFromFavorites(currentFolderID));\n    } else {\n      dispatch(addToFavorites(currentFolderID));\n    }\n  }\n\n  return (\n    <button\n      className=\"FavoriteButton\"\n      aria-label=\"Add to favorite\"\n      title=\"Add to favorite\"\n      onClick={toggleFavorite}\n    >\n      {isFavorite ? <FaStar /> : <FaRegStar aria-hidden={true} />}\n    </button>\n  );\n}\n","import { IDispatch, AppState } from \"../types\";\nimport { FavoriteActions } from \"./types\";\n\nexport function addToFavorites(id: string) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { groups } = notes;\n\n    const group = groups[id];\n\n    if (!group) {\n      throw Error(`Folder with id ${id} is absent.`);\n    }\n\n    dispatch({\n      type: FavoriteActions.ADD,\n      payload: {\n        id\n      }\n    });\n  };\n}\n\nexport function removeFromFavorites(id: string) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { notes } = getState();\n    const { groups } = notes;\n\n    const group = groups[id];\n\n    if (!group) {\n      throw Error(`Folder with id ${id} is absent.`);\n    }\n\n    dispatch({\n      type: FavoriteActions.REMOVE,\n      payload: {\n        id\n      }\n    });\n  };\n}\n","import Navigator from \"./Navigator\";\n\nexport default Navigator;\n","import React from \"react\";\n\nimport \"./Navigator.css\";\n\nimport HomeButton from \"./components/HomeButton\";\nimport BackButton from \"./components/BackButton\";\nimport AddressBar from \"./components/AddressBar\";\nimport HelpButton from \"./components/HelpButton\";\nimport FavoriteButton from \"./components/FavoriteButton/FavoriteButton\";\n\nexport default function Navigator() {\n  return (\n    <div className=\"Navigator\" data-open={true}>\n      <BackButton />\n      <HomeButton />\n      <AddressBar />\n      <FavoriteButton />\n      <HelpButton />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { FiMinimize, FiMaximize } from \"react-icons/fi\";\n\nimport \"./ResizeButton.css\";\n\nimport { ResizeButtonProps } from \"./ResizeButtonProps\";\n\nexport default function ResizeButton(props: ResizeButtonProps) {\n  function handleResize(event: React.MouseEvent) {\n    if (typeof props.onClick === \"function\") {\n      props.onClick(!props.maximized);\n    }\n  }\n\n  return (\n    <button\n      className=\"ResizeButton\"\n      onClick={handleResize}\n      title={`${props.maximized ? \"Minimize\" : \"Maximize\"} Editor`}\n    >\n      {props.maximized ? <FiMinimize /> : <FiMaximize />}\n    </button>\n  );\n}\n","import React from \"react\";\n\nimport \"./CloseButton.css\";\n\nimport { MdClose } from \"react-icons/md\";\n\nexport default function CloseButton(props: any) {\n  return (\n    <button\n      className=\"CloseButton\"\n      title=\"Close Editor\"\n      onClick={props.onClick}\n    >\n      <MdClose />\n    </button>\n  );\n}\n","import React, { forwardRef, useRef, useImperativeHandle } from \"react\";\n\nimport \"./NameInput.css\";\n\nimport { NameInputProps } from \"./NameInputProps\";\nimport { NameInputReference } from \"../../AppEditorReferences\";\n\nexport default forwardRef((props: NameInputProps, ref) => {\n  const inputReference = useRef<HTMLInputElement>(null);\n\n  useImperativeHandle(\n    ref,\n    (): NameInputReference => ({\n      getValue: (): string => {\n        if (inputReference.current) {\n          return inputReference.current.value;\n        }\n\n        return \"\";\n      }\n    })\n  );\n\n  return (\n    <input\n      ref={inputReference}\n      className=\"NameInput\"\n      placeholder=\"New title\"\n      type=\"text\"\n      defaultValue={props.defaultValue}\n      onChange={props.onChange}\n      autoFocus={true}\n    />\n  );\n});\n","import React from \"react\";\n\nimport \"./ChangeIndicator.css\";\nimport { ChangeIndicatorProps } from \"./ChangeIndicatorProps\";\n\nexport default function ChangeIndicator(props: ChangeIndicatorProps) {\n  return (\n    <div className=\"ChangeIndicator\">\n      <span className=\"ChangeIndicatorDot\" data-state={props.state} />\n    </div>\n  );\n}\n","import React, { forwardRef } from \"react\";\n\nimport \"./Header.css\";\n\nimport { AppEditorHeaderProps } from \"./HeaderProps\";\nimport ResizeButton from \"../../components/ResizeButton/ResizeButton\";\nimport CloseButton from \"../../components/CloseButton/CloseButton\";\nimport NameInput from \"../../components/NameInput/NameInput\";\nimport ChangeIndicator from \"../../components/ChangeIndicator/ChangeIndicator\";\n\nexport default forwardRef((props: AppEditorHeaderProps, ref: any) => {\n  return (\n    <div className=\"AppEditorHeader\">\n      <NameInput\n        ref={ref}\n        defaultValue={props.defaultValue}\n        onChange={props.onChange}\n      />\n      <ChangeIndicator state={props.indicatorState} />\n      <ResizeButton maximized={props.maximized} onClick={props.onResize} />\n      <CloseButton onClick={props.onClose} />\n    </div>\n  );\n});\n","import { DraftHandleValue, EditorState, RichUtils } from \"draft-js\";\nimport utils from \"../../../../utils\";\n\nexport type UpdateEditorStateCallback = (editorState: EditorState) => void;\n\nexport enum EditorCommand {\n  \"BOLD\" = \"BOLD\",\n  \"ITALIC\" = \"ITALIC\",\n  \"UNDERLINE\" = \"UNDERLINE\",\n  \"STRIKETHROUGH\" = \"STRIKETHROUGH\",\n  \"SAVE\" = \"SAVE\",\n  \"UNDO\" = \"UNDO\",\n  \"REDO\" = \"REDO\",\n  \"CLEAR\" = \"CLEAR\"\n}\n\nexport function handleKeyCommands(\n  updateEditorState: UpdateEditorStateCallback\n) {\n  return (\n    command: EditorCommand,\n    editorState: EditorState\n  ): DraftHandleValue => {\n    switch (command) {\n      case EditorCommand.BOLD:\n        updateEditorState(\n          RichUtils.toggleInlineStyle(editorState, EditorCommand.BOLD)\n        );\n        return \"handled\";\n      case EditorCommand.ITALIC:\n        updateEditorState(\n          RichUtils.toggleInlineStyle(editorState, EditorCommand.ITALIC)\n        );\n        return \"handled\";\n      case EditorCommand.UNDERLINE:\n        updateEditorState(\n          RichUtils.toggleInlineStyle(editorState, EditorCommand.UNDERLINE)\n        );\n        return \"handled\";\n      case EditorCommand.STRIKETHROUGH:\n        updateEditorState(\n          RichUtils.toggleInlineStyle(editorState, EditorCommand.STRIKETHROUGH)\n        );\n        return \"handled\";\n      case EditorCommand.UNDO:\n        updateEditorState(EditorState.undo(editorState));\n        return \"handled\";\n      case EditorCommand.REDO:\n        updateEditorState(EditorState.redo(editorState));\n        return \"handled\";\n      case EditorCommand.SAVE:\n        return \"handled\";\n      case EditorCommand.CLEAR:\n        updateEditorState(utils.editor.clear(editorState));\n        return \"handled\";\n      default:\n        return \"not-handled\";\n    }\n  };\n}\n","import { getDefaultKeyBinding } from \"draft-js\";\nimport { EditorCommand } from \"./Commands\";\n\nexport interface IKeycodeMap {\n  [keyCode: number]: string;\n}\n\nexport const KeycodeMap: IKeycodeMap = {\n  9: \"tab\",\n  13: \"enter\",\n  27: \"esc\",\n  32: \"space\",\n  46: \"delete\",\n  66: \"b\",\n  67: \"c\",\n  73: \"i\",\n  83: \"s\",\n  85: \"u\",\n  87: \"y\",\n  97: \"z\",\n  113: \"f2\"\n};\n\nexport function keyBindingFunction(\n  event: React.KeyboardEvent<any>\n): string | null {\n  const isControlKey = event.ctrlKey;\n  const isShiftKey = event.shiftKey;\n  const keyCode = event.keyCode;\n  const key: string | undefined = KeycodeMap[keyCode];\n\n  if (isControlKey && key === \"b\") {\n    return EditorCommand.BOLD;\n  }\n\n  if (isControlKey && key === \"i\") {\n    return EditorCommand.ITALIC;\n  }\n\n  if (isControlKey && key === \"u\") {\n    return EditorCommand.UNDERLINE;\n  }\n\n  // Control + Shift + S has higher priority in actions than Control + S. (FizzBuzz issue)\n  if (isControlKey && isShiftKey && key === \"s\") {\n    return EditorCommand.STRIKETHROUGH;\n  }\n\n  if (isControlKey && key === \"s\") {\n    return EditorCommand.SAVE;\n  }\n\n  if (isControlKey && key === \"z\") {\n    return EditorCommand.UNDO;\n  }\n\n  if (isControlKey && key === \"y\") {\n    return EditorCommand.REDO;\n  }\n\n  if (isControlKey && isShiftKey && key === \"c\") {\n    return EditorCommand.CLEAR;\n  }\n\n  return getDefaultKeyBinding(event);\n}\n","import React from \"react\";\nimport { EditorControlButtonProps } from \"./EditorControlButtonProps\";\n\nimport \"./EditorControlButton.css\";\n\nexport function EditorControlButton(props: EditorControlButtonProps) {\n  function handleClickEvent(event: React.MouseEvent) {\n    if (typeof props.onClick === \"function\") {\n      props.onClick(event, props.command);\n    }\n  }\n\n  return (\n    <button\n      className=\"EditorControlButton\"\n      title={props.title}\n      tabIndex={props.tabIndex}\n      onMouseDown={handleClickEvent}\n      data-active={props.active}\n    >\n      {props.children}\n    </button>\n  );\n}\n","import React from \"react\";\nimport {\n  MdFormatBold,\n  MdFormatItalic,\n  MdFormatUnderlined,\n  MdFormatStrikethrough,\n  MdFormatClear\n} from \"react-icons/md\";\n\nimport \"./EditorControls.css\";\n\nimport { EditorControlButton } from \"../EditorControlButton/EditorControlButton\";\nimport { EditorCommand } from \"../../layout/Editor/Commands\";\nimport { EditorControlsProps } from \"./EditorControlsProps\";\n\nexport default function EditorControls(props: EditorControlsProps) {\n  function handleControlButtonClick(\n    event: React.MouseEvent,\n    command: EditorCommand\n  ) {\n    event.preventDefault();\n\n    if (typeof props.onClick === \"function\") {\n      props.onClick(command);\n    }\n  }\n\n  return (\n    <div className=\"EditorControls\">\n      <EditorControlButton\n        command={EditorCommand.BOLD}\n        onClick={handleControlButtonClick}\n        title=\"Bold\"\n        active={Boolean(props.inlineStyles?.has(\"BOLD\"))}\n        tabIndex={-1}\n      >\n        <MdFormatBold />\n      </EditorControlButton>\n      <EditorControlButton\n        command={EditorCommand.ITALIC}\n        onClick={handleControlButtonClick}\n        title=\"Italic\"\n        active={Boolean(props.inlineStyles?.has(\"ITALIC\"))}\n        tabIndex={-1}\n      >\n        <MdFormatItalic />\n      </EditorControlButton>\n      <EditorControlButton\n        command={EditorCommand.UNDERLINE}\n        onClick={handleControlButtonClick}\n        title=\"Underline\"\n        active={Boolean(props.inlineStyles?.has(\"UNDERLINE\"))}\n        tabIndex={-1}\n      >\n        <MdFormatUnderlined />\n      </EditorControlButton>\n      <EditorControlButton\n        command={EditorCommand.STRIKETHROUGH}\n        onClick={handleControlButtonClick}\n        title=\"Strikethrough\"\n        active={Boolean(props.inlineStyles?.has(\"STRIKETHROUGH\"))}\n        tabIndex={-1}\n      >\n        <MdFormatStrikethrough />\n      </EditorControlButton>\n      <EditorControlButton\n        command={EditorCommand.CLEAR}\n        onClick={handleControlButtonClick}\n        title=\"Clear formatting\"\n        active={false}\n        tabIndex={-1}\n      >\n        <MdFormatClear />\n      </EditorControlButton>\n    </div>\n  );\n}\n","import React, {\n  forwardRef,\n  useState,\n  useImperativeHandle,\n  useRef\n} from \"react\";\nimport {\n  EditorState,\n  Editor as DraftEditor,\n  convertToRaw,\n  convertFromRaw\n} from \"draft-js\";\n\nimport \"./Editor.css\";\n\nimport { EditorReference } from \"../../AppEditorReferences\";\nimport { keyBindingFunction } from \"./Shortcuts\";\nimport { handleKeyCommands, EditorCommand } from \"./Commands\";\nimport { EditorProps } from \"./EditorProps\";\nimport EditorControls from \"../../components/EditorControls/EditorControls\";\n\nexport default forwardRef((props: EditorProps, ref: any) => {\n  const [editorState, setEditorState] = useState(\n    props.rawContentState\n      ? EditorState.createWithContent(convertFromRaw(props.rawContentState))\n      : EditorState.createEmpty()\n  );\n\n  const draftEditorReference = useRef<DraftEditor>(null);\n\n  function updateEditorState(newEditorState: EditorState) {\n    setEditorState(newEditorState);\n\n    if (typeof props.onChange === \"function\") {\n      const equalContents = newEditorState\n        .getCurrentContent()\n        .getBlockMap()\n        .equals(editorState.getCurrentContent().getBlockMap());\n\n      if (!equalContents) {\n        props.onChange();\n      }\n    }\n  }\n\n  useImperativeHandle(\n    ref,\n    (): EditorReference => ({\n      getPlainText: () => editorState.getCurrentContent().getPlainText(),\n      getRawDraftContentState: () =>\n        convertToRaw(editorState.getCurrentContent()),\n      focusEditor,\n      blurEditor\n    })\n  );\n\n  function focusEditor(event?: React.MouseEvent) {\n    if (draftEditorReference.current) {\n      draftEditorReference.current.focus();\n    }\n  }\n\n  function blurEditor() {\n    if (draftEditorReference.current) {\n      draftEditorReference.current.blur();\n    }\n  }\n\n  function getCurrentInlineStyle() {\n    return editorState.getCurrentInlineStyle();\n  }\n\n  function handleCommand(command: EditorCommand) {\n    handleKeyCommands(updateEditorState)(command, editorState);\n  }\n\n  return (\n    <div className=\"Editor\">\n      <EditorControls\n        inlineStyles={getCurrentInlineStyle()}\n        onClick={handleCommand}\n      />\n      <div className=\"EditorWrapper\" onMouseDown={focusEditor}>\n        <DraftEditor\n          ref={draftEditorReference}\n          editorState={editorState}\n          onChange={updateEditorState}\n          keyBindingFn={keyBindingFunction}\n          handleKeyCommand={handleKeyCommands(updateEditorState)}\n          spellCheck={props.spellCheck}\n        />\n      </div>\n    </div>\n  );\n});\n","export enum ChangeIndicatorState {\n  IDLE,\n  SAVED,\n  UNSAVED\n}\n\nexport interface ChangeIndicatorProps {\n  state: ChangeIndicatorState;\n}\n","import React, { useState, useRef } from \"react\";\r\n\r\nimport \"./AppEditor.css\";\r\n\r\nimport { AppEditorProps } from \"./AppEditorProps\";\r\nimport { NameInputReference, EditorReference } from \"./AppEditorReferences\";\r\n\r\nimport AppEditorHeader from \"./layout/Header/Header\";\r\nimport Editor from \"./layout/Editor/Editor\";\r\nimport { ChangeIndicatorState } from \"./components/ChangeIndicator/ChangeIndicatorProps\";\r\nimport { NoteRecord } from \"../../redux/notes/records/types\";\r\nimport utils from \"../../utils\";\r\nimport { KeycodeMap } from \"./layout/Editor/Shortcuts\";\r\n\r\nexport default function AppEditor(props: AppEditorProps) {\r\n  const [maximized, setMaximized] = useState(props.maximized);\r\n  const [indicatorState, setIndicatorState] = useState(\r\n    ChangeIndicatorState.IDLE\r\n  );\r\n\r\n  const nameInputReference = useRef<NameInputReference>();\r\n\r\n  const editorReference = useRef<EditorReference>();\r\n\r\n  const saveTimeoutReference = useRef<NodeJS.Timeout>();\r\n\r\n  function save() {\r\n    const record: NoteRecord = {\r\n      id: props.id || utils.string.generateRandom(),\r\n      parent: props.currentGroupID,\r\n      title: \"\",\r\n      content: { entityMap: {}, blocks: [] },\r\n      type: \"Note\",\r\n      createdAt: Date.now()\r\n    };\r\n\r\n    if (nameInputReference.current) {\r\n      record.title = nameInputReference.current.getValue();\r\n    }\r\n\r\n    if (editorReference.current) {\r\n      record.content = editorReference.current.getRawDraftContentState();\r\n    }\r\n\r\n    if (typeof props.onSave === \"function\" && !props.id) {\r\n      props.onSave(props.currentGroupID, record);\r\n\r\n      if (props.saveAndClose && !props.autoSave) {\r\n        closeEditor();\r\n      } else {\r\n        setIndicatorState(ChangeIndicatorState.SAVED);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (typeof props.onUpdate === \"function\" && props.id) {\r\n      record.updatedAt = Date.now();\r\n      props.onUpdate(record);\r\n\r\n      if (props.saveAndClose && !props.autoSave) {\r\n        closeEditor();\r\n      } else {\r\n        setIndicatorState(ChangeIndicatorState.SAVED);\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleCanvasKeyDown(event: React.KeyboardEvent<any>) {\r\n    const isControlKey = event.ctrlKey;\r\n    const isShiftKey = event.shiftKey;\r\n    const keyCode = event.keyCode;\r\n    const key = KeycodeMap[keyCode];\r\n\r\n    if (isControlKey && !isShiftKey && key === \"s\") {\r\n      event.preventDefault();\r\n\r\n      if (saveTimeoutReference.current) {\r\n        clearTimeout(saveTimeoutReference.current);\r\n      }\r\n\r\n      if (indicatorState === ChangeIndicatorState.UNSAVED) {\r\n        save();\r\n      }\r\n    }\r\n\r\n    if (key === \"esc\") {\r\n      event.preventDefault();\r\n\r\n      closeEditor();\r\n    }\r\n  }\r\n\r\n  function handleDetectedChange() {\r\n    setIndicatorState(ChangeIndicatorState.UNSAVED);\r\n\r\n    if (saveTimeoutReference.current) {\r\n      clearTimeout(saveTimeoutReference.current);\r\n    }\r\n\r\n    if (props.autoSave && Boolean(props.id)) {\r\n      saveTimeoutReference.current = setTimeout(() => {\r\n        save();\r\n      }, 3000);\r\n    }\r\n  }\r\n\r\n  function closeEditor() {\r\n    if (saveTimeoutReference.current) {\r\n      clearTimeout(saveTimeoutReference.current);\r\n    }\r\n\r\n    if (typeof props.onClose === \"function\") {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"AppEditor\">\r\n      <div className=\"AppEditorWrapper\" onKeyDown={handleCanvasKeyDown}>\r\n        <div className=\"AppEditorCanvas\" data-maximized={maximized}>\r\n          <AppEditorHeader\r\n            maximized={maximized}\r\n            ref={nameInputReference}\r\n            onClose={props.onClose}\r\n            onResize={setMaximized}\r\n            defaultValue={props.title}\r\n            indicatorState={indicatorState}\r\n            onChange={handleDetectedChange}\r\n          />\r\n          <Editor\r\n            ref={editorReference}\r\n            spellCheck={props.spellCheck}\r\n            onChange={handleDetectedChange}\r\n            rawContentState={props.content}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { connect, batch } from \"react-redux\";\r\n\r\nimport { AppEditorContainerProps } from \"./AppEditorProps\";\r\nimport AppEditor from \"./AppEditor\";\r\nimport { AppState, IDispatch } from \"../../redux/types\";\r\nimport { closeEditor, openEditor } from \"../../redux/editor/actions\";\r\nimport { NoteRecord } from \"../../redux/notes/records/types\";\r\nimport { NoteGroupID } from \"../../redux/notes/groups/types\";\r\nimport { createRecord, updateRecord } from \"../../redux/notes/actions\";\r\n\r\nfunction AppEditorContainer(props: AppEditorContainerProps) {\r\n  return (\r\n    <>\r\n      {props.open &&\r\n        createPortal(\r\n          <AppEditor {...props} />,\r\n          document.getElementById(\"app-editor-root\") as HTMLDivElement\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state: AppState) {\r\n  const { editor, settings, notes } = state;\r\n  const { open, id } = editor;\r\n  const { editor: editorSettings } = settings;\r\n  const { currentGroupID, records } = notes;\r\n\r\n  let record;\r\n\r\n  if (id) {\r\n    record = records[id];\r\n  }\r\n\r\n  return {\r\n    open,\r\n    maximized: false,\r\n    autoSave: Boolean(editorSettings.autoSave),\r\n    saveAndClose: Boolean(editorSettings.saveAndClose),\r\n    spellCheck: Boolean(editorSettings.spellCheck),\r\n    currentGroupID,\r\n    ...record\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: IDispatch) {\r\n  return {\r\n    onClose: () => dispatch(closeEditor()),\r\n    onSave: (currentGroupID: NoteGroupID, record: NoteRecord) => {\r\n      batch(() => {\r\n        dispatch(createRecord(currentGroupID, record));\r\n        dispatch(openEditor(record.id));\r\n      });\r\n    },\r\n    onUpdate: (record: NoteRecord) => dispatch(updateRecord(record))\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppEditorContainer);\r\n","import React from \"react\";\nimport { MdClose } from \"react-icons/md\";\n\nimport \"./OverlayHeader.css\";\n\nimport { OverlayHeaderProps } from \"./OverlayHeaderProps\";\n\nexport default function OverlayHeader(props: OverlayHeaderProps) {\n  function close() {\n    if (typeof props.onClose === \"function\") {\n      props.onClose(props.id);\n    }\n  }\n\n  return (\n    <header className=\"OverlayHeader\">\n      <span className=\"OverlayHeaderTitle\">{props.title}</span>\n      <button\n        className=\"OverlayHeaderButton\"\n        onClick={close}\n        tabIndex={props.tabIndex}\n      >\n        <MdClose />\n      </button>\n    </header>\n  );\n}\n","import React from \"react\";\n\nimport \"./OverlayBody.css\";\n\nimport OverlayBodyProps from \"./OverlayBodyProps\";\n\nexport default function OverlayBody(props: OverlayBodyProps) {\n  return <div className=\"OverlayBody\">{props.children}</div>;\n}\n","import React from \"react\";\n\nimport \"./OverlayFooter.css\";\n\nimport OverlayFooterProps from \"./OverlayFooterProps\";\n\nexport default function OverlayFooter(props: OverlayFooterProps) {\n  return <footer className=\"OverlayFooter\">{props.children}</footer>;\n}\n","import React, { forwardRef } from \"react\";\n\nimport \"./FormInput.css\";\n\nexport default forwardRef((props: any, ref: any) => {\n  return (\n    <input\n      ref={ref}\n      type={props.type}\n      placeholder={props.placeholder}\n      className=\"FormInput\"\n      autoFocus={props.autoFocus}\n      defaultValue={props.defaultValue}\n      name={props.name}\n      autoComplete={props.autoComplete}\n    />\n  );\n});\n","import { OverlayType } from \"../../redux/overlays/types\";\n\n// Overlays\nimport DeleteRecordOverlay from \"./components/DeleteRecordOverlay/DeleteRecordOverlay\";\nimport RenameRecordOverlay from \"./components/RenameRecordOverlay/RenameRecordOverlay\";\nimport CreateGroupOverlay from \"./components/CreateGroupOverlay/CreateGroupOverlay\";\nimport RenameGroupOverlay from \"./components/RenameGroupOverlay/RenameGroupOverlay\";\n\nconst OverlayMap = new Map<OverlayType, React.FunctionComponent<any>>();\n\nOverlayMap.set(OverlayType.DELETE_RECORD, DeleteRecordOverlay);\nOverlayMap.set(OverlayType.RENAME_RECORD, RenameRecordOverlay);\nOverlayMap.set(OverlayType.CREATE_GROUP, CreateGroupOverlay);\nOverlayMap.set(OverlayType.RENAME_GROUP, RenameGroupOverlay);\n\nexport default OverlayMap;\n","import React from \"react\";\nimport { batch, useDispatch } from \"react-redux\";\n\nimport \"./DeleteRecordOverlay.css\";\n\nimport OverlayHeader from \"../../template/OverlayHeader/OverlayHeader\";\nimport OverlayBody from \"../../template/OverlayBody/OverlayBody\";\nimport OverlayFooter from \"../../template/OverlayFooter/OverlayFooter\";\n\nimport { closeOverlay } from \"../../../../redux/overlays/actions\";\nimport { removeRecord } from \"../../../../redux/notes/actions\";\n\nexport default function DeleteRecordOverlay(props: any) {\n  const dispatch = useDispatch();\n\n  function confirm() {\n    batch(() => {\n      dispatch(removeRecord(props.id));\n      dispatch(closeOverlay(props.overlayID));\n    });\n  }\n\n  return (\n    <div className=\"DeleteRecordOverlay\">\n      <OverlayHeader\n        id={props.overlayID}\n        onClose={props.onClose}\n        title=\"Delete Note\"\n      />\n      <OverlayBody>\n        <p>Are you sure you want to permanently delete this note?</p>\n      </OverlayBody>\n      <OverlayFooter>\n        <button onClick={confirm}>Delete Note</button>\n        <button onClick={props.onClose}>Keep Note</button>\n      </OverlayFooter>\n    </div>\n  );\n}\n","import React, { useRef } from \"react\";\nimport { batch, useDispatch, useSelector } from \"react-redux\";\n\nimport \"./RenameRecordOverlay.css\";\n\nimport OverlayHeader from \"../../template/OverlayHeader/OverlayHeader\";\n\nimport { updateRecord } from \"../../../../redux/notes/actions\";\nimport { closeOverlay } from \"../../../../redux/overlays/actions\";\nimport OverlayBody from \"../../template/OverlayBody/OverlayBody\";\nimport OverlayFooter from \"../../template/OverlayFooter/OverlayFooter\";\nimport FormInput from \"../../../UI/FormInput/FormInput\";\nimport { AppState } from \"../../../../redux/types\";\nimport { KeycodeMap } from \"../../../AppEditor/layout/Editor/Shortcuts\";\n\nexport default function RenameRecordOverlay(props: any) {\n  const dispatch = useDispatch();\n\n  const record = useSelector(\n    (state: AppState) => state.notes.records[props.id]\n  );\n\n  const titleReference = useRef<HTMLInputElement>(null);\n\n  function save() {\n    let title = record.title;\n\n    if (titleReference.current) {\n      title = titleReference.current.value;\n    }\n\n    const updatedRecord = { ...record, title };\n\n    batch(() => {\n      dispatch(updateRecord(updatedRecord));\n      dispatch(closeOverlay(props.overlayID));\n    });\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent) {\n    const { keyCode } = event;\n    const key = KeycodeMap[keyCode];\n\n    if (key === \"enter\") {\n      event.preventDefault();\n\n      save();\n    }\n  }\n\n  return (\n    <div className=\"RenameRecordOverlay\" onKeyDown={handleKeyDown}>\n      <OverlayHeader\n        id={props.overlayID}\n        title=\"Rename Note\"\n        onClose={props.onClose}\n      ></OverlayHeader>\n      <OverlayBody>\n        <FormInput\n          ref={titleReference}\n          type=\"text\"\n          name=\"title\"\n          defaultValue={record.title}\n          autoFocus={true}\n          autoComplete=\"off\"\n        />\n      </OverlayBody>\n      <OverlayFooter>\n        <button onClick={save}>Save</button>\n        <button onClick={props.onClose}>Cancel</button>\n      </OverlayFooter>\n    </div>\n  );\n}\n","import React, { useRef } from \"react\";\nimport { useDispatch, useSelector, batch } from \"react-redux\";\n\nimport \"./CreateGroupOverlay.css\";\n\nimport OverlayHeader from \"../../template/OverlayHeader/OverlayHeader\";\nimport OverlayBody from \"../../template/OverlayBody/OverlayBody\";\nimport OverlayFooter from \"../../template/OverlayFooter/OverlayFooter\";\nimport { NoteGroup } from \"../../../../redux/notes/groups/types\";\nimport utils from \"../../../../utils\";\nimport FormInput from \"../../../UI/FormInput/FormInput\";\nimport { createNewGroup } from \"../../../../redux/notes/actions\";\nimport { closeOverlay } from \"../../../../redux/overlays/actions\";\nimport { AppState } from \"../../../../redux/types\";\nimport { KeycodeMap } from \"../../../AppEditor/layout/Editor/Shortcuts\";\n\nexport default function CreateGroupOverlay(props: any) {\n  const dispatch = useDispatch();\n\n  const currentGroupID = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const currentGroup = useSelector(\n    (state: AppState) => state.notes.groups[currentGroupID]\n  );\n\n  const nameReference = useRef<HTMLInputElement>(null);\n\n  function create() {\n    const group: NoteGroup = {\n      id: utils.string.generateRandom(),\n      title: \"\",\n      children: [],\n      updatedAt: Date.now(),\n      type: \"Folder\",\n      path: currentGroup.path.concat(currentGroup.id)\n    };\n\n    if (nameReference.current) {\n      group.title = nameReference.current.value;\n    }\n\n    batch(() => {\n      dispatch(createNewGroup(currentGroupID, group));\n      dispatch(closeOverlay(props.overlayID));\n    });\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent) {\n    const { keyCode } = event;\n    const key = KeycodeMap[keyCode];\n\n    if (key === \"enter\") {\n      event.preventDefault();\n\n      create();\n    }\n  }\n\n  return (\n    <div className=\"CreateGroupOverlay\" onKeyDown={handleKeyDown}>\n      <OverlayHeader\n        id={props.overlayID}\n        title=\"Create Group\"\n        onClose={props.onClose}\n      />\n      <OverlayBody>\n        <FormInput\n          ref={nameReference}\n          type=\"text\"\n          placeholder=\"Group name\"\n          autoFocus={true}\n          autoComplete=\"off\"\n        />\n      </OverlayBody>\n      <OverlayFooter>\n        <button onClick={create}>Create Group</button>\n        <button onClick={props.onClose}>Cancel</button>\n      </OverlayFooter>\n    </div>\n  );\n}\n","import React, { useRef } from \"react\";\n\nimport \"./RenameGroupOverlay.css\";\n\nimport OverlayHeader from \"../../template/OverlayHeader/OverlayHeader\";\nimport OverlayBody from \"../../template/OverlayBody/OverlayBody\";\nimport OverlayFooter from \"../../template/OverlayFooter/OverlayFooter\";\n\nimport FormInput from \"../../../UI/FormInput/FormInput\";\nimport { useDispatch, useSelector, batch } from \"react-redux\";\nimport { AppState } from \"../../../../redux/types\";\nimport { updateGroup } from \"../../../../redux/notes/actions\";\nimport { closeOverlay } from \"../../../../redux/overlays/actions\";\nimport { KeycodeMap } from \"../../../AppEditor/layout/Editor/Shortcuts\";\n\nexport default function RenameGroupOverlay(props: any) {\n  const dispatch = useDispatch();\n\n  const group = useSelector((state: AppState) => state.notes.groups[props.id]);\n\n  const titleReference = useRef<HTMLInputElement>(null);\n\n  function save() {\n    let title = group.title;\n\n    if (titleReference.current) {\n      title = titleReference.current.value;\n    }\n\n    batch(() => {\n      dispatch(updateGroup(props.id, { title }));\n      dispatch(closeOverlay(props.overlayID));\n    });\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent) {\n    const { keyCode } = event;\n    const key = KeycodeMap[keyCode];\n\n    if (key === \"enter\") {\n      event.preventDefault();\n\n      save();\n    }\n  }\n\n  return (\n    <div className=\"RenameGroupOverlay\" onKeyDown={handleKeyDown}>\n      <OverlayHeader\n        id={props.overlayID}\n        title=\"Rename Group\"\n        onClose={props.onClose}\n      ></OverlayHeader>\n      <OverlayBody>\n        <FormInput\n          ref={titleReference}\n          type=\"text\"\n          name=\"title\"\n          defaultValue={group.title}\n          autoFocus={true}\n          autoComplete=\"off\"\n        />\n      </OverlayBody>\n      <OverlayFooter>\n        <button onClick={save}>Save</button>\n        <button onClick={props.onClose}>Cancel</button>\n      </OverlayFooter>\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from \"react\";\nimport utils from \"../../utils\";\nimport { KeycodeMap } from \"../AppEditor/layout/Editor/Shortcuts\";\n\nimport \"./Overlay.css\";\n\nexport default function Overlay(props: any) {\n  let overlayTabElements = useRef<any>([]);\n\n  useEffect(() => {\n    if (overlayTabElements.current) {\n      overlayTabElements.current = utils.dom.getTabbableElements(\n        props.overlayID\n      );\n    }\n\n    return () => {\n      if (overlayTabElements.current) {\n        overlayTabElements.current = [];\n      }\n    };\n  }, [props.overlayID]);\n\n  function close() {\n    if (typeof props.onClose === \"function\") {\n      props.onClose(props.overlayID);\n    }\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent<any>) {\n    const { keyCode, target } = event;\n    const isShiftKey = event.shiftKey;\n    const key = KeycodeMap[keyCode];\n\n    if (key === \"esc\") {\n      close();\n      return;\n    }\n\n    if (key === \"tab\" && isShiftKey) {\n      if (\n        overlayTabElements &&\n        target === utils.array.first(overlayTabElements.current)\n      ) {\n        event.preventDefault();\n\n        utils.array.last(overlayTabElements.current).focus();\n      }\n\n      return;\n    }\n\n    if (key === \"tab\") {\n      if (\n        overlayTabElements &&\n        target === utils.array.last(overlayTabElements.current)\n      ) {\n        event.preventDefault();\n\n        utils.array.first(overlayTabElements.current).focus();\n      }\n    }\n  }\n\n  return (\n    <div id={props.overlayID} className=\"Overlay\" onKeyDown={handleKeyDown}>\n      {React.Children.map(props.children, (child: any) => {\n        return React.cloneElement(child, { ...child.props, onClose: close });\n      })}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createPortal } from \"react-dom\";\n\nimport \"./OverlayContainer.css\";\n\nimport { AppState, IDispatch } from \"../../redux/types\";\nimport utils from \"../../utils\";\nimport OverlayMap from \"./OverlayMap\";\nimport Overlay from \"./Overlay\";\nimport { OverlayContainerProps } from \"./OverlayContainerProps\";\nimport { Overlay as IOverlay, OverlayID } from \"../../redux/overlays/types\";\nimport { closeOverlay } from \"../../redux/overlays/actions\";\n\nfunction OverlayContainer(props: OverlayContainerProps) {\n  return props.overlays.length\n    ? createPortal(\n        <div className=\"OverlayContainer react-no-print\">\n          {utils.array.mapReversed((overlay: IOverlay) => {\n            const OverlayComponent = OverlayMap.get(overlay.type);\n\n            if (OverlayComponent) {\n              return (\n                <Overlay\n                  key={overlay.overlayID}\n                  overlayID={overlay.overlayID}\n                  onClose={props.onClose}\n                >\n                  <OverlayComponent\n                    overlayID={overlay.overlayID}\n                    id={overlay.id}\n                    onClose={props.onClose}\n                  />\n                </Overlay>\n              );\n            }\n\n            return null;\n          }, props.overlays)}\n        </div>,\n        document.getElementById(\"app-overlays-root\") as HTMLDivElement\n      )\n    : null;\n}\n\nfunction mapStateToProps(state: AppState) {\n  return {\n    overlays: state.overlays\n  };\n}\n\nfunction mapDispatchToProps(dispatch: IDispatch) {\n  return {\n    onClose: (overlayID: OverlayID) => dispatch(closeOverlay(overlayID))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OverlayContainer);\n","import React from \"react\";\n\nexport default function RecordPrint(props: any) {\n  return (\n    <div>\n      <h1>{props.title}</h1>\n      <div dangerouslySetInnerHTML={{ __html: props.printHTML }}></div>\n    </div>\n  );\n}\n","import { NoteRecordID } from \"../notes/records/types\";\nimport { IDispatch, AppState } from \"../types\";\n\nexport function queuePrintRecords(ids: NoteRecordID[]) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    dispatch({\n      type: \"REPLACE\",\n      payload: ids\n    });\n  };\n}\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { AppState, IDispatch } from \"../../redux/types\";\nimport RecordPrint from \"./RecordPrint\";\nimport { createPortal } from \"react-dom\";\nimport { stateToHTML } from \"draft-js-export-html\";\nimport { convertFromRaw } from \"draft-js\";\nimport { NoteRecordID } from \"../../redux/notes/records/types\";\nimport { queuePrintRecords } from \"../../redux/print/actions\";\n\nfunction RecordPrintContainer(props: any) {\n  useEffect(() => {\n    if (props.printHTML) {\n      if (document && window) {\n        const titleBeforePrinting = document.title;\n        document.title = \"Notebook\";\n        window.print();\n        document.title = titleBeforePrinting;\n      }\n\n      if (typeof props.clearPrintQueue === \"function\") {\n        props.clearPrintQueue();\n      }\n    }\n  }, [props, props.printHTML]);\n\n  return (\n    <>\n      {props.printHTML &&\n        createPortal(\n          <RecordPrint title={props.title} printHTML={props.printHTML} />,\n          document.getElementById(\"print-mount\")!\n        )}\n    </>\n  );\n}\n\nfunction mapStateToProps(state: AppState) {\n  const { print, notes } = state;\n  const { records } = notes;\n\n  const printHTML = print.reduce((html: string, id: NoteRecordID) => {\n    const record = records[id];\n\n    if (record) {\n      const title = `<h2>${record.title}</h2>`;\n      return html + title + stateToHTML(convertFromRaw(record.content));\n    }\n\n    return html;\n  }, \"\");\n\n  return {\n    printHTML\n  };\n}\n\nfunction mapDispatchToProps(dispatch: IDispatch) {\n  return {\n    clearPrintQueue: () => dispatch(queuePrintRecords([]))\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RecordPrintContainer);\n","import { NoteGroupID } from \"../notes/groups/types\";\n\nexport type TabState = {\n  currentTabIndex: number;\n  records: NoteGroupID[];\n};\n\nexport const DEFAULT_TAB_STATE = {\n  currentTabIndex: 0,\n  records: [\"root\"]\n};\n\nexport enum TabActions {\n  CREATE_TAB = \"Tabs/Actions/CREATE_TAB\",\n  OPEN_TAB = \"Tabs/Actions/OPEN_TAB\",\n  CLOSE_TAB = \"Tabs/Actions/CLOSE_TAB\",\n  REPLACE = \"Tabs/Actions/REPLACE\"\n}\n","import { IDispatch, AppState } from \"../types\";\nimport { TabActions } from \"./types\";\nimport { NoteGroupID } from \"../notes/groups/types\";\nimport utils from \"../../utils\";\n\nexport function createNewTab(id: NoteGroupID = \"root\") {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { tabs } = getState();\n\n    const records = tabs.records.concat(id);\n\n    dispatch({\n      type: TabActions.CREATE_TAB,\n      payload: {\n        currentTabIndex: records.length - 1,\n        records,\n        id\n      }\n    });\n  };\n}\n\nexport function openTab(index: number) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { tabs } = getState();\n\n    if (index < 0 || index >= tabs.records.length) {\n      throw Error(`Tab at index ${index} is absent.`);\n    }\n\n    dispatch({\n      type: TabActions.OPEN_TAB,\n      payload: {\n        currentTabIndex: index,\n        id: tabs.records[index]\n      }\n    });\n  };\n}\n\nexport function closeTab(index: number) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { tabs } = getState();\n\n    if (tabs.records.length < 2) {\n      throw Error(\"Cannot close last tab.\");\n    }\n\n    if (index < 0 || index >= tabs.records.length) {\n      throw Error(`Tab at index ${index} is absent.`);\n    }\n\n    let currentTabIndex = tabs.currentTabIndex;\n\n    if (currentTabIndex > index) {\n      currentTabIndex -= 1;\n    } else if (currentTabIndex === index) {\n      currentTabIndex = index - 1;\n\n      if (currentTabIndex < 0) {\n        currentTabIndex = 0;\n      }\n    }\n\n    const records = utils.array.removeAtIndex(index, tabs.records);\n    const id = records[currentTabIndex];\n\n    dispatch({\n      type: TabActions.CLOSE_TAB,\n      payload: {\n        currentTabIndex,\n        records,\n        id\n      }\n    });\n  };\n}\n\nexport function closeOtherTabs(index: number) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { tabs } = getState();\n\n    if (tabs.records.length < 2) {\n      throw Error(\"Cannot close last tab.\");\n    }\n\n    if (index < 0 || index >= tabs.records.length) {\n      throw Error(`Tab at index ${index} is absent.`);\n    }\n\n    const records = [tabs.records[index]];\n\n    dispatch({\n      type: TabActions.REPLACE,\n      payload: {\n        currentTabIndex: 0,\n        records,\n        id: records[0]\n      }\n    });\n  };\n}\n\nexport function closeTabsAfter(index: number) {\n  return async (dispatch: IDispatch, getState: () => AppState) => {\n    const { tabs } = getState();\n\n    if (tabs.records.length < 2) {\n      throw Error(\"Cannot close last tab.\");\n    }\n\n    if (index < 0 || index >= tabs.records.length) {\n      throw Error(`Tab at index ${index} is absent.`);\n    }\n\n    const records = tabs.records.slice(0, index + 1);\n\n    let currentTabIndex = tabs.currentTabIndex;\n\n    if (currentTabIndex > index) {\n      currentTabIndex = index;\n    }\n\n    const id = records[currentTabIndex];\n\n    dispatch({\n      type: TabActions.REPLACE,\n      payload: {\n        currentTabIndex,\n        records,\n        id\n      }\n    });\n  };\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { ContextMenuTrigger } from \"react-contextmenu\";\nimport { FaFolder } from \"react-icons/fa\";\n\nimport { GroupProps } from \"./GroupProps\";\nimport {\n  openGroup,\n  removeGroup,\n  ungroupGroup,\n  moveToGroup\n} from \"../../../../redux/notes/actions\";\nimport { showOverlay } from \"../../../../redux/overlays/actions\";\nimport { OverlayType } from \"../../../../redux/overlays/types\";\nimport { KeycodeMap } from \"../../../AppEditor/layout/Editor/Shortcuts\";\nimport { createNewTab } from \"../../../../redux/tabs/actions\";\n\nexport default function Group(props: GroupProps) {\n  const dispatch = useDispatch();\n\n  function open() {\n    dispatch(openGroup(props.id));\n  }\n\n  function openInNewTab() {\n    dispatch(createNewTab(props.id));\n  }\n\n  function rename() {\n    dispatch(showOverlay(OverlayType.RENAME_GROUP, { id: props.id }));\n  }\n\n  function remove() {\n    dispatch(removeGroup(props.id));\n  }\n\n  function ungroup() {\n    dispatch(ungroupGroup(props.id));\n  }\n\n  function dragOver(event: React.DragEvent) {\n    event.preventDefault();\n  }\n\n  function dragStart(event: React.DragEvent) {\n    event.dataTransfer.setData(\n      \"text/plain\",\n      JSON.stringify({\n        index: props.index,\n        id: props.id\n      })\n    );\n  }\n\n  function drop(event: React.DragEvent) {\n    event.preventDefault();\n\n    const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n    const floatingID = data && data.id;\n\n    // Prevent moving parent to child folder.\n    if (props.path.includes(floatingID)) {\n      return;\n    }\n\n    if (floatingID && floatingID !== props.id) {\n      dispatch(moveToGroup(props.id, floatingID));\n    }\n  }\n\n  function handleClick(event: React.MouseEvent) {\n    if (typeof props.onClick === \"function\") {\n      props.onClick(event, props.id);\n    }\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent) {\n    const { keyCode } = event;\n    const key = KeycodeMap[keyCode];\n\n    if (key === \"enter\") {\n      dispatch(openGroup(props.id));\n    }\n\n    if (key === \"f2\") {\n      dispatch(showOverlay(OverlayType.RENAME_GROUP, { id: props.id }));\n    }\n\n    if (key === \"delete\") {\n      dispatch(removeGroup(props.id));\n    }\n  }\n\n  function forwardDataToContextMenu() {\n    return {\n      id: props.id,\n      index: props.index,\n      open,\n      openInNewTab,\n      rename,\n      remove,\n      ungroup\n    };\n  }\n\n  // @todo move to utility.\n  function timeConverter(UNIX_timestamp: number) {\n    const d = new Date(UNIX_timestamp);\n    const ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(d);\n    const mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(d);\n    const da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(d);\n    const hours = d.getHours();\n    const minutes = d.getMinutes();\n    const ampm = hours >= 12 ? \"pm\" : \"am\";\n\n    let HH = hours % 12;\n    HH = HH ? HH : 12; // the hour '0' should be '12'\n    let MM = minutes < 10 ? \"0\" + minutes : minutes;\n\n    const strTime = HH + \":\" + MM + \" \" + ampm;\n\n    return `${da}/${mo}/${ye} ${strTime}`;\n  }\n\n  return (\n    <ContextMenuTrigger\n      id=\"group-menu\"\n      holdToDisplay={-1}\n      collect={forwardDataToContextMenu}\n      attributes={{\n        className: `VTRow ${props.selected ? \"selected\" : \"\"} ${\n          props.className\n        }`,\n        style: { ...props.style, width: props.getRowWidth() },\n        tabIndex: props.index,\n        onDoubleClick: open,\n        draggable: true,\n        onDragOver: dragOver,\n        onDragStart: dragStart,\n        onDrop: drop,\n        onClick: handleClick,\n        onKeyDown: handleKeyDown\n      }}\n    >\n      <div className=\"VTCell\" style={{ width: props.getColumnWidth(0) }}>\n        <div className=\"VTCellContent\">\n          <FaFolder className=\"VTCellIcon\" />\n          <span>{props.title}</span>\n        </div>\n      </div>\n      <div className=\"VTCell\" style={{ width: props.getColumnWidth(1) }}>\n        <span>{props.updatedAt ? timeConverter(props.updatedAt) : \"-\"}</span>\n      </div>\n      <div className=\"VTCell\" style={{ width: props.getColumnWidth(2) }}>\n        <span>{props.type}</span>\n      </div>\n    </ContextMenuTrigger>\n  );\n}\n","import React from \"react\";\nimport { ContextMenuTrigger } from \"react-contextmenu\";\nimport { useDispatch } from \"react-redux\";\nimport { openEditor } from \"../../../../redux/editor/actions\";\nimport { queuePrintRecords } from \"../../../../redux/print/actions\";\nimport { showOverlay } from \"../../../../redux/overlays/actions\";\nimport { OverlayType } from \"../../../../redux/overlays/types\";\nimport { ungroupRecord } from \"../../../../redux/notes/actions\";\nimport { KeycodeMap } from \"../../../AppEditor/layout/Editor/Shortcuts\";\nimport { FaFileAlt } from \"react-icons/fa\";\n\nexport default function Record(props: any) {\n  const dispatch = useDispatch();\n\n  function open() {\n    dispatch(openEditor(props.id));\n  }\n\n  function print() {\n    dispatch(queuePrintRecords([props.id]));\n  }\n\n  function ungroup(event?: React.MouseEvent) {\n    dispatch(ungroupRecord(props.id));\n  }\n\n  function rename() {\n    dispatch(showOverlay(OverlayType.RENAME_RECORD, { id: props.id }));\n  }\n\n  function remove() {\n    dispatch(showOverlay(OverlayType.DELETE_RECORD, { id: props.id }));\n  }\n\n  function dragStart(event: React.DragEvent) {\n    event.dataTransfer.setData(\n      \"text/plain\",\n      JSON.stringify({\n        index: props.index,\n        id: props.id\n      })\n    );\n  }\n\n  function handleClick(event: React.MouseEvent) {\n    if (typeof props.onClick === \"function\") {\n      props.onClick(event, props.id);\n    }\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent) {\n    event.preventDefault();\n    const { keyCode } = event;\n    const key = KeycodeMap[keyCode];\n\n    if (key === \"enter\") {\n      dispatch(openEditor(props.id));\n    }\n\n    if (key === \"delete\") {\n      remove();\n    }\n\n    if (key === \"f2\") {\n      rename();\n    }\n  }\n\n  function forwardDataToContextMenu() {\n    return {\n      id: props.id,\n      index: props.index,\n      open,\n      print,\n      ungroup,\n      rename,\n      remove\n    };\n  }\n\n  // @todo move to utility.\n  function timeConverter(UNIX_timestamp: number) {\n    const d = new Date(UNIX_timestamp);\n    const ye = new Intl.DateTimeFormat(\"en\", { year: \"numeric\" }).format(d);\n    const mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(d);\n    const da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(d);\n    const hours = d.getHours();\n    const minutes = d.getMinutes();\n    const ampm = hours >= 12 ? \"pm\" : \"am\";\n\n    let HH = hours % 12;\n    HH = HH ? HH : 12; // the hour '0' should be '12'\n    let MM = minutes < 10 ? \"0\" + minutes : minutes;\n\n    const strTime = HH + \":\" + MM + \" \" + ampm;\n\n    return `${da}/${mo}/${ye} ${strTime}`;\n  }\n\n  return (\n    <ContextMenuTrigger\n      id=\"record-menu\"\n      holdToDisplay={-1}\n      collect={forwardDataToContextMenu}\n      attributes={{\n        className: `VTRow FileRow ${props.className}`,\n        style: { ...props.style, width: props.getRowWidth() },\n        tabIndex: props.index,\n        onDoubleClick: open,\n        draggable: true,\n        onDragStart: dragStart,\n        onClick: handleClick,\n        onKeyDown: handleKeyDown\n      }}\n    >\n      <div\n        className=\"VTCell\"\n        style={{\n          width: props.getColumnWidth(0)\n        }}\n      >\n        <div className=\"VTCellContent\">\n          <FaFileAlt className=\"VTCellIcon\" />\n          <span>{props.title}</span>\n        </div>\n      </div>\n      <div\n        className=\"VTCell\"\n        style={{\n          width: props.getColumnWidth(1)\n        }}\n      >\n        <span>{props.updatedAt ? timeConverter(props.updatedAt) : \"-\"}</span>\n      </div>\n      <div\n        className=\"VTCell\"\n        style={{\n          width: props.getColumnWidth(2)\n        }}\n      >\n        <span>{props.type}</span>\n      </div>\n    </ContextMenuTrigger>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../../../../redux/types\";\n\nimport \"./NoteRow.css\";\n\nimport Group from \"../Group/Group\";\nimport Record from \"../Record/Record\";\n\nexport default function NoteRow(props: any) {\n  const record = useSelector(\n    (state: AppState) => state.notes.records[props.id]\n  );\n\n  const group = useSelector((state: AppState) => state.notes.groups[props.id]);\n\n  if (record) {\n    return (\n      <Record\n        {...record}\n        className={props.className}\n        style={props.style}\n        index={props.index}\n        getRowWidth={props.getRowWidth}\n        getColumnWidth={props.getColumnWidth}\n      />\n    );\n  }\n\n  if (group) {\n    return (\n      <Group\n        {...group}\n        className={props.className}\n        style={props.style}\n        index={props.index}\n        getRowWidth={props.getRowWidth}\n        getColumnWidth={props.getColumnWidth}\n        selected={props.selected}\n        onClick={props.onClick}\n      />\n    );\n  }\n\n  return (\n    <div className=\"VTRow\" style={{ ...props.style, width: \"100%\" }}>\n      <div className=\"VTCell\" style={{ justifyContent: \"center\" }}>\n        This Folder is Empty.\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function ItemCounter(props: any) {\n  return (\n    <span>\n      {props.length} {props.length === 1 ? \"Item\" : \"Items\"}\n    </span>\n  );\n}\n","import React from \"react\";\n\nimport \"./Ribbon.css\";\n\nimport ItemCounter from \"./components/ItemCounter/ItemCounter\";\n\nexport default function Ribbon(props: any) {\n  return (\n    <div className=\"Ribbon\">\n      <ItemCounter length={props.length} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { Table, Column } from \"react-vt-table\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ContextMenuTrigger } from \"react-contextmenu\";\n\nimport \"react-vt-table/dist/style.css\";\nimport \"./NotesTable.css\";\n\nimport { AppState } from \"../../redux/types\";\nimport NoteRow from \"./components/NoteRow/NoteRow\";\nimport Ribbon from \"./components/Ribbon/Ribbon\";\nimport { moveToGroup } from \"../../redux/notes/actions\";\n\nexport default function NotesTable(props: any) {\n  const dispatch = useDispatch();\n\n  const currentGroupId = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const children = useSelector(\n    (state: AppState) => state.notes.groups[currentGroupId].children\n  );\n\n  const path = useSelector(\n    (state: AppState) => state.notes.groups[currentGroupId].path\n  );\n\n  function rowRenderer(props: any) {\n    const { index, style, isScrolling } = props;\n    const { getRowWidth, getColumnWidth } = props.data.rowProps;\n\n    return (\n      <NoteRow\n        id={children[index]}\n        index={index}\n        style={style}\n        getRowWidth={getRowWidth}\n        getColumnWidth={getColumnWidth}\n        className={index % 2 ? \"VTRowEven\" : \"VTRowOdd\"}\n        isScrolling={isScrolling}\n      />\n    );\n  }\n\n  function allowDrag(event: React.DragEvent) {\n    event.preventDefault();\n  }\n\n  function drop(event: React.DragEvent) {\n    event.preventDefault();\n\n    const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n    const floatingID = data && data.id;\n\n    // Prevent moving parent to child folder.\n    if (path.includes(floatingID)) {\n      return;\n    }\n\n    if (children.includes(floatingID)) {\n      return;\n    }\n\n    if (floatingID && floatingID !== currentGroupId) {\n      dispatch(moveToGroup(currentGroupId, floatingID));\n    }\n  }\n\n  return (\n    <>\n      <div className=\"NotesWrapper\">\n        <ContextMenuTrigger\n          id=\"table-menu\"\n          holdToDisplay={-1}\n          attributes={{\n            onDragOver: allowDrag,\n            onDrop: drop\n          }}\n        >\n          <AutoSizer>\n            {({ width, height }) => (\n              <Table\n                data={children.length ? children : [\"empty\"]}\n                width={width}\n                height={height}\n                rowHeight={40}\n                headerHeight={40}\n                minColumnWidth={30}\n                rowRenderer={rowRenderer}\n                autoScroll={true}\n                listProps={{\n                  overscanCount: 20,\n                  useIsScrolling: true\n                }}\n              >\n                <Column label=\"Name\" width={240} />\n                <Column label=\"Last Modified\" width={200} />\n                <Column label=\"Type\" width={100} />\n              </Table>\n            )}\n          </AutoSizer>\n        </ContextMenuTrigger>\n      </div>\n      <Ribbon length={children.length} />\n    </>\n  );\n}\n","import React from \"react\";\n\nimport \"./AsideButton.css\";\n\nexport default function AsideButton(props: any) {\n  function click(event: React.MouseEvent) {\n    if (typeof props.onClick === \"function\") {\n      props.onClick(event);\n    }\n  }\n\n  return (\n    <button\n      className=\"AsideButton\"\n      disabled={props.disabled}\n      onClick={click}\n      data-active={props.active}\n    >\n      {props.children || props.text}\n    </button>\n  );\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { FiHardDrive } from \"react-icons/fi\";\n\nimport AsideButton from \"../Button/AsideButton\";\nimport { openGroup } from \"../../../../redux/notes/actions\";\n\nexport default function HomeButton(props: any) {\n  const dispatch = useDispatch();\n\n  function goHome() {\n    dispatch(openGroup(\"root\"));\n  }\n\n  return (\n    <AsideButton onClick={goHome}>\n      <FiHardDrive />\n      <span>My Drive</span>\n    </AsideButton>\n  );\n}\n","import React from \"react\";\nimport { FiTrash2 } from \"react-icons/fi\";\n\nimport AsideButton from \"../Button/AsideButton\";\n\nexport default function RecycleButton(props: any) {\n  return (\n    <AsideButton>\n      <FiTrash2 />\n      <span>Recycle</span>\n    </AsideButton>\n  );\n}\n","import React, { forwardRef } from \"react\";\n\nimport SummaryProps from \"./SummaryProps\";\n\nconst Summary = forwardRef((props: SummaryProps, ref: any) => {\n  function keyDown(event: React.KeyboardEvent) {\n    if (typeof props.onClick !== \"function\") {\n      return;\n    }\n\n    const { key } = event;\n\n    if (key === \"Enter\" || key === \" \") {\n      props.onClick(Boolean(props.open));\n    }\n  }\n\n  function click() {\n    if (typeof props.onClick === \"function\") {\n      props.onClick(Boolean(props.open));\n    }\n  }\n\n  function renderChildren() {\n    if (typeof props.children === \"function\") {\n      return props.children(Boolean(props.open));\n    }\n\n    return props.children;\n  }\n\n  return (\n    <div\n      ref={ref}\n      tabIndex={props.disabled ? -1 : 0}\n      className={props.className ? `Summary ${props.className}` : \"Summary\"}\n      onClick={click}\n      onKeyDown={keyDown}\n    >\n      {renderChildren()}\n    </div>\n  );\n});\n\nSummary.displayName = \"CollapseSummary\";\n\nexport default Summary;\n","import React, {\n  forwardRef,\n  useMemo,\n  useRef,\n  useImperativeHandle,\n  useEffect,\n  useCallback\n} from \"react\";\n\nimport DetailsProps from \"./DetailsProps\";\n\nconst Details = forwardRef((props: DetailsProps, ref: any) => {\n  const details = useRef<HTMLDivElement>(null);\n\n  const style = useMemo(\n    () => ({\n      height: 0,\n      transition: `height 300ms ease-in`,\n      overflow: \"hidden\"\n    }),\n    []\n  );\n\n  const onCollapse = useMemo(() => {\n    if (typeof props.onCollapse === \"function\") {\n      return props.onCollapse;\n    }\n  }, [props.onCollapse]);\n\n  const onTransitionEnd = useCallback(() => {\n    if (details.current) {\n      if (details.current.style.height === \"0px\") {\n        if (typeof onCollapse === \"function\") {\n          onCollapse();\n        }\n      }\n    }\n  }, [onCollapse]);\n\n  useEffect(() => {\n    const _details = details.current;\n\n    if (props.open) {\n      if (_details) {\n        _details.style.height = _details.scrollHeight + \"px\";\n      }\n    }\n\n    if (_details) {\n      _details.addEventListener(\"transitionend\", onTransitionEnd);\n    }\n\n    return () => {\n      if (_details) {\n        _details.removeEventListener(\"transitionend\", onTransitionEnd);\n      }\n    };\n  }, [props.open, onTransitionEnd]);\n\n  useImperativeHandle(ref, () => ({\n    expand: () => {\n      if (details.current) {\n        details.current.style.height = details.current.scrollHeight + \"px\";\n      }\n    },\n    collapse: () => {\n      if (details.current) {\n        details.current.style.height = details.current.scrollHeight + \"px\";\n      }\n\n      setTimeout(() => {\n        if (details.current) {\n          details.current.style.height = \"0px\";\n        }\n      }, 0);\n    }\n  }));\n\n  function renderChildren() {\n    if (!props.open) {\n      return null;\n    }\n\n    if (typeof props.children === \"function\") {\n      return props.children(props.open);\n    }\n\n    return props.children;\n  }\n\n  return (\n    <div\n      ref={details}\n      className={props.className ? `Details ${props.className}` : \"Details\"}\n      style={style}\n    >\n      {renderChildren()}\n    </div>\n  );\n});\n\nDetails.displayName = \"CollapseDetails\";\n\nexport default Details;\n","import React, { useState, useEffect, useRef, cloneElement } from \"react\";\r\n\r\nexport { default as Summary } from \"./components/Summary/Summary\";\r\nexport { default as Details } from \"./components/Details/Details\";\r\n\r\nexport default function Collapse(props: any) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const details = useRef<any>(null);\r\n  const summary = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    setOpen(props.open);\r\n  }, [props.open]);\r\n\r\n  useEffect(() => {\r\n    if (typeof props.open === \"boolean\") {\r\n      setOpen(props.open);\r\n    }\r\n  }, [props.open]);\r\n\r\n  function collapse() {\r\n    if (details.current) {\r\n      details.current.collapse();\r\n    }\r\n  }\r\n\r\n  function expand() {\r\n    if (details.current) {\r\n      details.current.expand();\r\n    }\r\n\r\n    setOpen(true);\r\n  }\r\n\r\n  function toggleOpenState() {\r\n    if (open) {\r\n      collapse();\r\n    } else {\r\n      expand();\r\n    }\r\n  }\r\n\r\n  function close() {\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={props.className ? `Collapse ${props.className}` : \"Collapse\"}\r\n    >\r\n      {React.Children.map(props.children, (child: any) => {\r\n        if (child.type && child.type.displayName === \"CollapseSummary\") {\r\n          return cloneElement(child, {\r\n            ...child.props,\r\n            open,\r\n            onClick: toggleOpenState,\r\n            ref: summary\r\n          });\r\n        }\r\n\r\n        if (child.type && child.type.displayName === \"CollapseDetails\") {\r\n          return cloneElement(child, {\r\n            ...child.props,\r\n            open,\r\n            ref: details,\r\n            onCollapse: close\r\n          });\r\n        }\r\n\r\n        return child;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { FiClock } from \"react-icons/fi\";\nimport { FaCaretLeft, FaCaretDown } from \"react-icons/fa\";\n\nimport HomeButton from \"../HomeButton/HomeButton\";\nimport RecycleButton from \"../RecycleButton/RecycleButton\";\nimport Collapse, { Summary, Details } from \"../../../UI/Collapse\";\n\nexport default function QuickAccess(props: any) {\n  return (\n    <Collapse className=\"QuickAccess\" open={true}>\n      <Summary>\n        {(expanded: boolean) => (\n          <h4>\n            <FiClock />\n            <span>Quick Access</span>\n            {expanded ? <FaCaretDown /> : <FaCaretLeft />}\n          </h4>\n        )}\n      </Summary>\n      <Details>\n        <div className=\"Wrapper\">\n          <HomeButton />\n          <RecycleButton />\n        </div>\n      </Details>\n    </Collapse>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { FaFolder } from \"react-icons/fa\";\n\nimport AsideButton from \"../../../Button/AsideButton\";\nimport { AppState } from \"../../../../../../redux/types\";\nimport { openGroup } from \"../../../../../../redux/notes/actions\";\n\nexport default function FavoriteFolder(props: any) {\n  const dispatch = useDispatch();\n\n  const title = useSelector(\n    (state: AppState) => state.notes.groups[props.id].title\n  );\n\n  function open() {\n    dispatch(openGroup(props.id));\n  }\n\n  return (\n    <AsideButton\n      style={props.style}\n      className=\"FavoriteFolder\"\n      onClick={open}\n      title={title}\n    >\n      <FaFolder aria-hidden={true} />\n      <span>{title}</span>\n    </AsideButton>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FiStar } from \"react-icons/fi\";\nimport { FaCaretLeft, FaCaretDown } from \"react-icons/fa\";\nimport { FixedSizeList as List } from \"react-window\";\n\nimport \"./Favorites.css\";\n\nimport Collapse, { Summary, Details } from \"../../../UI/Collapse\";\nimport { AppState } from \"../../../../redux/types\";\nimport AsideButton from \"../Button/AsideButton\";\nimport FavoriteFolder from \"./components/Favorite/FavoriteFolder\";\n\nexport default function Favorites(props: any) {\n  const favorites = useSelector((state: AppState) => state.favorites);\n\n  const length = favorites.length || 1;\n\n  const height = length * 40;\n\n  const Row = ({ index, style }: { index: number; style: any }) => {\n    if (favorites.length === 0) {\n      return (\n        <AsideButton style={style} className=\"FavoriteFolder\">\n          No Favorites\n        </AsideButton>\n      );\n    }\n\n    return <FavoriteFolder id={favorites[index]} />;\n  };\n\n  return (\n    <Collapse className=\"Favorites\">\n      <Summary>\n        {(expanded: boolean) => (\n          <h4>\n            <FiStar />\n            <span>Favorites</span>\n            {expanded ? <FaCaretDown /> : <FaCaretLeft />}\n          </h4>\n        )}\n      </Summary>\n      <Details>\n        <div className=\"Wrapper\">\n          <List height={height} itemCount={length} itemSize={40} width={280}>\n            {Row}\n          </List>\n        </div>\n      </Details>\n    </Collapse>\n  );\n}\n","import React from \"react\";\n\nimport \"./Aside.css\";\n\nimport QuickAccess from \"./components/QuickAccess/QuickAccess\";\nimport Favorites from \"./components/Favorites/Favorites\";\n\nexport default function Aside(props: any) {\n  return (\n    <div className=\"Aside\">\n      <QuickAccess />\n      <Favorites />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { useDispatch } from \"react-redux\";\n\nimport { showOverlay } from \"../../../redux/overlays/actions\";\nimport { OverlayType } from \"../../../redux/overlays/types\";\nimport { openEditor } from \"../../../redux/editor/actions\";\n\nexport default function TableMenu(props: any) {\n  const dispatch = useDispatch();\n\n  function createGroup(event: React.MouseEvent) {\n    event.preventDefault();\n\n    dispatch(showOverlay(OverlayType.CREATE_GROUP));\n  }\n\n  function createRecord(event: React.MouseEvent) {\n    event.preventDefault();\n\n    dispatch(openEditor());\n  }\n\n  return (\n    <ContextMenu id=\"table-menu\">\n      <MenuItem onClick={createGroup}>Create Folder</MenuItem>\n      <MenuItem onClick={createRecord}>Create Note</MenuItem>\n    </ContextMenu>\n  );\n}\n","import React from \"react\";\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../../../redux/types\";\nimport utils from \"../../../utils\";\n\nexport default function FolderMenu(props: any) {\n  const currentGroupId = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const parentGroupID = useSelector((state: AppState) =>\n    utils.array.last(state.notes.groups[currentGroupId].path)\n  );\n\n  function open(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.open === \"function\") {\n      data.open();\n    }\n  }\n\n  function openInNewTab(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.openInNewTab === \"function\") {\n      data.openInNewTab();\n    }\n  }\n\n  function rename(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.rename === \"function\") {\n      data.rename();\n    }\n  }\n\n  function ungroup(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.ungroup === \"function\") {\n      data.ungroup();\n    }\n  }\n\n  function remove(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.remove === \"function\") {\n      data.remove();\n    }\n  }\n\n  return (\n    <ContextMenu id=\"group-menu\">\n      <MenuItem onClick={open}>Open</MenuItem>\n      <MenuItem onClick={openInNewTab}>Open in new tab</MenuItem>\n      <MenuItem divider />\n      <MenuItem disabled={true}>Copy</MenuItem>\n      <MenuItem disabled={true}>Cut</MenuItem>\n      <MenuItem onClick={rename}>Rename</MenuItem>\n      <MenuItem divider />\n      <MenuItem disabled={!Boolean(parentGroupID)} onClick={ungroup}>\n        Ungroup\n      </MenuItem>\n      <MenuItem divider />\n      <MenuItem onClick={remove}>Remove</MenuItem>\n    </ContextMenu>\n  );\n}\n","import React from \"react\";\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"../../../redux/types\";\nimport utils from \"../../../utils\";\n\nexport default function FileMenu(props: any) {\n  const currentGroupId = useSelector(\n    (state: AppState) => state.notes.currentGroupID\n  );\n\n  const parentGroupID = useSelector((state: AppState) =>\n    utils.array.last(state.notes.groups[currentGroupId].path)\n  );\n\n  function open(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.open === \"function\") {\n      data.open();\n    }\n  }\n\n  function print(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.print === \"function\") {\n      data.print();\n    }\n  }\n\n  function rename(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.rename === \"function\") {\n      data.rename();\n    }\n  }\n\n  function ungroup(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.ungroup === \"function\") {\n      data.ungroup();\n    }\n  }\n\n  function remove(event: React.MouseEvent, data: any) {\n    event.preventDefault();\n\n    if (typeof data.remove === \"function\") {\n      data.remove();\n    }\n  }\n\n  return (\n    <ContextMenu id=\"record-menu\">\n      <MenuItem onClick={open}>Open</MenuItem>\n      <MenuItem onClick={print}>Print</MenuItem>\n      <MenuItem divider />\n      <MenuItem disabled={true}>Copy</MenuItem>\n      <MenuItem disabled={true}>Cut</MenuItem>\n      <MenuItem onClick={rename}>Rename</MenuItem>\n      <MenuItem divider />\n      <MenuItem disabled={!Boolean(parentGroupID)} onClick={ungroup}>\n        Ungroup\n      </MenuItem>\n      <MenuItem divider />\n      <MenuItem onClick={remove}>Remove</MenuItem>\n    </ContextMenu>\n  );\n}\n","import Tab from \"./Tab\";\n\nexport default Tab;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MdClose } from \"react-icons/md\";\nimport { ContextMenuTrigger } from \"react-contextmenu\";\n\nimport \"./Tab.css\";\n\nimport { AppState } from \"../../../../redux/types\";\nimport {\n  openTab,\n  closeTab,\n  closeOtherTabs,\n  createNewTab,\n  closeTabsAfter\n} from \"../../../../redux/tabs/actions\";\n\nexport default function Tab(props: any) {\n  const dispatch = useDispatch();\n\n  const folderId = useSelector(\n    (state: AppState) => state.tabs.records[props.index]\n  );\n\n  const title = useSelector(\n    (state: AppState) => state.notes.groups[folderId].title\n  );\n\n  const active = useSelector(\n    (state: AppState) => state.tabs.currentTabIndex === props.index\n  );\n\n  const length = useSelector((state: AppState) => state.tabs.records.length);\n\n  function open() {\n    dispatch(openTab(props.index));\n  }\n\n  function duplicate() {\n    dispatch(createNewTab(folderId));\n  }\n\n  function close(event?: React.MouseEvent) {\n    if (event) {\n      event.stopPropagation();\n    }\n\n    if (length < 2) {\n      return;\n    }\n\n    dispatch(closeTab(props.index));\n  }\n\n  function closeOther() {\n    if (length < 2) {\n      return;\n    }\n\n    dispatch(closeOtherTabs(props.index));\n  }\n\n  function closeAfter() {\n    if (length < 2) {\n      return;\n    }\n\n    dispatch(closeTabsAfter(props.index));\n  }\n\n  function onDragOver(event: React.DragEvent) {\n    event.preventDefault();\n\n    open();\n  }\n\n  function passDataToContextMenu() {\n    return { duplicate, close, closeOther, closeAfter };\n  }\n\n  return (\n    <ContextMenuTrigger\n      renderTag=\"button\"\n      id=\"tab-menu\"\n      holdToDisplay={-1}\n      attributes={{\n        className: `Tab ${active ? \"active\" : \"\"}`,\n        onClick: open,\n        title,\n        onDragOver\n      }}\n      collect={passDataToContextMenu}\n    >\n      <span>{title}</span>\n      {length > 1 && (\n        <div\n          className=\"Button\"\n          onClick={close}\n          title=\"Close tab\"\n          aria-label=\"Close tab\"\n        >\n          <MdClose className=\"Icon\" aria-hidden=\"true\" />\n        </div>\n      )}\n    </ContextMenuTrigger>\n  );\n}\n","import NewTabButton from \"./NewTabButton\";\n\nexport default NewTabButton;\n","import React from \"react\";\nimport { FiPlus } from \"react-icons/fi\";\n\nimport Button from \"../../../UI/Button\";\nimport { useDispatch } from \"react-redux\";\nimport { createNewTab } from \"../../../../redux/tabs/actions\";\n\nexport default function NewTabButton(props: any) {\n  const dispatch = useDispatch();\n\n  const label = \"Create new tab\";\n\n  function onClick() {\n    dispatch(createNewTab());\n  }\n\n  return (\n    <Button title={label} aria-label={label} onClick={onClick}>\n      <FiPlus />\n    </Button>\n  );\n}\n","import FolderTabs from \"./FolderTabs\";\n\nexport default FolderTabs;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport \"./FolderTabs.css\";\n\nimport { AppState } from \"../../redux/types\";\nimport Tab from \"./components/Tab\";\nimport NewTabButton from \"./components/NewTabButton\";\n\nexport default function FolderTabs() {\n  const length = useSelector((state: AppState) => state.tabs.records.length);\n\n  return (\n    <div className=\"FolderTabs\">\n      {React.Children.map(Array.from({ length }), (_: any, index: number) => {\n        return <Tab index={index} />;\n      })}\n      <NewTabButton />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createNewTab } from \"../../../redux/tabs/actions\";\nimport { AppState } from \"../../../redux/types\";\n\nexport default function TabMenu(props: any) {\n  const dispatch = useDispatch();\n\n  const length = useSelector((state: AppState) => state.tabs.records.length);\n\n  function newTab() {\n    dispatch(createNewTab());\n  }\n\n  function duplicate(event: React.MouseEvent, data: any) {\n    if (typeof data.duplicate === \"function\") {\n      data.duplicate();\n    }\n  }\n\n  function closeTab(event: React.MouseEvent, data: any) {\n    if (typeof data.close === \"function\") {\n      data.close();\n    }\n  }\n\n  function closeOtherTabs(event: React.MouseEvent, data: any) {\n    if (typeof data.closeOther === \"function\") {\n      data.closeOther();\n    }\n  }\n\n  function closeAfter(event: React.MouseEvent, data: any) {\n    if (typeof data.closeAfter === \"function\") {\n      data.closeAfter();\n    }\n  }\n\n  return (\n    <ContextMenu id=\"tab-menu\">\n      <MenuItem onClick={newTab}>New Tab</MenuItem>\n      <MenuItem onClick={duplicate}>Duplicate</MenuItem>\n      <MenuItem divider />\n      <MenuItem disabled={length < 2} onClick={closeTab}>\n        Close Tab\n      </MenuItem>\n      <MenuItem disabled={length < 2} onClick={closeOtherTabs}>\n        Close other tabs\n      </MenuItem>\n      <MenuItem disabled={length < 2} onClick={closeAfter}>\n        Close tabs to the right\n      </MenuItem>\n    </ContextMenu>\n  );\n}\n","import React from \"react\";\nimport { Container, Section, Bar } from \"react-simple-resizer\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nimport \"./App.css\";\n\nimport AppHeader from \"./components/AppHeader\";\nimport Navigator from \"./components/Navigator\";\nimport AppEditorContainer from \"./components/AppEditor\";\nimport OverlayContainer from \"./components/Overlay\";\nimport RecordPrintContainer from \"./components/RecordPrint\";\nimport NotesTable from \"./components/NotesTable/NotesTable\";\nimport Aside from \"./components/Aside/Aside\";\nimport TableMenu from \"./components/ContextMenu/TableMenu/TableMenu\";\nimport FolderMenu from \"./components/ContextMenu/FolderMenu/FolderMenu\";\nimport FileMenu from \"./components/ContextMenu/FileMenu/FileMenu\";\nimport FolderTabs from \"./components/FolderTabs\";\nimport TabMenu from \"./components/ContextMenu/TabMenu/TabMenu\";\n\nfunction App() {\n  return (\n    <>\n      <div className=\"App react-no-print\">\n        <AppHeader />\n        <Navigator />\n        {/* Test component */}\n        <AppEditorContainer />\n        {/* Test component */}\n        {/* <SettingsDrawerContainer /> */}\n        {/* Test component */}\n        {/* <NotesContainer /> */}\n        <div className=\"AppPanel\">\n          <AutoSizer>\n            {({ width, height }) => (\n              <Container className=\"ResizeContainer\" style={{ width, height }}>\n                <Section\n                  className=\"ResizeSection\"\n                  defaultSize={300}\n                  maxSize={300}\n                >\n                  <Aside />\n                </Section>\n                <Bar size={5} className=\"ResizerBar\" />\n                <Section>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      height: \"100%\"\n                    }}\n                  >\n                    <NotesTable />\n                    <FolderTabs />\n                  </div>\n                </Section>\n              </Container>\n            )}\n          </AutoSizer>\n        </div>\n        <OverlayContainer />\n        <TableMenu />\n        <FolderMenu />\n        <FileMenu />\n        <TabMenu />\n      </div>\n      <RecordPrintContainer />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import utils from \"../../../utils\";\n\nexport type NoteGroupID = string;\n\nexport interface NoteGroup {\n  id: NoteGroupID;\n  path: string[];\n  title: string;\n  type: string;\n  children: string[];\n\n  updatedAt?: number;\n  favorite?: boolean;\n}\n\nexport interface NotesGroups {\n  [id: string]: NoteGroup;\n}\n\nexport enum NotesGroupsActions {\n  REPLACE = \"Notes/Groups/Actions/REPLACE\",\n  REPLACE_ALL = \"Notes/Groups/Actions/REPLACE_ALL\"\n}\n\nexport const DEFAULT_NOTES_GROUPS_STATE: NotesGroups = ((): NotesGroups => {\n  const now = Date.now();\n\n  const groups: NotesGroups = {\n    root: {\n      id: \"root\",\n      path: [],\n      title: \"My Drive\",\n      updatedAt: now,\n      type: \"Folder\",\n      children: [\"fakultet\"]\n    },\n    fakultet: {\n      id: \"fakultet\",\n      path: [\"root\"],\n      title: \"Fakultet\",\n      updatedAt: now,\n      type: \"Folder\",\n      children: [\"ostalo\"]\n    },\n    ostalo: {\n      id: \"ostalo\",\n      path: [\"root\", \"fakultet\"],\n      title: \"Ostalo\",\n      updatedAt: now,\n      type: \"Folder\",\n      children: [\"instruction\"]\n    }\n  };\n\n  for (let i = 0; i < 0; i++) {\n    const id = utils.string.generateRandom(6);\n\n    groups[id] = {\n      id,\n      path: [\"root\"],\n      title: id,\n      updatedAt: now,\n      type: \"Folder\",\n      children: []\n    };\n\n    groups.root.children.push(id);\n  }\n\n  return groups;\n})();\n","import { RawDraftContentState } from \"draft-js\";\nimport { NoteGroupID } from \"../groups/types\";\nimport instructionsContentState from \"../../../data/instructionsContentState\";\n\n/**\n * A `NoteRecord` unique identifier.\n */\nexport type NoteRecordID = string;\n\nexport type NoteRecord = {\n  id: NoteRecordID;\n  parent: NoteGroupID;\n  title: string;\n  content: RawDraftContentState;\n  type: string;\n  createdAt: number;\n\n  // Temporary typescript workaround.\n  children?: any;\n  updatedAt?: number;\n};\n\nexport type NotesRecords = {\n  [id: string]: NoteRecord;\n};\n\nexport const DEFAULT_RECORDS_STATE: NotesRecords = {\n  instruction: {\n    id: \"instruction\",\n    parent: \"ostalo\",\n    title: \"INSTRUCTIONS\",\n    content: instructionsContentState,\n    type: \"Note\",\n    createdAt: Date.now(),\n    updatedAt: Date.now()\n  }\n};\n","import { RawDraftContentState } from \"draft-js\";\n\nexport default {\n  blocks: [\n    {\n      key: \"8ofdk\",\n      text: \"EDITOR\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 0,\n          length: 6,\n          style: \"BOLD\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"aemmj\",\n      text: \"\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"35hd4\",\n      text: \"In order to save a note, use shortcut ctrl + s.\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"2dqfh\",\n      text: \"To close editor, you can simply use escape key. (ESC)\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 48,\n          length: 5,\n          style: \"ITALIC\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"e5mv2\",\n      text: \"\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"a71vr\",\n      text: \"Available shortcuts:\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"dhmf5\",\n      text: \"\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"8jlev\",\n      text: \"1. ctrl + b - Bold\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 14,\n          length: 4,\n          style: \"BOLD\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"5ikho\",\n      text: \"2. ctrl + i  - Italic\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 15,\n          length: 6,\n          style: \"ITALIC\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"eacar\",\n      text: \"3. ctrl + u - Underline\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 14,\n          length: 9,\n          style: \"UNDERLINE\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"2h4vl\",\n      text: \"4. ctrl + shift + s - Strikethrough\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 22,\n          length: 13,\n          style: \"STRIKETHROUGH\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"cefcc\",\n      text: \"\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"alrtq\",\n      text: \"NOTES\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 0,\n          length: 5,\n          style: \"BOLD\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"cgvgp\",\n      text: \"\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"1jo4c\",\n      text:\n        \"- To move a note or a group into the another group, simply drag that note over the target group and drop.\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"bqsbk\",\n      text: \"\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {}\n    },\n    {\n      key: \"cvojm\",\n      text:\n        \"- To ungroup certain note or group from current group, use right click > ungroup option.\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [\n        {\n          offset: 59,\n          length: 11,\n          style: \"BOLD\"\n        },\n        {\n          offset: 73,\n          length: 8,\n          style: \"BOLD\"\n        }\n      ],\n      entityRanges: [],\n      data: {}\n    }\n  ],\n  entityMap: {}\n} as RawDraftContentState;\n","import { combineReducers } from \"redux\";\n\nimport recordsReducer from \"./records/reducer\";\nimport groupsReducer from \"./groups/reducer\";\nimport groupReducer from \"./group/reducer\";\n\nexport default combineReducers({\n  currentGroupID: groupReducer,\n  groups: groupsReducer,\n  records: recordsReducer\n});\n","import { NoteGroupID } from \"../groups/types\";\nimport { NotesActions } from \"../types\";\nimport { TabActions } from \"../../tabs/types\";\n\nexport default function groupReducer(state: NoteGroupID = \"root\", action: any) {\n  switch (action.type) {\n    case NotesActions.OPEN_GROUP:\n      return action.payload;\n    case TabActions.CREATE_TAB:\n      return action.payload.id;\n    case TabActions.OPEN_TAB:\n      return action.payload.id;\n    case TabActions.CLOSE_TAB:\n      return action.payload.id;\n    default:\n      return state;\n  }\n}\n","import { NotesGroups, DEFAULT_NOTES_GROUPS_STATE } from \"./types\";\nimport { NotesActions } from \"../types\";\nimport utils from \"../../../utils\";\nimport { FavoriteActions } from \"../../favorites/types\";\n\nexport default function groupsReducer(\n  state: NotesGroups = DEFAULT_NOTES_GROUPS_STATE,\n  action: any\n) {\n  switch (action.type) {\n    case NotesActions.CREATE_RECORD:\n      return {\n        ...state,\n        [action.payload.parent]: {\n          ...state[action.payload.parent],\n          children: state[action.payload.parent].children.concat(\n            action.payload.id\n          )\n        }\n      };\n    case NotesActions.REMOVE_RECORD:\n      return {\n        ...state,\n        [action.payload.parent]: {\n          ...state[action.payload.parent],\n          children: state[action.payload.parent].children.filter(\n            id => id !== action.payload.id\n          )\n        }\n      };\n    case NotesActions.CREATE_GROUP:\n      return {\n        ...state,\n        [action.payload.targetGroupID]: {\n          ...state[action.payload.targetGroupID],\n          children: state[action.payload.targetGroupID].children.concat(\n            action.payload.id\n          )\n        },\n        [action.payload.id]: {\n          ...action.payload\n        }\n      };\n    case NotesActions.UPDATE_GROUP:\n      return {\n        ...state,\n        [action.payload.id]: action.payload\n      };\n    case NotesActions.REMOVE_GROUP:\n      return {\n        ...utils.object.deleteProperty(action.payload.id, state),\n        [action.payload.parentGroupId]: {\n          ...state[action.payload.parentGroupId],\n          children: state[action.payload.parentGroupId].children.filter(\n            id => id !== action.payload.id\n          )\n        }\n      };\n    case NotesActions.MOVE_GROUP:\n      return {\n        ...action.payload\n      };\n    case NotesActions.MOVE_RECORD:\n      return {\n        ...state,\n        [action.payload.targetGroupID]: {\n          ...state[action.payload.targetGroupID],\n          children: state[action.payload.targetGroupID].children.concat(\n            action.payload.id\n          )\n        },\n        [action.payload.parent]: {\n          ...state[action.payload.parent],\n          children: state[action.payload.parent].children.filter(\n            id => id !== action.payload.id\n          )\n        }\n      };\n    case NotesActions.REORDER:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...action.payload\n        }\n      };\n    case FavoriteActions.ADD:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          favorite: true\n        }\n      };\n    case FavoriteActions.REMOVE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          favorite: false\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import { NotesRecords, DEFAULT_RECORDS_STATE } from \"./types\";\nimport { NotesActions } from \"../types\";\nimport utils from \"../../../utils\";\n\nexport default function recordsReducer(\n  state: NotesRecords = DEFAULT_RECORDS_STATE,\n  action: any\n): NotesRecords {\n  switch (action.type) {\n    case NotesActions.CREATE_RECORD:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...action.payload\n        }\n      };\n    case NotesActions.REMOVE_RECORD:\n      return utils.object.deleteProperty(action.payload.id, state);\n    case NotesActions.UPDATE_RECORD:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          ...action.payload\n        }\n      };\n    case NotesActions.MOVE_RECORD:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          parent: action.payload.targetGroupID\n        }\n      };\n    default:\n      return state;\n  }\n}\n","export type EditorSettingsState = {\n  autoSave?: boolean;\n  saveAndClose?: boolean;\n  spellCheck?: boolean;\n};\n\nexport const EditorSettingsDefaultState: EditorSettingsState = {\n  autoSave: true,\n  saveAndClose: false,\n  spellCheck: false\n};\n\nexport enum EditorSettingsActions {\n  REPLACE = \"Settings/Editor/Actions/REPLACE\",\n  REPLACE_ALL = \"Settings/Editor/Actions/REPLACE_ALL\"\n}\n","export type NotesSettingState = {\n  softDelete: boolean;\n};\n\nexport const NotesSettingsDefaultState = {\n  softDelete: true\n};\n\nexport enum NotesSettingsActions {\n  REPLACE = \"Settings/Notes/Actions/REPLACE\",\n  REPLACE_ALL = \"Settings/Notes/Actions/REPLACE_ALL\"\n}\n","import { combineReducers } from \"redux\";\nimport editorSettingsReducer from \"./editor/reducer\";\nimport notesSettingsReducer from \"./notes/reducer\";\n\nexport default combineReducers({\n  editor: editorSettingsReducer,\n  notes: notesSettingsReducer\n});\n","import {\n  EditorSettingsState,\n  EditorSettingsDefaultState,\n  EditorSettingsActions\n} from \"./types\";\n\nexport default function editorSettingsReducer(\n  state: EditorSettingsState = EditorSettingsDefaultState,\n  action: any\n) {\n  switch (action.type) {\n    case EditorSettingsActions.REPLACE:\n      return { ...state, ...action.payload };\n    case EditorSettingsActions.REPLACE_ALL:\n      return { ...action.payload };\n    default:\n      return state;\n  }\n}\n","import {\n  NotesSettingState,\n  NotesSettingsDefaultState,\n  NotesSettingsActions\n} from \"./types\";\n\nexport default function notesSettingsReducer(\n  state: NotesSettingState = NotesSettingsDefaultState,\n  action: any\n) {\n  switch (action.type) {\n    case NotesSettingsActions.REPLACE:\n      return { ...state, ...action.payload };\n    case NotesSettingsActions.REPLACE_ALL:\n      return { ...action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport notesReducers from \"./notes/reducers\";\nimport editorReducer from \"./editor/reducer\";\nimport settingsReducers from \"./settings/reducers\";\nimport overlaysReducer from \"./overlays/reducer\";\nimport printReducer from \"./print/reducer\";\nimport tabReducer from \"./tabs/reducer\";\nimport favoriteReducer from \"./favorites/reducer\";\n\nexport default combineReducers({\n  notes: notesReducers,\n  tabs: tabReducer,\n  favorites: favoriteReducer,\n  editor: editorReducer,\n  settings: settingsReducers,\n  overlays: overlaysReducer,\n  print: printReducer\n});\n","import { TabState, TabActions, DEFAULT_TAB_STATE } from \"./types\";\nimport { NotesActions } from \"../notes/types\";\nimport utils from \"../../utils\";\n\nexport default function tabReducer(\n  state: TabState = DEFAULT_TAB_STATE,\n  action: any\n) {\n  switch (action.type) {\n    case TabActions.CREATE_TAB:\n      return {\n        currentTabIndex: action.payload.currentTabIndex,\n        records: action.payload.records\n      };\n    case TabActions.OPEN_TAB:\n      return {\n        ...state,\n        currentTabIndex: action.payload.currentTabIndex\n      };\n    case TabActions.CLOSE_TAB:\n      return {\n        currentTabIndex: action.payload.currentTabIndex,\n        records: action.payload.records\n      };\n    case TabActions.REPLACE:\n      return {\n        currentTabIndex: action.payload.currentTabIndex,\n        records: action.payload.records.slice()\n      };\n    case NotesActions.OPEN_GROUP:\n      return {\n        ...state,\n        records: utils.array.replaceAtIndex(\n          state.currentTabIndex,\n          state.records,\n          action.payload\n        )\n      };\n    case NotesActions.REMOVE_GROUP:\n      return {\n        ...state,\n        records: action.payload.records\n      };\n    default:\n      return state;\n  }\n}\n","import { FavoriteActions, FavoritesState } from \"./types\";\nimport { NotesActions } from \"../notes/types\";\n\nexport default function favoriteReducer(\n  state: FavoritesState = [],\n  action: any\n) {\n  switch (action.type) {\n    case FavoriteActions.ADD:\n      return state.concat(action.payload.id);\n    case FavoriteActions.REMOVE:\n    case NotesActions.REMOVE_GROUP:\n      return state.filter(id => id !== action.payload.id);\n    default:\n      return state;\n  }\n}\n","import {\n  NoteEditorState,\n  NoteEditorDefaultState,\n  NoteEditorStateActions\n} from \"./types\";\n\nexport default function editorReducer(\n  state: NoteEditorState = NoteEditorDefaultState,\n  action: any\n): NoteEditorState {\n  switch (action.type) {\n    case NoteEditorStateActions.REPLACE:\n      return { ...state, ...action.payload };\n    case NoteEditorStateActions.REPLACE_ALL:\n      return { ...action.payload };\n    default:\n      return state;\n  }\n}\n","import { OverlaysActions, OverlayState } from \"./types\";\n\nexport default function overlaysReducer(state: OverlayState = [], action: any) {\n  switch (action.type) {\n    case OverlaysActions.OPEN_OVERLAY:\n      return [...state, action.payload];\n    case OverlaysActions.CLOSE_OVERLAY:\n      return state.filter(({ overlayID }) => overlayID !== action.payload);\n    default:\n      return state;\n  }\n}\n","import { PrintState } from \"./types\";\n\nexport default function printReducer(state: PrintState = [], action: any) {\n  switch (action.type) {\n    case \"REPLACE\":\n      return [...action.payload.slice()];\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport appReducers from \"./reducers\";\n\nconst middlewares = [thunk];\n\nexport default createStore(\n  appReducers,\n  composeWithDevTools(applyMiddleware(...middlewares))\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.css\";\nimport \"./print.css\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\") as HTMLDivElement\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}