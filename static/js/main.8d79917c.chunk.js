(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{183:function(e,t,n){e.exports=n(335)},194:function(e,t,n){},195:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"first",(function(){return R})),n.d(a,"last",(function(){return D})),n.d(a,"chunk",(function(){return A})),n.d(a,"swap",(function(){return j})),n.d(a,"mapReversed",(function(){return w})),n.d(a,"map",(function(){return I})),n.d(a,"replaceAtIndex",(function(){return k})),n.d(a,"removeAtIndex",(function(){return N}));var r={};n.r(r),n.d(r,"getTabbableElements",(function(){return T}));var o={};n.r(o),n.d(o,"clear",(function(){return L})),n.d(o,"truncate",(function(){return S}));var c={};n.r(c),n.d(c,"deleteProperty",(function(){return G}));var i={};n.r(i),n.d(i,"generateRandom",(function(){return U})),n.d(i,"isString",(function(){return B}));var l=n(1),u=n.n(l),s=n(31),d=n.n(s),f=n(5),p=(n(194),n(195),n(92)),E=n(121),m=(n(205),n(206),n(207),n(23));n(208);var y,h,v=function(e){var t=["Button",e.className];return u.a.createElement("button",Object.assign({},e,{className:t.join("")}),e.children)},b=n(10),O=n.n(b),g=n(7),C=n(18);function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[0]}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[e.length-1]}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t<1)throw Error("Chunk size must be greater than one.");for(var n=Array.from({length:Math.ceil(e.length/t)},(function(){return[]})),a=0,r=0;r<n.length;r++)for(var o=n[r],c=0;c<t;c++)"undefined"!==typeof e[a]&&o.push(e[a++]);return n}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||t<0)throw Error("Swap indexes must be greater than or equal to 0.");if(e>=n.length||t>=n.length)throw Error("Swap indexes must be less than the size of array.");for(var a=Array(n.length),r=n[t],o=n[e],c=0;c<n.length;c++)a[c]=c!==e?c!==t?n[c]:o:r;return a}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),a=t.length-1;a>-1;a--)n[t.length-a-1]=e(t[a],a,t);return n}function I(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),a=0;a<t.length;a++)n[a]=e(t[a],a,t);return n}function k(e,t,n){return t.slice(0,e).concat(n,t.slice(e+1))}function N(e,t){return t.slice(0,e).concat(t.slice(e+1))}function T(e){var t,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])',"audio[controls]","video[controls]"];if(e&&document)return"string"===typeof e?null===(t=document.getElementById(e))||void 0===t?void 0:t.querySelectorAll(n.join(",")):e.querySelectorAll(n.join(","))}!function(e){e[e.DELETE_RECORD=0]="DELETE_RECORD",e[e.RENAME_RECORD=1]="RENAME_RECORD",e[e.CREATE_GROUP=2]="CREATE_GROUP",e[e.RENAME_GROUP=3]="RENAME_GROUP"}(y||(y={})),function(e){e.OPEN_OVERLAY="Overlays/Actions/OPEN_OVERLAY",e.CLOSE_OVERLAY="Overlays/Actions/CLOSE_OVERLAY"}(h||(h={}));var x=n(21);function L(e){var t=e.getSelection(),n=e.getCurrentContent(),a=e.getCurrentInlineStyle().reduce((function(e,n){return x.Modifier.removeInlineStyle(e,t,n)}),n);return x.EditorState.push(e,x.Modifier.setBlockType(a,t,"unstyled"),"change-block-type")}function S(e,t){var n=e.getBlockMap(),a=[],r=0,o=!1;return n.forEach((function(e){if(!o&&e){var n=e.getLength();if(r+n>t){o=!0;var c=e.getText().slice(0,t-r),i=x.ContentState.createFromText("".concat(c,"..."));a.push(i.getFirstBlock())}else a.push(e);r+=n+1}})),o?x.ContentState.createFromBlockArray(a):e}var P=n(177),_=n(182),G=function(e,t){t[e];return Object(P.a)(t,[e].map(_.a))};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="";if(e<=0)return t;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.length<e;){var a=Math.floor(Math.random()*n.length);t+=n.charAt(a)}return t}function B(e){return"string"===typeof e}var V={array:a,dom:r,editor:o,object:c,string:i};function M(e,t){return function(){var n=Object(C.a)(O.a.mark((function n(a,r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:h.OPEN_OVERLAY,payload:Object(g.a)({},t,{overlayID:V.string.generateRandom(3),type:e})});case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function H(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:h.CLOSE_OVERLAY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var F,W=function(){var e=Object(f.d)(),t="Create new folder";return u.a.createElement(v,{onClick:function(){e(M(y.CREATE_GROUP))},title:t,"aria-label":t},u.a.createElement(m.d,{"aria-hidden":!0}))},z={open:!1,id:void 0};function K(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:F.REPLACE,payload:{open:!0,id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.REPLACE="Editor/Actions/REPLACE",e.REPLACE_ALL="Editor/Actions/REPLACE_ALL"}(F||(F={}));var Y=function(){var e=Object(f.d)();return u.a.createElement(v,{onClick:function(){e(K())},title:"Create new note","aria-label":"Create new note"},u.a.createElement(m.k,{"aria-hidden":!0}))};var q=function(e){return u.a.createElement("div",{className:"AppHeaderMenu"},u.a.createElement(W,null),u.a.createElement(Y,null))};var J,Q=function(e){return u.a.createElement("header",{id:"AppHeader",className:"AppHeader"},u.a.createElement("h1",{className:"AppHeader__title"},"Notebook"),u.a.createElement(q,null))};n(303);function X(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:J.OPEN_GROUP,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Z(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){var r,o,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.records,i=c[e.id]){t.next=5;break}throw Error("NoteRecord with ID ".concat(e.id," is absent."));case 5:if(i.parent===e.parent){t.next=7;break}throw Error('Changing record location is not permitted. If your intention was moving record to another group, consider using the "moveToGroup" function.');case 7:n({type:J.UPDATE_RECORD,payload:e});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function $(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){var r,o,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.groups,i=c[e]){t.next=5;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 5:if(!(i.children.length>0)){t.next=7;break}throw Error("NoteGroup must be empty before removing.");case 7:n({type:J.REMOVE_GROUP,payload:Object(g.a)({},i,{parentGroupId:V.array.last(i.path)})});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function ee(e,t){return function(){var n=Object(C.a)(O.a.mark((function n(a,r){var o,c,i,l,u,s,d;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),c=o.notes,i=c.groups,l=c.records,u=i[e],s=i[t],d=l[t],u){n.next=7;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 7:if(s||d){n.next=9;break}throw Error("ID ".concat(t," does not belong to any NoteRecord or NoteGroup."));case 9:s&&a({type:J.MOVE_GROUP,payload:Object(g.a)({},s,{path:u.path.concat(u.id),parentGroupID:V.array.last(s.path)||"root",targetGroupID:e})}),d&&a({type:J.MOVE_RECORD,payload:Object(g.a)({},d,{targetGroupID:e})});case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function te(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){var r,o,c,i,l,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.currentGroupID,i=o.groups,(l=i[c]).path&&!(l.path.length<1)){t.next=5;break}throw Error("Ungroup is not allowed in root group.");case 5:u=i[V.array.last(l.path)],n(ee(u.id,e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.OPEN_GROUP="Notes/Actions/Group/OPEN_GROUP",e.CREATE_RECORD="Notes/Actions/CREATE_RECORD",e.REMOVE_RECORD="Notes/Actions/REMOVE_RECORD",e.UPDATE_RECORD="Notes/Actions/UPDATE_RECORD",e.CREATE_GROUP="Notes/Actions/CREATE_GROUP",e.UPDATE_GROUP="Notes/Actions/UPDATE_GROUP",e.REMOVE_GROUP="Notes/Actions/REMOVE_GROUP",e.MOVE_GROUP="Notes/Actions/MOVE_GROUP",e.MOVE_RECORD="Notes/Actions/MOVE_RECORD",e.REORDER="Notes/Actions/REORDER"}(J||(J={}));var ne=te;var ae=function(){var e=Object(f.d)(),t="Open root folder";return u.a.createElement(v,{onClick:function(){e(X("root"))},title:t,"aria-label":t},u.a.createElement(m.j,{"aria-hidden":!0}))};var re=function(){var e=Object(f.d)(),t="Open parent folder",n=Object(f.e)((function(e){return e.notes.currentGroupID})),a=Object(f.e)((function(e){return V.array.last(e.notes.groups[n].path)}));return u.a.createElement(v,{title:t,"aria-label":t,onClick:function(){a&&e(X(a))},disabled:!Boolean(a)},u.a.createElement(m.a,{"aria-hidden":!0}))};n(304),n(305);function oe(e){var t=Object(l.useRef)(null),n=Object(l.useRef)(null),a=Object(l.useRef)(0),r=Object(l.useRef)([]);function o(){if(c()){for(;c();)if(n.current){if(a.current>n.current.length)return;var e=n.current[a.current];r.current&&r.current.push(e.offsetWidth+s(i(e))),f(a.current++)}}else if(r.current&&t.current&&r.current.length>0&&n.current)for(var o=Array.from(n.current).slice(r.current.length).reduce((function(e,t){return e+t.offsetWidth+s(i(t))}),0);o+r.current[r.current.length-1]<t.current.clientWidth;)r.current.pop(),d(--a.current)}function c(){return!!t.current&&t.current.scrollWidth>t.current.clientWidth}function i(e){if(window)return window.getComputedStyle(e)}function s(e){return e&&e.marginRight?parseFloat(e.marginRight):0}function d(e){n.current&&n.current[e]&&n.current[e].classList.remove("hidden")}function f(e){n.current&&n.current[e]&&n.current[e].classList.add("hidden")}return Object(l.useEffect)((function(){return t&&t.current&&(n.current=t.current.getElementsByClassName("BreadcrumbElement")),window&&(window.addEventListener("resize",o),o()),function(){window&&window.removeEventListener("resize",o)}}),[]),u.a.createElement("div",{ref:t,className:"Breadcrumb"},e.children)}n(306);function ce(e){return u.a.createElement("div",Object.assign({},e,{className:"BreadcrumbElement"}),e.children)}var ie=function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.groups[e.id].title}));return u.a.createElement(ce,{tabIndex:e.tabIndex,role:"link",title:n,onClick:function(){t(X(e.id))}},n)};function le(e){var t=Object(f.d)(),n="Open root folder";return u.a.createElement(ce,{onClick:function(){t(X("root"))},tabIndex:e.tabIndex,role:"link",title:n,"aria-label":n},u.a.createElement(m.c,{"aria-hidden":!0}))}var ue=function(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return e.notes.groups[t].path})).slice(1);return"root"!==t&&n.push(t),u.a.createElement("div",{className:"AddressBar"},u.a.createElement(oe,null,u.a.createElement(le,{tabIndex:0}),n.map((function(e,t){return u.a.createElement(ie,{key:e,id:e,tabIndex:t===n.length-1?-1:0})}))))},se=n(70);var de=function(){return u.a.createElement(v,{title:"Help","aria-label":"Help"},u.a.createElement(se.a,{"aria-hidden":!0}))};var fe=function(){return u.a.createElement("div",{className:"Navigator","data-open":!0},u.a.createElement(re,null),u.a.createElement(ae,null),u.a.createElement(ue,null),u.a.createElement(de,null))},pe=n(91);n(307),n(308),n(309);function Ee(e){return u.a.createElement("button",{className:"ResizeButton",onClick:function(t){"function"===typeof e.onClick&&e.onClick(!e.maximized)},title:"".concat(e.maximized?"Minimize":"Maximize"," Editor")},e.maximized?u.a.createElement(se.c,null):u.a.createElement(se.b,null))}n(310);function me(e){return u.a.createElement("button",{className:"CloseButton",title:"Close Editor",onClick:e.onClick},u.a.createElement(m.b,null))}n(311);var ye=Object(l.forwardRef)((function(e,t){var n=Object(l.useRef)(null);return Object(l.useImperativeHandle)(t,(function(){return{getValue:function(){return n.current?n.current.value:""}}})),u.a.createElement("input",{ref:n,className:"NameInput",placeholder:"New title",type:"text",defaultValue:e.defaultValue,onChange:e.onChange,autoFocus:!0})}));n(312);function he(e){return u.a.createElement("div",{className:"ChangeIndicator"},u.a.createElement("span",{className:"ChangeIndicatorDot","data-state":e.state}))}var ve,be=Object(l.forwardRef)((function(e,t){return u.a.createElement("div",{className:"AppEditorHeader"},u.a.createElement(ye,{ref:t,defaultValue:e.defaultValue,onChange:e.onChange}),u.a.createElement(he,{state:e.indicatorState}),u.a.createElement(Ee,{maximized:e.maximized,onClick:e.onResize}),u.a.createElement(me,{onClick:e.onClose}))}));n(313);function Oe(e){return function(t,n){switch(t){case ve.BOLD:return e(x.RichUtils.toggleInlineStyle(n,ve.BOLD)),"handled";case ve.ITALIC:return e(x.RichUtils.toggleInlineStyle(n,ve.ITALIC)),"handled";case ve.UNDERLINE:return e(x.RichUtils.toggleInlineStyle(n,ve.UNDERLINE)),"handled";case ve.STRIKETHROUGH:return e(x.RichUtils.toggleInlineStyle(n,ve.STRIKETHROUGH)),"handled";case ve.UNDO:return e(x.EditorState.undo(n)),"handled";case ve.REDO:return e(x.EditorState.redo(n)),"handled";case ve.SAVE:return"handled";case ve.CLEAR:return e(V.editor.clear(n)),"handled";default:return"not-handled"}}}!function(e){e.BOLD="BOLD",e.ITALIC="ITALIC",e.UNDERLINE="UNDERLINE",e.STRIKETHROUGH="STRIKETHROUGH",e.SAVE="SAVE",e.UNDO="UNDO",e.REDO="REDO",e.CLEAR="CLEAR"}(ve||(ve={}));var ge={9:"tab",13:"enter",27:"esc",32:"space",46:"delete",66:"b",67:"c",73:"i",83:"s",85:"u",87:"y",97:"z",113:"f2"};function Ce(e){var t=e.ctrlKey,n=e.shiftKey,a=e.keyCode,r=ge[a];return t&&"b"===r?ve.BOLD:t&&"i"===r?ve.ITALIC:t&&"u"===r?ve.UNDERLINE:t&&n&&"s"===r?ve.STRIKETHROUGH:t&&"s"===r?ve.SAVE:t&&"z"===r?ve.UNDO:t&&"y"===r?ve.REDO:t&&n&&"c"===r?ve.CLEAR:Object(x.getDefaultKeyBinding)(e)}n(314),n(315);function Re(e){return u.a.createElement("button",{className:"EditorControlButton",title:e.title,tabIndex:e.tabIndex,onMouseDown:function(t){"function"===typeof e.onClick&&e.onClick(t,e.command)},"data-active":e.active},e.children)}function De(e){var t,n,a,r;function o(t,n){t.preventDefault(),"function"===typeof e.onClick&&e.onClick(n)}return u.a.createElement("div",{className:"EditorControls"},u.a.createElement(Re,{command:ve.BOLD,onClick:o,title:"Bold",active:Boolean(null===(t=e.inlineStyles)||void 0===t?void 0:t.has("BOLD")),tabIndex:-1},u.a.createElement(m.e,null)),u.a.createElement(Re,{command:ve.ITALIC,onClick:o,title:"Italic",active:Boolean(null===(n=e.inlineStyles)||void 0===n?void 0:n.has("ITALIC")),tabIndex:-1},u.a.createElement(m.g,null)),u.a.createElement(Re,{command:ve.UNDERLINE,onClick:o,title:"Underline",active:Boolean(null===(a=e.inlineStyles)||void 0===a?void 0:a.has("UNDERLINE")),tabIndex:-1},u.a.createElement(m.i,null)),u.a.createElement(Re,{command:ve.STRIKETHROUGH,onClick:o,title:"Strikethrough",active:Boolean(null===(r=e.inlineStyles)||void 0===r?void 0:r.has("STRIKETHROUGH")),tabIndex:-1},u.a.createElement(m.h,null)),u.a.createElement(Re,{command:ve.CLEAR,onClick:o,title:"Clear formatting",active:!1,tabIndex:-1},u.a.createElement(m.f,null)))}var Ae,je=Object(l.forwardRef)((function(e,t){var n=Object(l.useState)(e.rawContentState?x.EditorState.createWithContent(Object(x.convertFromRaw)(e.rawContentState)):x.EditorState.createEmpty()),a=Object(pe.a)(n,2),r=a[0],o=a[1],c=Object(l.useRef)(null);function i(t){(o(t),"function"===typeof e.onChange)&&(t.getCurrentContent().getBlockMap().equals(r.getCurrentContent().getBlockMap())||e.onChange())}function s(e){c.current&&c.current.focus()}function d(){c.current&&c.current.blur()}return Object(l.useImperativeHandle)(t,(function(){return{getPlainText:function(){return r.getCurrentContent().getPlainText()},getRawDraftContentState:function(){return Object(x.convertToRaw)(r.getCurrentContent())},focusEditor:s,blurEditor:d}})),u.a.createElement("div",{className:"Editor"},u.a.createElement(De,{inlineStyles:r.getCurrentInlineStyle(),onClick:function(e){Oe(i)(e,r)}}),u.a.createElement("div",{className:"EditorWrapper",onMouseDown:s},u.a.createElement(x.Editor,{ref:c,editorState:r,onChange:i,keyBindingFn:Ce,handleKeyCommand:Oe(i),spellCheck:e.spellCheck})))}));function we(e){var t=Object(l.useState)(e.maximized),n=Object(pe.a)(t,2),a=n[0],r=n[1],o=Object(l.useState)(Ae.IDLE),c=Object(pe.a)(o,2),i=c[0],s=c[1],d=Object(l.useRef)(),f=Object(l.useRef)(),p=Object(l.useRef)();function E(){var t={id:e.id||V.string.generateRandom(),parent:e.currentGroupID,title:"",content:{entityMap:{},blocks:[]},type:"File",createdAt:Date.now()};if(d.current&&(t.title=d.current.getValue()),f.current&&(t.content=f.current.getRawDraftContentState()),"function"===typeof e.onSave&&!e.id)return e.onSave(e.currentGroupID,t),void(e.saveAndClose&&!e.autoSave?y():s(Ae.SAVED));"function"===typeof e.onUpdate&&e.id&&(t.updatedAt=Date.now(),e.onUpdate(t),e.saveAndClose&&!e.autoSave?y():s(Ae.SAVED))}function m(){s(Ae.UNSAVED),p.current&&clearTimeout(p.current),e.autoSave&&Boolean(e.id)&&(p.current=setTimeout((function(){E()}),3e3))}function y(){p.current&&clearTimeout(p.current),"function"===typeof e.onClose&&e.onClose()}return u.a.createElement("div",{className:"AppEditor"},u.a.createElement("div",{className:"AppEditorWrapper",onKeyDown:function(e){var t=e.ctrlKey,n=e.shiftKey,a=e.keyCode,r=ge[a];t&&!n&&"s"===r&&(e.preventDefault(),p.current&&clearTimeout(p.current),i===Ae.UNSAVED&&E()),"esc"===r&&(e.preventDefault(),y())}},u.a.createElement("div",{className:"AppEditorCanvas","data-maximized":a},u.a.createElement(be,{maximized:a,ref:d,onClose:e.onClose,onResize:r,defaultValue:e.title,indicatorState:i,onChange:m}),u.a.createElement(je,{ref:f,spellCheck:e.spellCheck,onChange:m,rawContentState:e.content}))))}!function(e){e[e.IDLE=0]="IDLE",e[e.SAVED=1]="SAVED",e[e.UNSAVED=2]="UNSAVED"}(Ae||(Ae={}));var Ie=Object(f.c)((function(e){var t,n=e.editor,a=e.settings,r=e.notes,o=n.open,c=n.id,i=a.editor,l=r.currentGroupID,u=r.records;return c&&(t=u[c]),Object(g.a)({open:o,maximized:!1,autoSave:Boolean(i.autoSave),saveAndClose:Boolean(i.saveAndClose),spellCheck:Boolean(i.spellCheck),currentGroupID:l},t)}),(function(e){return{onClose:function(){return e(function(){var e=Object(C.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:F.REPLACE_ALL,payload:{open:!1,id:void 0}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSave:function(t,n){Object(f.b)((function(){e(function(e,t){return function(){var n=Object(C.a)(O.a.mark((function n(a,r){var o,c,i,l,u;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),c=o.notes,i=c.records,l=c.groups,u=l[e],t.id&&!i[t.id]){n.next=5;break}throw Error("NoteRecord with the ID ".concat(t.id," already exists."));case 5:if(u){n.next=7;break}throw Error("NoteGroup with the ID ".concat(e," is absent"));case 7:a({type:J.CREATE_RECORD,payload:Object(g.a)({},t,{parent:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n)),e(K(n.id))}))},onUpdate:function(t){return e(Z(t))}}}))((function(e){return u.a.createElement(u.a.Fragment,null,e.open&&Object(s.createPortal)(u.a.createElement(we,e),document.getElementById("app-editor-root")))}));n(316),n(317),n(318);function ke(e){return u.a.createElement("header",{className:"OverlayHeader"},u.a.createElement("span",{className:"OverlayHeaderTitle"},e.title),u.a.createElement("button",{className:"OverlayHeaderButton",onClick:function(){"function"===typeof e.onClose&&e.onClose(e.id)},tabIndex:e.tabIndex},u.a.createElement(m.b,null)))}n(319);function Ne(e){return u.a.createElement("div",{className:"OverlayBody"},e.children)}n(320);function Te(e){return u.a.createElement("footer",{className:"OverlayFooter"},e.children)}n(321),n(322);var xe=Object(l.forwardRef)((function(e,t){return u.a.createElement("input",{ref:t,type:e.type,placeholder:e.placeholder,className:"FormInput",autoFocus:e.autoFocus,defaultValue:e.defaultValue,name:e.name,autoComplete:e.autoComplete})}));n(323);n(324);var Le=new Map;Le.set(y.DELETE_RECORD,(function(e){var t=Object(f.d)();return u.a.createElement("div",{className:"DeleteRecordOverlay"},u.a.createElement(ke,{id:e.overlayID,onClose:e.onClose,title:"Delete Note"}),u.a.createElement(Ne,null,u.a.createElement("p",null,"Are you sure you want to permanently delete this note?")),u.a.createElement(Te,null,u.a.createElement("button",{onClick:function(){Object(f.b)((function(){var n;t((n=e.id,function(){var e=Object(C.a)(O.a.mark((function e(t,a){var r,o,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),o=r.notes,c=o.records,i=c[n],n){e.next=5;break}throw Error("NoteRecord ID is absent.");case 5:if(i){e.next=7;break}throw Error("NoteRecord with the ID ".concat(n," is absent."));case 7:t({type:J.REMOVE_RECORD,payload:i});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),t(H(e.overlayID))}))}},"Delete Note"),u.a.createElement("button",{onClick:e.onClose},"Keep Note")))})),Le.set(y.RENAME_RECORD,(function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.records[e.id]})),a=Object(l.useRef)(null);function r(){var r=n.title;a.current&&(r=a.current.value);var o=Object(g.a)({},n,{title:r});Object(f.b)((function(){t(Z(o)),t(H(e.overlayID))}))}return u.a.createElement("div",{className:"RenameRecordOverlay",onKeyDown:function(e){var t=e.keyCode;"enter"===ge[t]&&(e.preventDefault(),r())}},u.a.createElement(ke,{id:e.overlayID,title:"Rename Note",onClose:e.onClose}),u.a.createElement(Ne,null,u.a.createElement(xe,{ref:a,type:"text",name:"title",defaultValue:n.title,autoFocus:!0,autoComplete:"off"})),u.a.createElement(Te,null,u.a.createElement("button",{onClick:r},"Save"),u.a.createElement("button",{onClick:e.onClose},"Cancel")))})),Le.set(y.CREATE_GROUP,(function(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return e.notes.currentGroupID})),a=Object(f.e)((function(e){return e.notes.groups[n]})),r=Object(l.useRef)(null);function o(){var o={id:V.string.generateRandom(),title:"",children:[],updatedAt:Date.now(),type:"Folder",path:a.path.concat(a.id)};r.current&&(o.title=r.current.value),Object(f.b)((function(){t(function(e,t){return function(){var n=Object(C.a)(O.a.mark((function n(a,r){var o,c,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),c=o.notes,i=c.groups,i[e]){n.next=5;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 5:if(!i[t.id]){n.next=7;break}throw Error("NoteGroup with ID ".concat(t.id," already exist."));case 7:a({type:J.CREATE_GROUP,payload:Object(g.a)({},t,{targetGroupID:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(n,o)),t(H(e.overlayID))}))}return u.a.createElement("div",{className:"CreateGroupOverlay",onKeyDown:function(e){var t=e.keyCode;"enter"===ge[t]&&(e.preventDefault(),o())}},u.a.createElement(ke,{id:e.overlayID,title:"Create Group",onClose:e.onClose}),u.a.createElement(Ne,null,u.a.createElement(xe,{ref:r,type:"text",placeholder:"Group name",autoFocus:!0,autoComplete:"off"})),u.a.createElement(Te,null,u.a.createElement("button",{onClick:o},"Create Group"),u.a.createElement("button",{onClick:e.onClose},"Cancel")))})),Le.set(y.RENAME_GROUP,(function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.notes.groups[e.id]})),a=Object(l.useRef)(null);function r(){var r=n.title;a.current&&(r=a.current.value);var o=Object(g.a)({},n,{title:r});Object(f.b)((function(){t(function(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){var r,o,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),o=r.notes,c=o.groups,i=c[e.id]){t.next=5;break}throw Error("NoteGroup with ID ".concat(e.id," is absent."));case 5:n({type:J.UPDATE_GROUP,payload:Object(g.a)({},e,{id:i.id,children:i.children})});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(o)),t(H(e.overlayID))}))}return u.a.createElement("div",{className:"RenameGroupOverlay",onKeyDown:function(e){var t=e.keyCode;"enter"===ge[t]&&(e.preventDefault(),r())}},u.a.createElement(ke,{id:e.overlayID,title:"Rename Group",onClose:e.onClose}),u.a.createElement(Ne,null,u.a.createElement(xe,{ref:a,type:"text",name:"title",defaultValue:n.title,autoFocus:!0,autoComplete:"off"})),u.a.createElement(Te,null,u.a.createElement("button",{onClick:r},"Save"),u.a.createElement("button",{onClick:e.onClose},"Cancel")))}));var Se=Le;n(325);function Pe(e){var t=Object(l.useRef)([]);function n(){"function"===typeof e.onClose&&e.onClose(e.overlayID)}return Object(l.useEffect)((function(){return t.current&&(t.current=V.dom.getTabbableElements(e.overlayID)),function(){t.current&&(t.current=[])}}),[e.overlayID]),u.a.createElement("div",{id:e.overlayID,className:"Overlay",onKeyDown:function(e){var a=e.keyCode,r=e.target,o=e.shiftKey,c=ge[a];"esc"!==c?"tab"===c&&o?t&&r===V.array.first(t.current)&&(e.preventDefault(),V.array.last(t.current).focus()):"tab"===c&&t&&r===V.array.last(t.current)&&(e.preventDefault(),V.array.first(t.current).focus()):n()}},u.a.Children.map(e.children,(function(e){return u.a.cloneElement(e,Object(g.a)({},e.props,{onClose:n}))})))}var _e=Object(f.c)((function(e){return{overlays:e.overlays}}),(function(e){return{onClose:function(t){return e(H(t))}}}))((function(e){return e.overlays.length?Object(s.createPortal)(u.a.createElement("div",{className:"OverlayContainer react-no-print"},V.array.mapReversed((function(t){var n=Se.get(t.type);return n?u.a.createElement(Pe,{key:t.overlayID,overlayID:t.overlayID,onClose:e.onClose},u.a.createElement(n,{overlayID:t.overlayID,id:t.id,onClose:e.onClose})):null}),e.overlays)),document.getElementById("app-overlays-root")):null}));function Ge(e){return u.a.createElement("div",null,u.a.createElement("h1",null,e.title),u.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.printHTML}}))}var Ue=n(181);function Be(e){return function(){var t=Object(C.a)(O.a.mark((function t(n,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"REPLACE",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var Ve=Object(f.c)((function(e){var t=e.print,n=e.notes.records;return{printHTML:t.reduce((function(e,t){var a=n[t];return a?e+"<h2>".concat(a.title,"</h2>")+Object(Ue.a)(Object(x.convertFromRaw)(a.content)):e}),"")}}),(function(e){return{clearPrintQueue:function(){return e(Be([]))}}}))((function(e){return Object(l.useEffect)((function(){if(e.printHTML){if(document&&window){var t=document.title;document.title="Notebook",window.print(),document.title=t}"function"===typeof e.clearPrintQueue&&e.clearPrintQueue()}}),[e,e.printHTML]),u.a.createElement(u.a.Fragment,null,e.printHTML&&Object(s.createPortal)(u.a.createElement(Ge,{title:e.title,printHTML:e.printHTML}),document.getElementById("print-mount")))})),Me=n(93),He=n(11),Fe=(n(326),n(327),n(328),n(62));function We(e){var t=Object(f.d)();function n(n){t(X(e.id))}function a(n){t(M(y.RENAME_GROUP,{id:e.id}))}function r(n){t($(e.id))}function o(n){t(te(e.id))}return u.a.createElement(He.b,{id:"group-menu",holdToDisplay:-1,collect:function(){return{id:e.id,index:e.index,open:n,rename:a,remove:r,ungroup:o}},attributes:{className:"VTRow ".concat(e.selected?"selected":""," ").concat(e.className),style:Object(g.a)({},e.style,{width:e.getRowWidth()}),tabIndex:e.index,onDoubleClick:n,draggable:!0,onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(n){n.preventDefault();var a=JSON.parse(n.dataTransfer.getData("text/plain")),r=a&&a.id;r&&r!==e.id&&t(ee(e.id,r))},onClick:function(t){"function"===typeof e.onClick&&e.onClick(t,e.id)},onKeyDown:function(n){var a=n.keyCode,r=ge[a];"enter"===r&&t(X(e.id)),"f2"===r&&t(M(y.RENAME_GROUP,{id:e.id})),"delete"===r&&t($(e.id))}}},u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(0)}},u.a.createElement("div",{className:"VTCellContent"},u.a.createElement(Fe.c,{className:"VTCellIcon"}),u.a.createElement("span",null,e.title))),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(1)}},u.a.createElement("span",null,e.updatedAt?function(e){var t=new Date(e),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),a=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),o=t.getHours(),c=t.getMinutes(),i=o%12,l=(i=i||12)+":"+(c<10?"0"+c:c)+" "+(o>=12?"pm":"am");return"".concat(r,"/").concat(a,"/").concat(n," ").concat(l)}(e.updatedAt):"-")),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(2)}},u.a.createElement("span",null,e.type)))}function ze(e){var t=Object(f.d)();function n(){t(K(e.id))}function a(){t(Be([e.id]))}function r(n){t(ne(e.id))}function o(){t(M(y.RENAME_RECORD,{id:e.id}))}function c(){t(M(y.DELETE_RECORD,{id:e.id}))}return u.a.createElement(He.b,{id:"record-menu",holdToDisplay:-1,collect:function(){return{id:e.id,index:e.index,open:n,print:a,ungroup:r,rename:o,remove:c}},attributes:{className:"VTRow FileRow ".concat(e.className),style:Object(g.a)({},e.style,{width:e.getRowWidth()}),tabIndex:e.index,onDoubleClick:n,draggable:!0,onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onClick:function(t){"function"===typeof e.onClick&&e.onClick(t,e.id)},onKeyDown:function(n){n.preventDefault();var a=n.keyCode,r=ge[a];"enter"===r&&t(K(e.id)),"delete"===r&&c(),"f2"===r&&o()}}},u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(0)}},u.a.createElement("div",{className:"VTCellContent"},u.a.createElement(Fe.b,{className:"VTCellIcon"}),u.a.createElement("span",null,e.title))),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(1)}},u.a.createElement("span",null,e.updatedAt?function(e){var t=new Date(e),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),a=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),o=t.getHours(),c=t.getMinutes(),i=o%12,l=(i=i||12)+":"+(c<10?"0"+c:c)+" "+(o>=12?"pm":"am");return"".concat(r,"/").concat(a,"/").concat(n," ").concat(l)}(e.updatedAt):"-")),u.a.createElement("div",{className:"VTCell",style:{width:e.getColumnWidth(2)}},u.a.createElement("span",null,e.type)))}function Ke(e){var t=Object(f.e)((function(t){return t.notes.records[e.id]})),n=Object(f.e)((function(t){return t.notes.groups[e.id]}));return t?u.a.createElement(ze,Object.assign({},t,{className:e.className,style:e.style,index:e.index,getRowWidth:e.getRowWidth,getColumnWidth:e.getColumnWidth})):n?u.a.createElement(We,Object.assign({},n,{className:e.className,style:e.style,index:e.index,getRowWidth:e.getRowWidth,getColumnWidth:e.getColumnWidth,selected:e.selected,onClick:e.onClick})):u.a.createElement("div",{className:"VTRow",style:Object(g.a)({},e.style,{width:"100%"})},u.a.createElement("div",{className:"VTCell",style:{justifyContent:"center"}},"This Folder is Empty."))}n(329);function Ye(e){return u.a.createElement("span",null,e.length," ",1===e.length?"Item":"Items")}function qe(e){return u.a.createElement("div",{className:"Ribbon"},u.a.createElement(Ye,{length:e.length}))}function Je(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return e.notes.groups[t].children}));function a(e){var t=e.index,a=e.style,r=e.isScrolling,o=e.data.rowProps,c=o.getRowWidth,i=o.getColumnWidth;return u.a.createElement(Ke,{id:n[t],index:t,style:a,getRowWidth:c,getColumnWidth:i,className:t%2?"VTRowEven":"VTRowOdd",isScrolling:r})}return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"NotesWrapper"},u.a.createElement(He.b,{id:"table-menu",holdToDisplay:-1},u.a.createElement(E.a,null,(function(e){var t=e.width,r=e.height;return u.a.createElement(Me.b,{data:n.length?n:["empty"],width:t,height:r,rowHeight:40,headerHeight:40,minColumnWidth:30,rowRenderer:a,autoScroll:!0,listProps:{overscanCount:20,useIsScrolling:!0}},u.a.createElement(Me.a,{label:"Name",width:240}),u.a.createElement(Me.a,{label:"Last Modified",width:200}),u.a.createElement(Me.a,{label:"Type",width:100}))})))),u.a.createElement(qe,{length:n.length}))}n(330),n(331);function Qe(e){return u.a.createElement("button",{className:"AsideButton",disabled:e.disabled,onClick:function(t){"function"===typeof e.onClick&&e.onClick(t)},"data-active":e.active},e.children||e.text)}n(332);function Xe(e){return u.a.createElement("hr",{className:"AsideDivider"})}function Ze(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return"root"===e.notes.currentGroupID}));return u.a.createElement(Qe,{active:n,onClick:function(){t(X("root"))},className:"AsideItem"},u.a.createElement(m.j,null),u.a.createElement("span",null,"Home"))}function $e(e){return u.a.createElement("div",{className:"Aside"},u.a.createElement("h4",{style:{fontWeight:300,padding:"0 15px",marginBottom:20}},"Quick Access"),u.a.createElement(Ze,null),u.a.createElement(Qe,{className:"AsideItem"},u.a.createElement(Fe.e,null),u.a.createElement("span",null,"Recycle")),u.a.createElement(Xe,null),u.a.createElement(Qe,null,u.a.createElement(Fe.d,null),u.a.createElement("span",null,"Favorites"),u.a.createElement(Fe.a,{style:{position:"absolute",right:0}})))}function et(e){var t=Object(f.d)();return u.a.createElement(He.a,{id:"table-menu"},u.a.createElement(He.c,{onClick:function(e){e.preventDefault(),t(M(y.CREATE_GROUP))}},"Create Folder"),u.a.createElement(He.c,{onClick:function(e){e.preventDefault(),t(K())}},"Create File"))}function tt(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return V.array.last(e.notes.groups[t].path)}));return u.a.createElement(He.a,{id:"group-menu"},u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.open&&t.open()}},"Open"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{disabled:!0},"Copy"),u.a.createElement(He.c,{disabled:!0},"Cut"),u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.rename&&t.rename()}},"Rename"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{disabled:!Boolean(n),onClick:function(e,t){e.preventDefault(),"function"===typeof t.ungroup&&t.ungroup()}},"Ungroup"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.remove&&t.remove()}},"Remove"))}function nt(e){var t=Object(f.e)((function(e){return e.notes.currentGroupID})),n=Object(f.e)((function(e){return V.array.last(e.notes.groups[t].path)}));return u.a.createElement(He.a,{id:"record-menu"},u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.open&&t.open()}},"Open"),u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.print&&t.print()}},"Print"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{disabled:!0},"Copy"),u.a.createElement(He.c,{disabled:!0},"Cut"),u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.rename&&t.rename()}},"Rename"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{disabled:!Boolean(n),onClick:function(e,t){e.preventDefault(),"function"===typeof t.ungroup&&t.ungroup()}},"Ungroup"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{onClick:function(e,t){e.preventDefault(),"function"===typeof t.remove&&t.remove()}},"Remove"))}n(333),n(334);var at,rt={currentTabIndex:0,records:["root"]};function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return(function(){var t=Object(C.a)(O.a.mark((function t(n,a){var r,o,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),o=r.tabs,c=o.records.concat(e),n({type:at.CREATE_TAB,payload:{currentTabIndex:c.length-1,records:c,id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}!function(e){e.CREATE_TAB="Tabs/Actions/CREATE_TAB",e.OPEN_TAB="Tabs/Actions/OPEN_TAB",e.CLOSE_TAB="Tabs/Actions/CLOSE_TAB",e.REPLACE="Tabs/Actions/REPLACE"}(at||(at={}));var ct=function(e){var t=Object(f.d)(),n=Object(f.e)((function(t){return t.tabs.records[e.index]})),a=Object(f.e)((function(e){return e.notes.groups[n].title})),r=Object(f.e)((function(t){return t.tabs.currentTabIndex===e.index})),o=Object(f.e)((function(e){return e.tabs.records.length}));function c(){t(ot(n))}function i(n){var a;(console.log("Closing"),n&&(console.log("Stop propagating"),n.stopPropagation()),o<2)||t((a=e.index,function(){var e=Object(C.a)(O.a.mark((function e(t,n){var r,o,c,i,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!((o=r.tabs).records.length<2)){e.next=3;break}throw Error("Cannot close last tab.");case 3:if(!(a<0||a>=o.records.length)){e.next=5;break}throw Error("Tab at index ".concat(a," is absent."));case 5:(c=o.currentTabIndex)>a?c-=1:c===a&&(c=a-1)<0&&(c=0),i=V.array.removeAtIndex(a,o.records),l=i[c],t({type:at.CLOSE_TAB,payload:{currentTabIndex:c,records:i,id:l}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}function l(){var n;o<2||t((n=e.index,function(){var e=Object(C.a)(O.a.mark((function e(t,a){var r,o,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),!((o=r.tabs).records.length<2)){e.next=3;break}throw Error("Cannot close last tab.");case 3:if(!(n<0||n>=o.records.length)){e.next=5;break}throw Error("Tab at index ".concat(n," is absent."));case 5:c=[o.records[n]],t({type:at.REPLACE,payload:{currentTabIndex:0,records:c,id:c[0]}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}function s(){var n;o<2||t((n=e.index,function(){var e=Object(C.a)(O.a.mark((function e(t,a){var r,o,c,i,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),!((o=r.tabs).records.length<2)){e.next=3;break}throw Error("Cannot close last tab.");case 3:if(!(n<0||n>=o.records.length)){e.next=5;break}throw Error("Tab at index ".concat(n," is absent."));case 5:c=o.records.slice(0,n+1),(i=o.currentTabIndex)>n&&(i=n),l=c[i],t({type:at.REPLACE,payload:{currentTabIndex:i,records:c,id:l}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}return u.a.createElement(He.b,{renderTag:"button",id:"tab-menu",holdToDisplay:-1,attributes:{className:"Tab ".concat(r?"active":""),onClick:function(){var n;console.log("Opening"),t((n=e.index,function(){var e=Object(C.a)(O.a.mark((function e(t,a){var r,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),o=r.tabs,!(n<0||n>=o.records.length)){e.next=3;break}throw Error("Tab at index ".concat(n," is absent."));case 3:t({type:at.OPEN_TAB,payload:{currentTabIndex:n,id:o.records[n]}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},title:a},collect:function(){return{duplicate:c,close:i,closeOther:l,closeAfter:s}}},u.a.createElement("span",null,a),o>1&&u.a.createElement("div",{className:"Button",onClick:i,title:"Close tab","aria-label":"Close tab"},u.a.createElement(m.b,{className:"Icon","aria-hidden":"true"})))};var it=function(e){var t=Object(f.d)();return u.a.createElement(v,{title:"Create new tab","aria-label":"Create new tab",onClick:function(){t(ot())}},u.a.createElement(se.d,null))};var lt=function(){var e=Object(f.e)((function(e){return e.tabs.records.length}));return u.a.createElement("div",{className:"FolderTabs"},Array.from({length:e},(function(e,t){return u.a.createElement(ct,{index:t})})),u.a.createElement(it,null))};function ut(e){var t=Object(f.d)(),n=Object(f.e)((function(e){return e.tabs.records.length}));return u.a.createElement(He.a,{id:"tab-menu"},u.a.createElement(He.c,{onClick:function(){t(ot())}},"New Tab"),u.a.createElement(He.c,{onClick:function(e,t){"function"===typeof t.duplicate&&t.duplicate()}},"Duplicate"),u.a.createElement(He.c,{divider:!0}),u.a.createElement(He.c,{disabled:n<2,onClick:function(e,t){"function"===typeof t.close&&t.close()}},"Close Tab"),u.a.createElement(He.c,{disabled:n<2,onClick:function(e,t){"function"===typeof t.closeOther&&t.closeOther()}},"Close other tabs"),u.a.createElement(He.c,{disabled:n<2,onClick:function(e,t){"function"===typeof t.closeAfter&&t.closeAfter()}},"Close tabs to the right"))}var st=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"App react-no-print"},u.a.createElement(Q,null),u.a.createElement(fe,null),u.a.createElement(Ie,null),u.a.createElement("div",{className:"AppPanel"},u.a.createElement(E.a,null,(function(e){var t=e.width,n=e.height;return u.a.createElement(p.Container,{className:"ResizeContainer",style:{width:t,height:n}},u.a.createElement(p.Section,{className:"ResizeSection",defaultSize:300,maxSize:300},u.a.createElement($e,null)),u.a.createElement(p.Bar,{size:5,className:"ResizerBar"}),u.a.createElement(p.Section,null,u.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},u.a.createElement(Je,null),u.a.createElement(lt,null))))}))),u.a.createElement(_e,null),u.a.createElement(et,null),u.a.createElement(tt,null),u.a.createElement(nt,null),u.a.createElement(ut,null)),u.a.createElement(Ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt,ft=n(43),pt=n(179),Et=n(180),mt=n(28),yt={instruction:{id:"instruction",parent:"ostalo",title:"INSTRUCTIONS",content:{blocks:[{key:"8ofdk",text:"EDITOR",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:6,style:"BOLD"}],entityRanges:[],data:{}},{key:"aemmj",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"35hd4",text:"In order to save a note, use shortcut ctrl + s.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2dqfh",text:"To close editor, you can simply use escape key. (ESC)",type:"unstyled",depth:0,inlineStyleRanges:[{offset:48,length:5,style:"ITALIC"}],entityRanges:[],data:{}},{key:"e5mv2",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a71vr",text:"Available shortcuts:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"dhmf5",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8jlev",text:"1. ctrl + b - Bold",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:4,style:"BOLD"}],entityRanges:[],data:{}},{key:"5ikho",text:"2. ctrl + i  - Italic",type:"unstyled",depth:0,inlineStyleRanges:[{offset:15,length:6,style:"ITALIC"}],entityRanges:[],data:{}},{key:"eacar",text:"3. ctrl + u - Underline",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:9,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"2h4vl",text:"4. ctrl + shift + s - Strikethrough",type:"unstyled",depth:0,inlineStyleRanges:[{offset:22,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"cefcc",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"alrtq",text:"NOTES",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:5,style:"BOLD"}],entityRanges:[],data:{}},{key:"cgvgp",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1jo4c",text:"- To move a note or a group into the another group, simply drag that note over the target group and drop.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bqsbk",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cvojm",text:"- To ungroup certain note or group from current group, use right click > ungroup option.",type:"unstyled",depth:0,inlineStyleRanges:[{offset:59,length:11,style:"BOLD"},{offset:73,length:8,style:"BOLD"}],entityRanges:[],data:{}}],entityMap:{}},type:"File",createdAt:Date.now(),updatedAt:Date.now()}};!function(e){e.REPLACE="Notes/Groups/Actions/REPLACE",e.REPLACE_ALL="Notes/Groups/Actions/REPLACE_ALL"}(dt||(dt={}));var ht=function(){for(var e=Date.now(),t={root:{id:"root",path:[],title:"/",updatedAt:e,type:"Folder",children:["fakultet"]},fakultet:{id:"fakultet",path:["root"],title:"Fakultet",updatedAt:e,type:"Folder",children:["ostalo"]},ostalo:{id:"ostalo",path:["root","fakultet"],title:"Ostalo",updatedAt:e,type:"Folder",children:["instruction"]}},n=0;n<0;n++){var a=V.string.generateRandom(6);t[a]={id:a,path:["root"],title:a,updatedAt:e,type:"Folder",children:[]},t.root.children.push(a)}return t}();var vt=Object(ft.combineReducers)({currentGroupID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.OPEN_GROUP:return t.payload;case at.CREATE_TAB:case at.OPEN_TAB:case at.CLOSE_TAB:return t.payload.id;default:return e}},groups:function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case J.CREATE_RECORD:return Object(g.a)({},a,Object(mt.a)({},r.payload.parent,Object(g.a)({},a[r.payload.parent],{children:a[r.payload.parent].children.concat(r.payload.id)})));case J.REMOVE_RECORD:return Object(g.a)({},a,Object(mt.a)({},r.payload.parent,Object(g.a)({},a[r.payload.parent],{children:a[r.payload.parent].children.filter((function(e){return e!==r.payload.id}))})));case J.CREATE_GROUP:return Object(g.a)({},a,(e={},Object(mt.a)(e,r.payload.targetGroupID,Object(g.a)({},a[r.payload.targetGroupID],{children:a[r.payload.targetGroupID].children.concat(r.payload.id)})),Object(mt.a)(e,r.payload.id,Object(g.a)({},r.payload)),e));case J.UPDATE_GROUP:return Object(g.a)({},a,Object(mt.a)({},r.payload.id,Object(g.a)({},a[r.payload.id],{},r.payload)));case J.REMOVE_GROUP:return Object(g.a)({},V.object.deleteProperty(r.payload.id,a),Object(mt.a)({},r.payload.parentGroupId,Object(g.a)({},a[r.payload.parentGroupId],{children:a[r.payload.parentGroupId].children.filter((function(e){return e!==r.payload.id}))})));case J.MOVE_GROUP:return Object(g.a)({},a,(t={},Object(mt.a)(t,r.payload.targetGroupID,Object(g.a)({},a[r.payload.targetGroupID],{children:a[r.payload.targetGroupID].children.concat(r.payload.id)})),Object(mt.a)(t,r.payload.parentGroupID,Object(g.a)({},a[r.payload.parentGroupID],{children:a[r.payload.parentGroupID].children.filter((function(e){return e!==r.payload.id}))})),Object(mt.a)(t,r.payload.id,Object(g.a)({},a[r.payload.id],{path:r.payload.path})),t));case J.MOVE_RECORD:return Object(g.a)({},a,(n={},Object(mt.a)(n,r.payload.targetGroupID,Object(g.a)({},a[r.payload.targetGroupID],{children:a[r.payload.targetGroupID].children.concat(r.payload.id)})),Object(mt.a)(n,r.payload.parent,Object(g.a)({},a[r.payload.parent],{children:a[r.payload.parent].children.filter((function(e){return e!==r.payload.id}))})),n));case J.REORDER:return Object(g.a)({},a,Object(mt.a)({},r.payload.id,Object(g.a)({},r.payload)));default:return a}},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.CREATE_RECORD:return Object(g.a)({},e,Object(mt.a)({},t.payload.id,Object(g.a)({},t.payload)));case J.REMOVE_RECORD:return V.object.deleteProperty(t.payload.id,e);case J.UPDATE_RECORD:return Object(g.a)({},e,Object(mt.a)({},t.payload.id,Object(g.a)({},e[t.payload.id],{},t.payload)));case J.MOVE_RECORD:return Object(g.a)({},e,Object(mt.a)({},t.payload.id,Object(g.a)({},e[t.payload.id],{parent:t.payload.targetGroupID})));default:return e}}});var bt,Ot={autoSave:!0,saveAndClose:!1,spellCheck:!1};!function(e){e.REPLACE="Settings/Editor/Actions/REPLACE",e.REPLACE_ALL="Settings/Editor/Actions/REPLACE_ALL"}(bt||(bt={}));var gt,Ct={softDelete:!0};!function(e){e.REPLACE="Settings/Notes/Actions/REPLACE",e.REPLACE_ALL="Settings/Notes/Actions/REPLACE_ALL"}(gt||(gt={}));var Rt=Object(ft.combineReducers)({editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt.REPLACE:return Object(g.a)({},e,{},t.payload);case bt.REPLACE_ALL:return Object(g.a)({},t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt.REPLACE:return Object(g.a)({},e,{},t.payload);case gt.REPLACE_ALL:return Object(g.a)({},t.payload);default:return e}}}),Dt=n(122);var At=Object(ft.combineReducers)({notes:vt,tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at.CREATE_TAB:return{currentTabIndex:t.payload.currentTabIndex,records:t.payload.records};case at.OPEN_TAB:return Object(g.a)({},e,{currentTabIndex:t.payload.currentTabIndex});case at.CLOSE_TAB:return{currentTabIndex:t.payload.currentTabIndex,records:t.payload.records};case at.REPLACE:return{currentTabIndex:t.payload.currentTabIndex,records:t.payload.records.slice()};case J.OPEN_GROUP:return Object(g.a)({},e,{records:V.array.replaceAtIndex(e.currentTabIndex,e.records,t.payload)});default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.REPLACE:return Object(g.a)({},e,{},t.payload);case F.REPLACE_ALL:return Object(g.a)({},t.payload);default:return e}},settings:Rt,overlays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.OPEN_OVERLAY:return[].concat(Object(Dt.a)(e),[t.payload]);case h.CLOSE_OVERLAY:return e.filter((function(e){return e.overlayID!==t.payload}));default:return e}},print:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE":return Object(Dt.a)(t.payload.slice());default:return e}}}),jt=[pt.a],wt=Object(ft.createStore)(At,Object(Et.composeWithDevTools)(ft.applyMiddleware.apply(void 0,jt)));d.a.render(u.a.createElement(f.a,{store:wt},u.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[183,1,2]]]);
//# sourceMappingURL=main.8d79917c.chunk.js.map