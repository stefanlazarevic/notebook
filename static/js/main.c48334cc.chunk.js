(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{104:function(e,t,n){e.exports=n(235)},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"first",(function(){return j})),n.d(r,"last",(function(){return I})),n.d(r,"chunk",(function(){return x})),n.d(r,"swap",(function(){return w})),n.d(r,"mapReversed",(function(){return L})),n.d(r,"map",(function(){return S}));var a={};n.r(a),n.d(a,"getTabbableElements",(function(){return G}));var o={};n.r(o),n.d(o,"clear",(function(){return T}));var c={};n.r(c),n.d(c,"deleteProperty",(function(){return B}));var i={};n.r(i),n.d(i,"generateRandom",(function(){return V})),n.d(i,"isString",(function(){return M}));var u=n(1),l=n.n(u),d=n(21),s=n.n(d),p=(n(109),n(110),n(111),n(9)),f=(n(118),n(13));n(119);function E(e){return l.a.createElement("button",{className:"AppHeaderButton",disabled:e.disabled,title:e.title,onClick:e.onClick},e.children)}function y(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{title:"Create new folder",onClick:e.onCreateNewFolder,disabled:!0},l.a.createElement(f.c,null)),l.a.createElement(E,{title:"Create new file",onClick:e.onCreateNewFile},l.a.createElement(f.j,null)))}var m,v=n(4),R=n.n(v),h=n(11),O={open:!1,id:void 0};function g(e){return function(){var t=Object(h.a)(R.a.mark((function t(n,r){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m.REPLACE,payload:{open:!0,id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.REPLACE="Editor/Actions/REPLACE",e.REPLACE_ALL="Editor/Actions/REPLACE_ALL"}(m||(m={}));var b=Object(p.c)(null,(function(e){return{onCreateNewFile:function(){return e(g())},onCreateNewFolder:function(){}}}))((function(e){return l.a.createElement("div",{className:"AppHeaderControls"},l.a.createElement(y,{onCreateNewFolder:e.onCreateNewFolder,onCreateNewFile:e.onCreateNewFile}))}));function C(e){return l.a.createElement("header",{id:"AppHeader",className:"AppHeader"},l.a.createElement("h1",{className:"AppHeader__title"},"Notebook"),l.a.createElement(b,null))}n(121),n(122);function D(e){return l.a.createElement("button",{className:"BackButton",title:"Go back",onClick:e.onClick},l.a.createElement(f.a,null))}n(123);function k(e){return l.a.createElement("button",{className:"HomeButton",onClick:e.onClick,title:"Back to root"},l.a.createElement(f.i,null))}var N,A=n(3);function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[0]}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[e.length-1]}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t<1)throw Error("Chunk size must be greater than one.");for(var n=Array.from({length:Math.ceil(e.length/t)},(function(){return[]})),r=0,a=0;a<n.length;a++)for(var o=n[a],c=0;c<t;c++)"undefined"!==typeof e[r]&&o.push(e[r++]);return n}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||t<0)throw Error("Swap indexes must be greater than or equal to 0.");if(e>=n.length||t>=n.length)throw Error("Swap indexes must be less than the size of array.");for(var r=Array(n.length),a=n[t],o=n[e],c=0;c<n.length;c++)r[c]=c!==e?c!==t?n[c]:o:a;return r}function L(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),r=t.length-1;r>-1;r--)n[t.length-r-1]=e(t[r],r,t);return n}function S(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}function G(e){var t,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])',"audio[controls]","video[controls]"];if(e&&document)return"string"===typeof e?null===(t=document.getElementById(e))||void 0===t?void 0:t.querySelectorAll(n.join(",")):e.querySelectorAll(n.join(","))}!function(e){e.OPEN_GROUP="Notes/Actions/Group/OPEN_GROUP",e.CREATE_RECORD="Notes/Actions/CREATE_RECORD",e.REMOVE_RECORD="Notes/Actions/REMOVE_RECORD",e.UPDATE_RECORD="Notes/Actions/UPDATE_RECORD",e.CREATE_GROUP="Notes/Actions/CREATE_GROUP",e.REMOVE_GROUP="Notes/Actions/REMOVE_GROUP",e.MOVE_GROUP="Notes/Actions/MOVE_GROUP",e.MOVE_RECORD="Notes/Actions/MOVE_RECORD",e.REORDER="Notes/Actions/REORDER"}(N||(N={}));var P=n(10);function T(e){var t=e.getSelection(),n=e.getCurrentContent(),r=e.getCurrentInlineStyle().reduce((function(e,n){return P.Modifier.removeInlineStyle(e,t,n)}),n);return P.EditorState.push(e,P.Modifier.setBlockType(r,t,"unstyled"),"change-block-type")}var _=n(98),U=n(103),B=function(e,t){t[e];return Object(_.a)(t,[e].map(U.a))};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="";if(e<=0)return t;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.length<e;){var r=Math.floor(Math.random()*n.length);t+=n.charAt(r)}return t}function M(e){return"string"===typeof e}var H={array:r,dom:a,editor:o,object:c,string:i};function K(e){return function(){var t=Object(h.a)(R.a.mark((function t(n,r){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:N.OPEN_GROUP,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function z(e){return function(){var t=Object(h.a)(R.a.mark((function t(n,r){var a,o,c,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,c=o.records,i=c[e.id]){t.next=5;break}throw Error("NoteRecord with ID ".concat(e.id," is absent."));case 5:if(i.parent===e.parent){t.next=7;break}throw Error('Changing record location is not permitted. If your intention was moving record to another group, consider using the "moveToGroup" function.');case 7:n({type:N.UPDATE_RECORD,payload:e});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function F(e,t){return function(){var n=Object(h.a)(R.a.mark((function n(r,a){var o,c,i,u,l,d,s;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),c=o.notes,i=c.groups,u=c.records,l=i[e],d=i[t],s=u[t],l){n.next=7;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 7:if(d||s){n.next=9;break}throw Error("ID ".concat(t," does not belong to any NoteRecord or NoteGroup."));case 9:d&&r({type:N.MOVE_GROUP,payload:Object(A.a)({},d,{targetGroupID:e})}),s&&r({type:N.MOVE_RECORD,payload:Object(A.a)({},s,{targetGroupID:e})});case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var q=Object(p.c)((function(e){var t=e.notes,n=t.currentGroupID,r=t.groups[n];return{open:Boolean(r.parent),currentGroupID:n}}),(function(e){return{openGroup:function(t){return e(K(t))},openParentGroup:function(t){return e((n=t,function(){var e=Object(h.a)(R.a.mark((function e(t,r){var a,o,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),o=a.notes,c=o.groups,(i=c[n])&&i.parent&&t({type:N.OPEN_GROUP,payload:i.parent});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n}}}))((function(e){return l.a.createElement("div",{className:"Navigator","data-open":e.open},l.a.createElement(D,{onClick:function(){"function"===typeof e.openParentGroup&&e.openParentGroup(e.currentGroupID)}}),l.a.createElement(k,{onClick:function(){"function"===typeof e.openGroup&&e.openGroup("root")}}))})),Y=n(36),J=(n(217),n(218),n(58));n(219);function W(e){return l.a.createElement("button",{className:"ResizeButton",onClick:function(t){"function"===typeof e.onClick&&e.onClick(!e.maximized)},title:"".concat(e.maximized?"Minimize":"Maximize"," Editor")},e.maximized?l.a.createElement(J.b,null):l.a.createElement(J.a,null))}n(220);function Q(e){return l.a.createElement("button",{className:"CloseButton",title:"Close Editor",onClick:e.onClick},l.a.createElement(f.b,null))}n(221);var X=Object(u.forwardRef)((function(e,t){var n=Object(u.useRef)(null);return Object(u.useImperativeHandle)(t,(function(){return{getValue:function(){return n.current?n.current.value:""}}})),l.a.createElement("input",{ref:n,className:"NameInput",placeholder:"New title",type:"text",defaultValue:e.defaultValue,onChange:e.onChange,autoFocus:!0})}));n(222);function Z(e){return l.a.createElement("div",{className:"ChangeIndicator"},l.a.createElement("span",{className:"ChangeIndicatorDot","data-state":e.state}))}var $,ee=Object(u.forwardRef)((function(e,t){return l.a.createElement("div",{className:"AppEditorHeader"},l.a.createElement(X,{ref:t,defaultValue:e.defaultValue,onChange:e.onChange}),l.a.createElement(Z,{state:e.indicatorState}),l.a.createElement(W,{maximized:e.maximized,onClick:e.onResize}),l.a.createElement(Q,{onClick:e.onClose}))}));n(223);function te(e){return function(t,n){switch(t){case $.BOLD:return e(P.RichUtils.toggleInlineStyle(n,$.BOLD)),"handled";case $.ITALIC:return e(P.RichUtils.toggleInlineStyle(n,$.ITALIC)),"handled";case $.UNDERLINE:return e(P.RichUtils.toggleInlineStyle(n,$.UNDERLINE)),"handled";case $.STRIKETHROUGH:return e(P.RichUtils.toggleInlineStyle(n,$.STRIKETHROUGH)),"handled";case $.UNDO:return e(P.EditorState.undo(n)),"handled";case $.REDO:return e(P.EditorState.redo(n)),"handled";case $.SAVE:return"handled";case $.CLEAR:return e(H.editor.clear(n)),"handled";default:return"not-handled"}}}!function(e){e.BOLD="BOLD",e.ITALIC="ITALIC",e.UNDERLINE="UNDERLINE",e.STRIKETHROUGH="STRIKETHROUGH",e.SAVE="SAVE",e.UNDO="UNDO",e.REDO="REDO",e.CLEAR="CLEAR"}($||($={}));var ne={9:"tab",13:"enter",27:"esc",66:"b",67:"c",73:"i",83:"s",85:"u",87:"y",97:"z"};function re(e){var t=e.ctrlKey,n=e.shiftKey,r=e.keyCode,a=ne[r];return t&&"b"===a?$.BOLD:t&&"i"===a?$.ITALIC:t&&"u"===a?$.UNDERLINE:t&&n&&"s"===a?$.STRIKETHROUGH:t&&"s"===a?$.SAVE:t&&"z"===a?$.UNDO:t&&"y"===a?$.REDO:t&&n&&"c"===a?$.CLEAR:Object(P.getDefaultKeyBinding)(e)}n(224),n(225);function ae(e){return l.a.createElement("button",{className:"EditorControlButton",title:e.title,tabIndex:e.tabIndex,onMouseDown:function(t){"function"===typeof e.onClick&&e.onClick(t,e.command)},"data-active":e.active},e.children)}function oe(e){var t,n,r,a;function o(t,n){t.preventDefault(),"function"===typeof e.onClick&&e.onClick(n)}return l.a.createElement("div",{className:"EditorControls"},l.a.createElement(ae,{command:$.BOLD,onClick:o,title:"Bold",active:Boolean(null===(t=e.inlineStyles)||void 0===t?void 0:t.has("BOLD")),tabIndex:-1},l.a.createElement(f.d,null)),l.a.createElement(ae,{command:$.ITALIC,onClick:o,title:"Italic",active:Boolean(null===(n=e.inlineStyles)||void 0===n?void 0:n.has("ITALIC")),tabIndex:-1},l.a.createElement(f.f,null)),l.a.createElement(ae,{command:$.UNDERLINE,onClick:o,title:"Underline",active:Boolean(null===(r=e.inlineStyles)||void 0===r?void 0:r.has("UNDERLINE")),tabIndex:-1},l.a.createElement(f.h,null)),l.a.createElement(ae,{command:$.STRIKETHROUGH,onClick:o,title:"Strikethrough",active:Boolean(null===(a=e.inlineStyles)||void 0===a?void 0:a.has("STRIKETHROUGH")),tabIndex:-1},l.a.createElement(f.g,null)),l.a.createElement(ae,{command:$.CLEAR,onClick:o,title:"Clear formatting",active:!1,tabIndex:-1},l.a.createElement(f.e,null)))}var ce,ie=Object(u.forwardRef)((function(e,t){var n=Object(u.useState)(e.rawContentState?P.EditorState.createWithContent(Object(P.convertFromRaw)(e.rawContentState)):P.EditorState.createEmpty()),r=Object(Y.a)(n,2),a=r[0],o=r[1],c=Object(u.useRef)(null);function i(t){(o(t),"function"===typeof e.onChange)&&(t.getCurrentContent().getBlockMap().equals(a.getCurrentContent().getBlockMap())||e.onChange())}function d(e){c.current&&c.current.focus()}function s(){c.current&&c.current.blur()}return Object(u.useImperativeHandle)(t,(function(){return{getPlainText:function(){return a.getCurrentContent().getPlainText()},getRawDraftContentState:function(){return Object(P.convertToRaw)(a.getCurrentContent())},focusEditor:d,blurEditor:s}})),l.a.createElement("div",{className:"Editor"},l.a.createElement(oe,{inlineStyles:a.getCurrentInlineStyle(),onClick:function(e){te(i)(e,a)}}),l.a.createElement("div",{className:"EditorWrapper",onMouseDown:d},l.a.createElement(P.Editor,{ref:c,editorState:a,onChange:i,keyBindingFn:re,handleKeyCommand:te(i),spellCheck:e.spellCheck})))}));function ue(e){var t=Object(u.useState)(e.maximized),n=Object(Y.a)(t,2),r=n[0],a=n[1],o=Object(u.useState)(ce.IDLE),c=Object(Y.a)(o,2),i=c[0],d=c[1],s=Object(u.useRef)(),p=Object(u.useRef)(),f=Object(u.useRef)();function E(){var t={id:e.id||H.string.generateRandom(),parent:e.currentGroupID,title:"",content:{entityMap:{},blocks:[]}};if(s.current&&(t.title=s.current.getValue()),p.current&&(t.content=p.current.getRawDraftContentState()),"function"===typeof e.onSave&&!e.id)return e.onSave(e.currentGroupID,t),void(e.saveAndClose&&!e.autoSave?m():d(ce.SAVED));"function"===typeof e.onUpdate&&e.id&&(e.onUpdate(t),e.saveAndClose&&!e.autoSave?m():d(ce.SAVED))}function y(){d(ce.UNSAVED),f.current&&clearTimeout(f.current),e.autoSave&&Boolean(e.id)&&(f.current=setTimeout((function(){E()}),3e3))}function m(){f.current&&clearTimeout(f.current),"function"===typeof e.onClose&&e.onClose()}return l.a.createElement("div",{className:"AppEditor"},l.a.createElement("div",{className:"AppEditorWrapper",onKeyDown:function(e){var t=e.ctrlKey,n=e.shiftKey,r=e.keyCode,a=ne[r];t&&!n&&"s"===a&&(e.preventDefault(),f.current&&clearTimeout(f.current),i===ce.UNSAVED&&E()),"esc"===a&&(e.preventDefault(),m())}},l.a.createElement("div",{className:"AppEditorCanvas","data-maximized":r},l.a.createElement(ee,{maximized:r,ref:s,onClose:e.onClose,onResize:a,defaultValue:e.title,indicatorState:i,onChange:y}),l.a.createElement(ie,{ref:p,spellCheck:e.spellCheck,onChange:y,rawContentState:e.content}))))}!function(e){e[e.IDLE=0]="IDLE",e[e.SAVED=1]="SAVED",e[e.UNSAVED=2]="UNSAVED"}(ce||(ce={}));var le=Object(p.c)((function(e){var t,n=e.editor,r=e.settings,a=e.notes,o=n.open,c=n.id,i=r.editor,u=a.currentGroupID,l=a.records;return c&&(t=l[c]),Object(A.a)({open:o,maximized:!1,autoSave:Boolean(i.autoSave),saveAndClose:Boolean(i.saveAndClose),spellCheck:Boolean(i.spellCheck),currentGroupID:u},t)}),(function(e){return{onClose:function(){return e(function(){var e=Object(h.a)(R.a.mark((function e(t,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:m.REPLACE_ALL,payload:{open:!1,id:void 0}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSave:function(t,n){Object(p.b)((function(){e(function(e,t){return function(){var n=Object(h.a)(R.a.mark((function n(r,a){var o,c,i,u,l;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),c=o.notes,i=c.records,u=c.groups,l=u[e],t.id&&!i[t.id]){n.next=5;break}throw Error("NoteRecord with the ID ".concat(t.id," already exists."));case 5:if(l){n.next=7;break}throw Error("NoteGroup with the ID ".concat(e," is absent"));case 7:r({type:N.CREATE_RECORD,payload:Object(A.a)({},t,{parent:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n)),e(g(n.id))}))},onUpdate:function(t){return e(z(t))}}}))((function(e){return l.a.createElement(l.a.Fragment,null,e.open&&Object(d.createPortal)(l.a.createElement(ue,e),document.getElementById("app-editor-root")))})),de=n(99),se=(n(226),n(227),n(15));function pe(e){return l.a.createElement(se.a,{id:e.id},l.a.createElement(se.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onOpen&&e.onOpen()}},"Open"),l.a.createElement(se.c,{disabled:!Boolean(e.groupParent),onClick:function(t){t.stopPropagation(),"function"===typeof e.onUngroup&&e.onUngroup(e.id)}},"Ungroup"),l.a.createElement(se.c,{disabled:Boolean(e.childrenCount),onClick:function(t){t.stopPropagation(),"function"===typeof e.onRemove&&e.onRemove(e.id)}},"Delete"))}function fe(e){function t(t){"function"===typeof e.onDoubleClick&&e.onDoubleClick(e.id)}return l.a.createElement("div",{className:"NoteGroup",draggable:"true",onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(t){t.preventDefault();var n=JSON.parse(t.dataTransfer.getData("text/plain")),r=n&&n.id,a=e.id;"function"===typeof e.moveToGroup&&r&&r!==a&&e.moveToGroup(a,r)},onDoubleClick:t,tabIndex:e.tabIndex,onKeyDown:function(t){var n=t.keyCode;"enter"===ne[n]&&"function"===typeof e.onDoubleClick&&(t.preventDefault(),e.onDoubleClick(e.id))}},l.a.createElement(se.b,{id:e.id,holdToDisplay:-1},l.a.createElement("div",{className:"NoteGroupBack"}),l.a.createElement("div",{className:"NoteGroupFront"},l.a.createElement("h5",{className:"NoteGroupTitle"},l.a.createElement("span",null,e.title)))),l.a.createElement(pe,{id:e.id,parent:e.parent,groupParent:e.groupParent,onOpen:t,onUngroup:e.ungroup,onRemove:e.removeGroup,childrenCount:e.childrenCount}))}var Ee,ye;n(228);function me(e){return l.a.createElement(se.a,{id:e.id},l.a.createElement(se.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onOpen&&e.onOpen()}},"Open"),l.a.createElement(se.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onRename&&e.onRename(e.id)}},"Rename"),l.a.createElement(se.c,{disabled:!Boolean(e.groupParent),onClick:function(t){t.stopPropagation(),"function"===typeof e.onUngroup&&e.onUngroup(e.id)}},"Ungroup"),l.a.createElement(se.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onRemove&&e.onRemove(e.id)}},"Delete"))}function ve(e){function t(){"function"===typeof e.onClick&&e.onClick(e.id)}return l.a.createElement("div",{className:"NoteRecord",draggable:"true",onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(t){t.preventDefault();var n=JSON.parse(t.dataTransfer.getData("text/plain")),r=parseInt(n&&n.index),a=e.index;"function"!==typeof e.onDrop||Number.isNaN(r)||r===a||e.onDrop(r,a)},onClick:t,tabIndex:e.tabIndex,onKeyDown:function(t){var n=t.keyCode;"enter"===ne[n]&&"function"===typeof e.onClick&&(t.preventDefault(),e.onClick(e.id))}},l.a.createElement(se.b,{id:e.id,holdToDisplay:-1},l.a.createElement("div",{className:"NoteRecordCard"},l.a.createElement("h4",{className:"NoteRecordTitle"},e.title))),l.a.createElement(me,{id:e.id,parent:e.parent,groupParent:e.groupParent,onOpen:t,onUngroup:e.ungroup,onRemove:e.removeRecord,onRename:e.renameRecord}))}function Re(e,t){return function(){var n=Object(h.a)(R.a.mark((function n(r,a){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:ye.OPEN_OVERLAY,payload:Object(A.a)({},t,{id:H.string.generateRandom(3),type:e})});case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function he(e){return function(){var t=Object(h.a)(R.a.mark((function t(n,r){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ye.CLOSE_OVERLAY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e[e.DELETE_RECORD=0]="DELETE_RECORD",e[e.RENAME_RECORD=1]="RENAME_RECORD"}(Ee||(Ee={})),function(e){e.OPEN_OVERLAY="Overlays/Actions/OPEN_OVERLAY",e.CLOSE_OVERLAY="Overlays/Actions/CLOSE_OVERLAY"}(ye||(ye={}));var Oe=Object(p.c)((function(e,t){var n=t.id,r=t.index,a=t.tabIndex,o=e.notes,c=o.records,i=o.groups,u=i[o.currentGroupID],l=c[n]||i[n];return Object(A.a)({index:r,tabIndex:a},l,{groupParent:u.parent})}),(function(e){return{moveToGroup:function(t,n){return e(F(t,n))},openGroup:function(t){return e(K(t))},swapGroupChildren:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(R.a.mark((function n(r,a){var o,c,i,u,l;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=a(),c=o.notes,i=c.currentGroupID,u=c.groups,l=u[i],r({type:N.REORDER,payload:Object(A.a)({},l,{children:H.array.swap(e,t,l.children)})});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},openEditor:function(t){return e(g(t))},removeRecord:function(t){return e(Re(Ee.DELETE_RECORD,{recordID:t}))},removeGroup:function(t){return e((n=t,function(){var e=Object(h.a)(R.a.mark((function e(t,r){var a,o,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),o=a.notes,c=o.groups,i=c[n]){e.next=5;break}throw Error("NoteGroup with ID ".concat(n," is absent."));case 5:if(!(i.children.length>0)){e.next=7;break}throw Error("NoteGroup must be empty before removing.");case 7:t({type:N.REMOVE_GROUP,payload:i,meta:{requiresConfirmation:!0}});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n},ungroup:function(t){return e(function(e){return function(){var t=Object(h.a)(R.a.mark((function t(n,r){var a,o,c,i,u,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,c=o.currentGroupID,i=o.groups,(u=i[c]).parent){t.next=5;break}throw Error("Ungroup is not allowed in root group.");case 5:l=i[u.parent],n(F(l.id,e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},renameRecord:function(t){return e(Re(Ee.RENAME_RECORD,{recordID:t}))}}}))((function(e){return l.a.createElement(l.a.Fragment,null,e.children?l.a.createElement(fe,{id:e.id,index:e.index,title:e.title,moveToGroup:e.moveToGroup,onDoubleClick:e.openGroup,tabIndex:e.tabIndex,parent:e.parent,groupParent:e.groupParent,childrenCount:e.children.length,removeGroup:e.removeGroup,ungroup:e.ungroup}):l.a.createElement(ve,{id:e.id,index:e.index,title:e.title,onClick:e.openEditor,onDrop:e.swapGroupChildren,tabIndex:e.tabIndex,moveToGroup:e.moveToGroup,parent:e.parent,groupParent:e.groupParent,removeRecord:e.removeRecord,ungroup:e.ungroup,renameRecord:e.renameRecord}))}));var ge=Object(de.a)([function(e,t){return e.notes.groups[t].children}],(function(e){return e}));var be=Object(p.c)((function(e){var t=e.notes.currentGroupID;return{children:ge(e,t)}}))((function(e){return l.a.createElement("div",{className:"Notes"},H.array.map((function(e,t){return l.a.createElement(Oe,{key:e,id:e,index:t,tabIndex:t})}),e.children))}));n(229),n(230);function Ce(e){return l.a.createElement("header",{className:"OverlayHeader"},l.a.createElement("span",{className:"OverlayHeaderTitle"},e.title),l.a.createElement("button",{className:"OverlayHeaderButton",onClick:function(){"function"===typeof e.onClose&&e.onClose(e.id)},tabIndex:e.tabIndex},l.a.createElement(f.b,null)))}n(231);function De(e){return l.a.createElement("div",{className:"OverlayBody"},e.children)}n(232),n(233);function ke(e){return l.a.createElement("footer",{className:"OverlayFooter"},e.children)}var Ne=Object(p.c)(null,(function(e){return{onConfirm:function(t,n){Object(p.b)((function(){e(function(e){return function(){var t=Object(h.a)(R.a.mark((function t(n,r){var a,o,c,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,c=o.records,i=c[e],e){t.next=5;break}throw Error("NoteRecord ID is absent.");case 5:if(i){t.next=7;break}throw Error("NoteRecord with the ID ".concat(e," is absent."));case 7:n({type:N.REMOVE_RECORD,payload:i});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t)),e(he(n))}))},onClose:function(t){return e(he(t))}}}))((function(e){var t=Object(u.useRef)([]);function n(){"function"===typeof e.onClose&&e.onClose(e.id)}return Object(u.useEffect)((function(){return t.current&&(t.current=H.dom.getTabbableElements("DeleteRecordOverlay")),function(){t.current&&(t.current=[])}}),[]),l.a.createElement("div",{id:"DeleteRecordOverlay",className:"DeleteRecordOverlay",onKeyDown:function(e){var r=e.keyCode,a=e.target,o=e.shiftKey,c=ne[r];"esc"===c&&n(),"tab"===c&&o?t&&a===H.array.first(t.current)&&(e.preventDefault(),H.array.last(t.current).focus()):"tab"===c&&t&&a===H.array.last(t.current)&&(e.preventDefault(),H.array.first(t.current).focus())}},l.a.createElement(Ce,{id:e.id,onClose:n,title:"Delete Note",tabIndex:0}),l.a.createElement(De,null,l.a.createElement("p",null,"Are you sure you want to permanently delete this note?")),l.a.createElement(ke,null,l.a.createElement("button",{onClick:function(){"function"===typeof e.onConfirm&&e.onConfirm(e.recordID,e.id)},tabIndex:0},"Delete Note"),l.a.createElement("button",{onClick:n,tabIndex:0},"Keep Note")))}));n(234);var Ae=Object(p.c)((function(e,t){return{record:e.notes.records[t.recordID]}}),(function(e){return{onConfirm:function(t,n){Object(p.b)((function(){e(z(t)),e(he(n))}))},onClose:function(t){return e(he(t))}}}))((function(e){var t=Object(u.useRef)(null),n=Object(u.useRef)([]);function r(){"function"===typeof e.onClose&&e.onClose(e.id)}function a(){if("function"===typeof e.onConfirm){var n=e.record.title;t.current&&(n=t.current.value);var r=Object(A.a)({},e.record,{title:n});e.onConfirm(r,e.id)}}return Object(u.useEffect)((function(){return n.current&&(n.current=H.dom.getTabbableElements("RenameRecordOverlay")),function(){n.current&&(n.current=[])}}),[]),l.a.createElement("div",{id:"RenameRecordOverlay",className:"RenameRecordOverlay",onKeyDown:function(e){var t=e.keyCode,a=e.target,o=e.shiftKey,c=ne[t];"esc"===c&&r(),"tab"===c&&o?n&&a===H.array.first(n.current)&&(e.preventDefault(),H.array.last(n.current).focus()):"tab"===c&&n&&a===H.array.last(n.current)&&(e.preventDefault(),H.array.first(n.current).focus())}},l.a.createElement(Ce,{id:e.id,title:"Rename Note",onClose:r}),l.a.createElement(De,null,l.a.createElement("input",{ref:t,type:"text",defaultValue:e.record.title,autoFocus:!0,onKeyDown:function(e){var t=e.keyCode;"enter"===ne[t]&&(e.preventDefault(),a())}})),l.a.createElement(ke,null,l.a.createElement("button",{onClick:a,tabIndex:0},"Confirm"),l.a.createElement("button",{onClick:r,tabIndex:0},"Cancel")))}));var je=Object(p.c)((function(e){return{overlays:e.overlays}}))((function(e){return e.overlays.length?Object(d.createPortal)(l.a.createElement("div",{className:"OverlayContainer"},H.array.mapReversed((function(t){switch(t.type){case Ee.DELETE_RECORD:return l.a.createElement(Ne,Object.assign({key:t.id},e,t));case Ee.RENAME_RECORD:return l.a.createElement(Ae,Object.assign({key:t.id},e,t));default:return null}}),e.overlays)),document.getElementById("app-overlays-root")):null}));var Ie=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(C,null),l.a.createElement(q,null),l.a.createElement(le,null),l.a.createElement(be,null),l.a.createElement(je,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe,we=n(22),Le=n(100),Se=n(101),Ge=n(12),Pe={instruction:{id:"instruction",parent:"root",title:"INSTRUCTIONS",content:{blocks:[{key:"8ofdk",text:"EDITOR",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:6,style:"BOLD"}],entityRanges:[],data:{}},{key:"aemmj",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"35hd4",text:"In order to save a note, use shortcut ctrl + s.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2dqfh",text:"To close editor, you can simply use escape key. (ESC)",type:"unstyled",depth:0,inlineStyleRanges:[{offset:48,length:5,style:"ITALIC"}],entityRanges:[],data:{}},{key:"e5mv2",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a71vr",text:"Available shortcuts:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"dhmf5",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8jlev",text:"1. ctrl + b - Bold",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:4,style:"BOLD"}],entityRanges:[],data:{}},{key:"5ikho",text:"2. ctrl + i  - Italic",type:"unstyled",depth:0,inlineStyleRanges:[{offset:15,length:6,style:"ITALIC"}],entityRanges:[],data:{}},{key:"eacar",text:"3. ctrl + u - Underline",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:9,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"2h4vl",text:"4. ctrl + shift + s - Strikethrough",type:"unstyled",depth:0,inlineStyleRanges:[{offset:22,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"cefcc",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"alrtq",text:"NOTES",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:5,style:"BOLD"}],entityRanges:[],data:{}},{key:"cgvgp",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1jo4c",text:"- To move a note or a group into the another group, simply drag that note over the target group and drop.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bqsbk",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cvojm",text:"- To ungroup certain note or group from current group, use right click > ungroup option.",type:"unstyled",depth:0,inlineStyleRanges:[{offset:59,length:11,style:"BOLD"},{offset:73,length:8,style:"BOLD"}],entityRanges:[],data:{}}],entityMap:{}}}};!function(e){e.REPLACE="Notes/Groups/Actions/REPLACE",e.REPLACE_ALL="Notes/Groups/Actions/REPLACE_ALL"}(xe||(xe={}));var Te={root:{id:"root",parent:void 0,title:"/",children:["fakultet","ostalo","instruction"]},fakultet:{id:"fakultet",parent:"root",title:"Fakultet",children:[]},ostalo:{id:"ostalo",parent:"root",title:"Ostalo",children:[]}};var _e=Object(we.combineReducers)({currentGroupID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.OPEN_GROUP:return t.payload;default:return e}},groups:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N.CREATE_RECORD:return Object(A.a)({},r,Object(Ge.a)({},a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.concat(a.payload.id)})));case N.REMOVE_RECORD:return Object(A.a)({},r,Object(Ge.a)({},a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case N.CREATE_GROUP:return Object(A.a)({},r,(e={},Object(Ge.a)(e,a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.concat(a.payload.id)})),Object(Ge.a)(e,a.payload.id,Object(A.a)({},a.payload)),e));case N.REMOVE_GROUP:return Object(A.a)({},H.object.deleteProperty(a.payload.id,r),Object(Ge.a)({},a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case N.MOVE_GROUP:return Object(A.a)({},r,(t={},Object(Ge.a)(t,a.payload.targetGroupID,Object(A.a)({},r[a.payload.targetGroupID],{children:r[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(Ge.a)(t,a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),Object(Ge.a)(t,a.payload.id,Object(A.a)({},r[a.payload.id],{parent:a.payload.targetGroupID})),t));case N.MOVE_RECORD:return Object(A.a)({},r,(n={},Object(Ge.a)(n,a.payload.targetGroupID,Object(A.a)({},r[a.payload.targetGroupID],{children:r[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(Ge.a)(n,a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),n));case N.REORDER:return Object(A.a)({},r,Object(Ge.a)({},a.payload.id,Object(A.a)({},a.payload)));default:return r}},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.CREATE_RECORD:return Object(A.a)({},e,Object(Ge.a)({},t.payload.id,Object(A.a)({},t.payload)));case N.REMOVE_RECORD:return H.object.deleteProperty(t.payload.id,e);case N.UPDATE_RECORD:return Object(A.a)({},e,Object(Ge.a)({},t.payload.id,Object(A.a)({},e[t.payload.id],{},t.payload)));case N.MOVE_RECORD:return Object(A.a)({},e,Object(Ge.a)({},t.payload.id,Object(A.a)({},e[t.payload.id],{parent:t.payload.targetGroupID})));default:return e}}});var Ue,Be={autoSave:!0,saveAndClose:!1,spellCheck:!1};!function(e){e.REPLACE="Settings/Editor/Actions/REPLACE",e.REPLACE_ALL="Settings/Editor/Actions/REPLACE_ALL"}(Ue||(Ue={}));var Ve,Me={softDelete:!0};!function(e){e.REPLACE="Settings/Notes/Actions/REPLACE",e.REPLACE_ALL="Settings/Notes/Actions/REPLACE_ALL"}(Ve||(Ve={}));var He=Object(we.combineReducers)({editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.REPLACE:return Object(A.a)({},e,{},t.payload);case Ue.REPLACE_ALL:return Object(A.a)({},t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.REPLACE:return Object(A.a)({},e,{},t.payload);case Ve.REPLACE_ALL:return Object(A.a)({},t.payload);default:return e}}}),Ke=n(102);var ze=Object(we.combineReducers)({notes:_e,editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.REPLACE:return Object(A.a)({},e,{},t.payload);case m.REPLACE_ALL:return Object(A.a)({},t.payload);default:return e}},settings:He,overlays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.OPEN_OVERLAY:return[].concat(Object(Ke.a)(e),[t.payload]);case ye.CLOSE_OVERLAY:return e.filter((function(e){return e.id!==t.payload}));default:return e}}}),Fe=[Le.a],qe=Object(we.createStore)(ze,Object(Se.composeWithDevTools)(we.applyMiddleware.apply(void 0,Fe)));s.a.render(l.a.createElement(p.a,{store:qe},l.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.c48334cc.chunk.js.map