(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{104:function(e,t,n){e.exports=n(234)},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"first",(function(){return I})),n.d(r,"last",(function(){return j})),n.d(r,"chunk",(function(){return x})),n.d(r,"swap",(function(){return L})),n.d(r,"mapReversed",(function(){return S})),n.d(r,"map",(function(){return w}));var a={};n.r(a),n.d(a,"getTabbableElements",(function(){return G}));var o={};n.r(o),n.d(o,"clear",(function(){return T}));var c={};n.r(c),n.d(c,"deleteProperty",(function(){return B}));var i={};n.r(i),n.d(i,"generateRandom",(function(){return V})),n.d(i,"isString",(function(){return M}));var l=n(1),u=n.n(l),d=n(21),s=n.n(d),p=(n(109),n(110),n(111),n(10)),f=(n(118),n(13));n(119);function E(e){return u.a.createElement("button",{className:"AppHeaderButton",disabled:e.disabled,title:e.title,onClick:e.onClick},e.children)}function y(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(E,{title:"Create new folder",onClick:e.onCreateNewFolder,disabled:!0},u.a.createElement(f.c,null)),u.a.createElement(E,{title:"Create new file",onClick:e.onCreateNewFile},u.a.createElement(f.j,null)))}var m,v=n(4),h=n.n(v),g=n(11),O={open:!1,id:void 0};function R(e){return function(){var t=Object(g.a)(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m.REPLACE,payload:{open:!0,id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.REPLACE="Editor/Actions/REPLACE",e.REPLACE_ALL="Editor/Actions/REPLACE_ALL"}(m||(m={}));var b=Object(p.c)(null,(function(e){return{onCreateNewFile:function(){return e(R())},onCreateNewFolder:function(){}}}))((function(e){return u.a.createElement("div",{className:"AppHeaderControls"},u.a.createElement(y,{onCreateNewFolder:e.onCreateNewFolder,onCreateNewFile:e.onCreateNewFile}))}));function C(e){return u.a.createElement("header",{id:"AppHeader",className:"AppHeader"},u.a.createElement("h1",{className:"AppHeader__title"},"Notebook"),u.a.createElement(b,null))}n(121),n(122);function D(e){return u.a.createElement("button",{className:"BackButton",title:"Go back",onClick:e.onClick},u.a.createElement(f.a,null))}n(123);function k(e){return u.a.createElement("button",{className:"HomeButton",onClick:e.onClick,title:"Back to root"},u.a.createElement(f.i,null))}var A,N=n(3);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[0]}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[e.length-1]}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t<1)throw Error("Chunk size must be greater than one.");for(var n=Array.from({length:Math.ceil(e.length/t)},(function(){return[]})),r=0,a=0;a<n.length;a++)for(var o=n[a],c=0;c<t;c++)"undefined"!==typeof e[r]&&o.push(e[r++]);return n}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||t<0)throw Error("Swap indexes must be greater than or equal to 0.");if(e>=n.length||t>=n.length)throw Error("Swap indexes must be less than the size of array.");for(var r=Array(n.length),a=n[t],o=n[e],c=0;c<n.length;c++)r[c]=c!==e?c!==t?n[c]:o:a;return r}function S(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),r=t.length-1;r>-1;r--)n[t.length-r-1]=e(t[r],r,t);return n}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}function G(e){var t,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])',"audio[controls]","video[controls]"];if(e&&document)return"string"===typeof e?null===(t=document.getElementById(e))||void 0===t?void 0:t.querySelectorAll(n.join(",")):e.querySelectorAll(n.join(","))}!function(e){e.OPEN_GROUP="Notes/Actions/Group/OPEN_GROUP",e.CREATE_RECORD="Notes/Actions/CREATE_RECORD",e.REMOVE_RECORD="Notes/Actions/REMOVE_RECORD",e.UPDATE_RECORD="Notes/Actions/UPDATE_RECORD",e.CREATE_GROUP="Notes/Actions/CREATE_GROUP",e.REMOVE_GROUP="Notes/Actions/REMOVE_GROUP",e.MOVE_GROUP="Notes/Actions/MOVE_GROUP",e.MOVE_RECORD="Notes/Actions/MOVE_RECORD",e.REORDER="Notes/Actions/REORDER"}(A||(A={}));var P=n(9);function T(e){var t=e.getSelection(),n=e.getCurrentContent(),r=e.getCurrentInlineStyle().reduce((function(e,n){return P.Modifier.removeInlineStyle(e,t,n)}),n);return P.EditorState.push(e,P.Modifier.setBlockType(r,t,"unstyled"),"change-block-type")}var U=n(98),_=n(103),B=function(e,t){t[e];return Object(U.a)(t,[e].map(_.a))};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="";if(e<=0)return t;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.length<e;){var r=Math.floor(Math.random()*n.length);t+=n.charAt(r)}return t}function M(e){return"string"===typeof e}var H={array:r,dom:a,editor:o,object:c,string:i};function K(e){return function(){var t=Object(g.a)(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:A.OPEN_GROUP,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function z(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(r,a){var o,c,i,l,u,d,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),c=o.notes,i=c.groups,l=c.records,u=i[e],d=i[t],s=l[t],u){n.next=7;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 7:if(d||s){n.next=9;break}throw Error("ID ".concat(t," does not belong to any NoteRecord or NoteGroup."));case 9:d&&r({type:A.MOVE_GROUP,payload:Object(N.a)({},d,{targetGroupID:e})}),s&&r({type:A.MOVE_RECORD,payload:Object(N.a)({},s,{targetGroupID:e})});case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var F=Object(p.c)((function(e){var t=e.notes,n=t.currentGroupID,r=t.groups[n];return{open:Boolean(r.parent),currentGroupID:n}}),(function(e){return{openGroup:function(t){return e(K(t))},openParentGroup:function(t){return e((n=t,function(){var e=Object(g.a)(h.a.mark((function e(t,r){var a,o,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),o=a.notes,c=o.groups,(i=c[n])&&i.parent&&t({type:A.OPEN_GROUP,payload:i.parent});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n}}}))((function(e){return u.a.createElement("div",{className:"Navigator","data-open":e.open},u.a.createElement(D,{onClick:function(){"function"===typeof e.openParentGroup&&e.openParentGroup(e.currentGroupID)}}),u.a.createElement(k,{onClick:function(){"function"===typeof e.openGroup&&e.openGroup("root")}}))})),q=n(36),Y=(n(217),n(218),n(58));n(219);function J(e){return u.a.createElement("button",{className:"ResizeButton",onClick:function(t){"function"===typeof e.onClick&&e.onClick(!e.maximized)},title:"".concat(e.maximized?"Minimize":"Maximize"," Editor")},e.maximized?u.a.createElement(Y.b,null):u.a.createElement(Y.a,null))}n(220);function W(e){return u.a.createElement("button",{className:"CloseButton",title:"Close Editor",onClick:e.onClick},u.a.createElement(f.b,null))}n(221);var Q=Object(l.forwardRef)((function(e,t){var n=Object(l.useRef)(null);return Object(l.useImperativeHandle)(t,(function(){return{getValue:function(){return n.current?n.current.value:""}}})),u.a.createElement("input",{ref:n,className:"NameInput",placeholder:"New title",type:"text",defaultValue:e.defaultValue,onChange:e.onChange,autoFocus:!0})}));n(222);function X(e){return u.a.createElement("div",{className:"ChangeIndicator"},u.a.createElement("span",{className:"ChangeIndicatorDot","data-state":e.state}))}var Z,$=Object(l.forwardRef)((function(e,t){return u.a.createElement("div",{className:"AppEditorHeader"},u.a.createElement(Q,{ref:t,defaultValue:e.defaultValue,onChange:e.onChange}),u.a.createElement(X,{state:e.indicatorState}),u.a.createElement(J,{maximized:e.maximized,onClick:e.onResize}),u.a.createElement(W,{onClick:e.onClose}))}));n(223);function ee(e){return function(t,n){switch(t){case Z.BOLD:return e(P.RichUtils.toggleInlineStyle(n,Z.BOLD)),"handled";case Z.ITALIC:return e(P.RichUtils.toggleInlineStyle(n,Z.ITALIC)),"handled";case Z.UNDERLINE:return e(P.RichUtils.toggleInlineStyle(n,Z.UNDERLINE)),"handled";case Z.STRIKETHROUGH:return e(P.RichUtils.toggleInlineStyle(n,Z.STRIKETHROUGH)),"handled";case Z.UNDO:return e(P.EditorState.undo(n)),"handled";case Z.REDO:return e(P.EditorState.redo(n)),"handled";case Z.SAVE:return"handled";case Z.CLEAR:return e(H.editor.clear(n)),"handled";default:return"not-handled"}}}!function(e){e.BOLD="BOLD",e.ITALIC="ITALIC",e.UNDERLINE="UNDERLINE",e.STRIKETHROUGH="STRIKETHROUGH",e.SAVE="SAVE",e.UNDO="UNDO",e.REDO="REDO",e.CLEAR="CLEAR"}(Z||(Z={}));var te={9:"tab",13:"enter",27:"esc",66:"b",67:"c",73:"i",83:"s",85:"u",87:"y",97:"z"};function ne(e){var t=e.ctrlKey,n=e.shiftKey,r=e.keyCode,a=te[r];return t&&"b"===a?Z.BOLD:t&&"i"===a?Z.ITALIC:t&&"u"===a?Z.UNDERLINE:t&&n&&"s"===a?Z.STRIKETHROUGH:t&&"s"===a?Z.SAVE:t&&"z"===a?Z.UNDO:t&&"y"===a?Z.REDO:t&&n&&"c"===a?Z.CLEAR:Object(P.getDefaultKeyBinding)(e)}n(224),n(225);function re(e){return u.a.createElement("button",{className:"EditorControlButton",title:e.title,tabIndex:e.tabIndex,onMouseDown:function(t){"function"===typeof e.onClick&&e.onClick(t,e.command)},"data-active":e.active},e.children)}function ae(e){var t,n,r,a;function o(t,n){t.preventDefault(),"function"===typeof e.onClick&&e.onClick(n)}return u.a.createElement("div",{className:"EditorControls"},u.a.createElement(re,{command:Z.BOLD,onClick:o,title:"Bold",active:Boolean(null===(t=e.inlineStyles)||void 0===t?void 0:t.has("BOLD")),tabIndex:-1},u.a.createElement(f.d,null)),u.a.createElement(re,{command:Z.ITALIC,onClick:o,title:"Italic",active:Boolean(null===(n=e.inlineStyles)||void 0===n?void 0:n.has("ITALIC")),tabIndex:-1},u.a.createElement(f.f,null)),u.a.createElement(re,{command:Z.UNDERLINE,onClick:o,title:"Underline",active:Boolean(null===(r=e.inlineStyles)||void 0===r?void 0:r.has("UNDERLINE")),tabIndex:-1},u.a.createElement(f.h,null)),u.a.createElement(re,{command:Z.STRIKETHROUGH,onClick:o,title:"Strikethrough",active:Boolean(null===(a=e.inlineStyles)||void 0===a?void 0:a.has("STRIKETHROUGH")),tabIndex:-1},u.a.createElement(f.g,null)),u.a.createElement(re,{command:Z.CLEAR,onClick:o,title:"Clear formatting",active:!1,tabIndex:-1},u.a.createElement(f.e,null)))}var oe,ce=Object(l.forwardRef)((function(e,t){var n=Object(l.useState)(e.rawContentState?P.EditorState.createWithContent(Object(P.convertFromRaw)(e.rawContentState)):P.EditorState.createEmpty()),r=Object(q.a)(n,2),a=r[0],o=r[1],c=Object(l.useRef)(null);function i(t){(o(t),"function"===typeof e.onChange)&&(t.getCurrentContent().getBlockMap().equals(a.getCurrentContent().getBlockMap())||e.onChange())}function d(e){c.current&&c.current.focus()}function s(){c.current&&c.current.blur()}return Object(l.useImperativeHandle)(t,(function(){return{getPlainText:function(){return a.getCurrentContent().getPlainText()},getRawDraftContentState:function(){return Object(P.convertToRaw)(a.getCurrentContent())},focusEditor:d,blurEditor:s}})),u.a.createElement("div",{className:"Editor"},u.a.createElement(ae,{inlineStyles:a.getCurrentInlineStyle(),onClick:function(e){ee(i)(e,a)}}),u.a.createElement("div",{className:"EditorWrapper",onMouseDown:d},u.a.createElement(P.Editor,{ref:c,editorState:a,onChange:i,keyBindingFn:ne,handleKeyCommand:ee(i),spellCheck:e.spellCheck})))}));function ie(e){var t=Object(l.useState)(e.maximized),n=Object(q.a)(t,2),r=n[0],a=n[1],o=Object(l.useState)(oe.IDLE),c=Object(q.a)(o,2),i=c[0],d=c[1],s=Object(l.useRef)(),p=Object(l.useRef)(),f=Object(l.useRef)();function E(){var t={id:e.id||H.string.generateRandom(),parent:e.currentGroupID,title:"",content:{entityMap:{},blocks:[]}};if(s.current&&(t.title=s.current.getValue()),p.current&&(t.content=p.current.getRawDraftContentState()),"function"===typeof e.onSave&&!e.id)return e.onSave(e.currentGroupID,t),void(e.saveAndClose&&!e.autoSave?m():d(oe.SAVED));"function"===typeof e.onUpdate&&e.id&&(e.onUpdate(t),e.saveAndClose&&!e.autoSave?m():d(oe.SAVED))}function y(){d(oe.UNSAVED),f.current&&clearTimeout(f.current),e.autoSave&&Boolean(e.id)&&(f.current=setTimeout((function(){E()}),3e3))}function m(){f.current&&clearTimeout(f.current),"function"===typeof e.onClose&&e.onClose()}return u.a.createElement("div",{className:"AppEditor"},u.a.createElement("div",{className:"AppEditorWrapper",onKeyDown:function(e){var t=e.ctrlKey,n=e.shiftKey,r=e.keyCode,a=te[r];t&&!n&&"s"===a&&(e.preventDefault(),f.current&&clearTimeout(f.current),i===oe.UNSAVED&&E()),"esc"===a&&(e.preventDefault(),m())}},u.a.createElement("div",{className:"AppEditorCanvas","data-maximized":r},u.a.createElement($,{maximized:r,ref:s,onClose:e.onClose,onResize:a,defaultValue:e.title,indicatorState:i,onChange:y}),u.a.createElement(ce,{ref:p,spellCheck:e.spellCheck,onChange:y,rawContentState:e.content}))))}!function(e){e[e.IDLE=0]="IDLE",e[e.SAVED=1]="SAVED",e[e.UNSAVED=2]="UNSAVED"}(oe||(oe={}));var le=Object(p.c)((function(e){var t,n=e.editor,r=e.settings,a=e.notes,o=n.open,c=n.id,i=r.editor,l=a.currentGroupID,u=a.records;return c&&(t=u[c]),Object(N.a)({open:o,maximized:!1,autoSave:Boolean(i.autoSave),saveAndClose:Boolean(i.saveAndClose),spellCheck:Boolean(i.spellCheck),currentGroupID:l},t)}),(function(e){return{onClose:function(){return e(function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:m.REPLACE_ALL,payload:{open:!1,id:void 0}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSave:function(t,n){Object(p.b)((function(){e(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(r,a){var o,c,i,l,u;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),c=o.notes,i=c.records,l=c.groups,u=l[e],t.id&&!i[t.id]){n.next=5;break}throw Error("NoteRecord with the ID ".concat(t.id," already exists."));case 5:if(u){n.next=7;break}throw Error("NoteGroup with the ID ".concat(e," is absent"));case 7:r({type:A.CREATE_RECORD,payload:Object(N.a)({},t,{parent:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n)),e(R(n.id))}))},onUpdate:function(t){return e((n=t,function(){var e=Object(g.a)(h.a.mark((function e(t,r){var a,o,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),o=a.notes,c=o.records,i=c[n.id]){e.next=5;break}throw Error("NoteRecord with ID ".concat(n.id," is absent."));case 5:if(i.parent===n.parent){e.next=7;break}throw Error('Changing record location is not permitted. If your intention was moving record to another group, consider using the "moveToGroup" function.');case 7:t({type:A.UPDATE_RECORD,payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n}}}))((function(e){return u.a.createElement(u.a.Fragment,null,e.open&&Object(d.createPortal)(u.a.createElement(ie,e),document.getElementById("app-editor-root")))})),ue=n(99),de=(n(226),n(227),n(17));function se(e){return u.a.createElement(de.a,{id:e.id},u.a.createElement(de.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onOpen&&e.onOpen()}},"Open"),u.a.createElement(de.c,{disabled:!Boolean(e.groupParent),onClick:function(t){t.stopPropagation(),"function"===typeof e.onUngroup&&e.onUngroup(e.id)}},"Ungroup"),u.a.createElement(de.c,{disabled:Boolean(e.childrenCount),onClick:function(t){t.stopPropagation(),"function"===typeof e.onRemove&&e.onRemove(e.id)}},"Delete"))}function pe(e){function t(t){"function"===typeof e.onDoubleClick&&e.onDoubleClick(e.id)}return u.a.createElement("div",{className:"NoteGroup",draggable:"true",onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(t){t.preventDefault();var n=JSON.parse(t.dataTransfer.getData("text/plain")),r=n&&n.id,a=e.id;"function"===typeof e.moveToGroup&&r&&r!==a&&e.moveToGroup(a,r)},onDoubleClick:t,tabIndex:e.tabIndex,onKeyDown:function(t){var n=t.keyCode;"enter"===te[n]&&"function"===typeof e.onDoubleClick&&(t.preventDefault(),e.onDoubleClick(e.id))}},u.a.createElement(de.b,{id:e.id,holdToDisplay:-1},u.a.createElement("div",{className:"NoteGroupBack"}),u.a.createElement("div",{className:"NoteGroupFront"},u.a.createElement("h5",{className:"NoteGroupTitle"},u.a.createElement("span",null,e.title)))),u.a.createElement(se,{id:e.id,parent:e.parent,groupParent:e.groupParent,onOpen:t,onUngroup:e.ungroup,onRemove:e.removeGroup,childrenCount:e.childrenCount}))}var fe,Ee;n(228);function ye(e){return u.a.createElement(de.a,{id:e.id},u.a.createElement(de.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onOpen&&e.onOpen()}},"Open"),u.a.createElement(de.c,{disabled:!Boolean(e.groupParent),onClick:function(t){t.stopPropagation(),"function"===typeof e.onUngroup&&e.onUngroup(e.id)}},"Ungroup"),u.a.createElement(de.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onRemove&&e.onRemove(e.id)}},"Delete"))}function me(e){function t(){"function"===typeof e.onClick&&e.onClick(e.id)}return u.a.createElement("div",{className:"NoteRecord",draggable:"true",onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(t){t.preventDefault();var n=JSON.parse(t.dataTransfer.getData("text/plain")),r=parseInt(n&&n.index),a=e.index;"function"!==typeof e.onDrop||Number.isNaN(r)||r===a||e.onDrop(r,a)},onClick:t,tabIndex:e.tabIndex,onKeyDown:function(t){var n=t.keyCode;"enter"===te[n]&&"function"===typeof e.onClick&&(t.preventDefault(),e.onClick(e.id))}},u.a.createElement(de.b,{id:e.id,holdToDisplay:-1},u.a.createElement("div",{className:"NoteRecordCard"},u.a.createElement("h4",{className:"NoteRecordTitle"},e.title))),u.a.createElement(ye,{id:e.id,parent:e.parent,groupParent:e.groupParent,onOpen:t,onUngroup:e.ungroup,onRemove:e.removeRecord}))}function ve(e){return function(){var t=Object(g.a)(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:Ee.CLOSE_OVERLAY,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e[e.DELETE_RECORD=0]="DELETE_RECORD"}(fe||(fe={})),function(e){e.OPEN_OVERLAY="Overlays/Actions/OPEN_OVERLAY",e.CLOSE_OVERLAY="Overlays/Actions/CLOSE_OVERLAY"}(Ee||(Ee={}));var he=Object(p.c)((function(e,t){var n=t.id,r=t.index,a=t.tabIndex,o=e.notes,c=o.records,i=o.groups,l=i[o.currentGroupID],u=c[n]||i[n];return Object(N.a)({index:r,tabIndex:a},u,{groupParent:l.parent})}),(function(e){return{moveToGroup:function(t,n){return e(z(t,n))},openGroup:function(t){return e(K(t))},swapGroupChildren:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(r,a){var o,c,i,l,u;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=a(),c=o.notes,i=c.currentGroupID,l=c.groups,u=l[i],r({type:A.REORDER,payload:Object(N.a)({},u,{children:H.array.swap(e,t,u.children)})});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},openEditor:function(t){return e(R(t))},removeRecord:function(t){return e((n=fe.DELETE_RECORD,r={recordID:t},function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ee.OPEN_OVERLAY,payload:Object(N.a)({},r,{id:H.string.generateRandom(3),type:n})});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n,r},removeGroup:function(t){return e((n=t,function(){var e=Object(g.a)(h.a.mark((function e(t,r){var a,o,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),o=a.notes,c=o.groups,i=c[n]){e.next=5;break}throw Error("NoteGroup with ID ".concat(n," is absent."));case 5:if(!(i.children.length>0)){e.next=7;break}throw Error("NoteGroup must be empty before removing.");case 7:t({type:A.REMOVE_GROUP,payload:i,meta:{requiresConfirmation:!0}});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n},ungroup:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n,r){var a,o,c,i,l,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,c=o.currentGroupID,i=o.groups,(l=i[c]).parent){t.next=5;break}throw Error("Ungroup is not allowed in root group.");case 5:u=i[l.parent],n(z(u.id,e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){return u.a.createElement(u.a.Fragment,null,e.children?u.a.createElement(pe,{id:e.id,index:e.index,title:e.title,moveToGroup:e.moveToGroup,onDoubleClick:e.openGroup,tabIndex:e.tabIndex,parent:e.parent,groupParent:e.groupParent,childrenCount:e.children.length,removeGroup:e.removeGroup,ungroup:e.ungroup}):u.a.createElement(me,{id:e.id,index:e.index,title:e.title,onClick:e.openEditor,onDrop:e.swapGroupChildren,tabIndex:e.tabIndex,moveToGroup:e.moveToGroup,parent:e.parent,groupParent:e.groupParent,removeRecord:e.removeRecord,ungroup:e.ungroup}))}));var ge=Object(ue.a)([function(e,t){return e.notes.groups[t].children}],(function(e){return e}));var Oe=Object(p.c)((function(e){var t=e.notes.currentGroupID;return{children:ge(e,t)}}))((function(e){return u.a.createElement("div",{className:"Notes"},H.array.map((function(e,t){return u.a.createElement(he,{key:e,id:e,index:t,tabIndex:t})}),e.children))}));n(229),n(230);function Re(e){return u.a.createElement("header",{className:"OverlayHeader"},u.a.createElement("span",{className:"OverlayHeaderTitle"},e.title),u.a.createElement("button",{className:"OverlayHeaderButton",onClick:function(){"function"===typeof e.onClose&&e.onClose(e.id)},tabIndex:e.tabIndex},u.a.createElement(f.b,null)))}n(231);function be(e){return u.a.createElement("div",{className:"OverlayBody"},e.children)}n(232),n(233);function Ce(e){return u.a.createElement("footer",{className:"OverlayFooter"},e.children)}var De=Object(p.c)(null,(function(e){return{onConfirm:function(t,n){Object(p.b)((function(){e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n,r){var a,o,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,c=o.records,i=c[e],e){t.next=5;break}throw Error("NoteRecord ID is absent.");case 5:if(i){t.next=7;break}throw Error("NoteRecord with the ID ".concat(e," is absent."));case 7:n({type:A.REMOVE_RECORD,payload:i});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t)),e(ve(n))}))},onClose:function(t){return e(ve(t))}}}))((function(e){var t=Object(l.useRef)([]);function n(){"function"===typeof e.onClose&&e.onClose(e.id)}return Object(l.useEffect)((function(){return t.current&&(t.current=H.dom.getTabbableElements("DeleteRecordOverlay")),function(){t.current&&(t.current=[])}}),[]),u.a.createElement("div",{id:"DeleteRecordOverlay",className:"DeleteRecordOverlay",onKeyDown:function(e){var r=e.keyCode,a=e.target,o=e.shiftKey,c=te[r];"esc"===c&&n(),"tab"===c&&o?t&&a===H.array.first(t.current)&&(e.preventDefault(),H.array.last(t.current).focus()):"tab"===c&&t&&a===H.array.last(t.current)&&(e.preventDefault(),H.array.first(t.current).focus())}},u.a.createElement(Re,{id:e.id,onClose:n,title:"Delete Note",tabIndex:0}),u.a.createElement(be,null,u.a.createElement("p",null,"Are you sure you want to permanently delete this note?")),u.a.createElement(Ce,null,u.a.createElement("button",{onClick:function(){"function"===typeof e.onConfirm&&e.onConfirm(e.recordID,e.id)},tabIndex:0},"Delete Note"),u.a.createElement("button",{onClick:n,tabIndex:0},"Keep Note")))}));var ke=Object(p.c)((function(e){return{overlays:e.overlays}}))((function(e){return e.overlays.length?Object(d.createPortal)(u.a.createElement("div",{className:"OverlayContainer"},H.array.mapReversed((function(t){switch(t.type){case fe.DELETE_RECORD:return u.a.createElement(De,Object.assign({key:t.id},e,t));default:return null}}),e.overlays)),document.getElementById("app-overlays-root")):null}));var Ae=function(){return u.a.createElement("div",{className:"App"},u.a.createElement(C,null),u.a.createElement(F,null),u.a.createElement(le,null),u.a.createElement(Oe,null),u.a.createElement(ke,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne,Ie=n(22),je=n(100),xe=n(101),Le=n(12),Se={instruction:{id:"instruction",parent:"root",title:"INSTRUCTIONS",content:{blocks:[{key:"8ofdk",text:"EDITOR",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:6,style:"BOLD"}],entityRanges:[],data:{}},{key:"aemmj",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"35hd4",text:"In order to save a note, use shortcut ctrl + s.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2dqfh",text:"To close editor, you can simply use escape key. (ESC)",type:"unstyled",depth:0,inlineStyleRanges:[{offset:48,length:5,style:"ITALIC"}],entityRanges:[],data:{}},{key:"e5mv2",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a71vr",text:"Available shortcuts:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"dhmf5",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8jlev",text:"1. ctrl + b - Bold",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:4,style:"BOLD"}],entityRanges:[],data:{}},{key:"5ikho",text:"2. ctrl + i  - Italic",type:"unstyled",depth:0,inlineStyleRanges:[{offset:15,length:6,style:"ITALIC"}],entityRanges:[],data:{}},{key:"eacar",text:"3. ctrl + u - Underline",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:9,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"2h4vl",text:"4. ctrl + shift + s - Strikethrough",type:"unstyled",depth:0,inlineStyleRanges:[{offset:22,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"cefcc",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"alrtq",text:"NOTES",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:5,style:"BOLD"}],entityRanges:[],data:{}},{key:"cgvgp",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1jo4c",text:"- To move a note or a group into the another group, simply drag that note over the target group and drop.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bqsbk",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cvojm",text:"- To ungroup certain note or group from current group, use right click > ungroup option.",type:"unstyled",depth:0,inlineStyleRanges:[{offset:59,length:11,style:"BOLD"},{offset:73,length:8,style:"BOLD"}],entityRanges:[],data:{}}],entityMap:{}}}};!function(e){e.REPLACE="Notes/Groups/Actions/REPLACE",e.REPLACE_ALL="Notes/Groups/Actions/REPLACE_ALL"}(Ne||(Ne={}));var we={root:{id:"root",parent:void 0,title:"/",children:["fakultet","ostalo","instruction"]},fakultet:{id:"fakultet",parent:"root",title:"Fakultet",children:[]},ostalo:{id:"ostalo",parent:"root",title:"Ostalo",children:[]}};var Ge=Object(Ie.combineReducers)({currentGroupID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.OPEN_GROUP:return t.payload;default:return e}},groups:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case A.CREATE_RECORD:return Object(N.a)({},r,Object(Le.a)({},a.payload.parent,Object(N.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.concat(a.payload.id)})));case A.REMOVE_RECORD:return Object(N.a)({},r,Object(Le.a)({},a.payload.parent,Object(N.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case A.CREATE_GROUP:return Object(N.a)({},r,(e={},Object(Le.a)(e,a.payload.parent,Object(N.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.concat(a.payload.id)})),Object(Le.a)(e,a.payload.id,Object(N.a)({},a.payload)),e));case A.REMOVE_GROUP:return Object(N.a)({},H.object.deleteProperty(a.payload.id,r),Object(Le.a)({},a.payload.parent,Object(N.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case A.MOVE_GROUP:return Object(N.a)({},r,(t={},Object(Le.a)(t,a.payload.targetGroupID,Object(N.a)({},r[a.payload.targetGroupID],{children:r[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(Le.a)(t,a.payload.parent,Object(N.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),Object(Le.a)(t,a.payload.id,Object(N.a)({},r[a.payload.id],{parent:a.payload.targetGroupID})),t));case A.MOVE_RECORD:return Object(N.a)({},r,(n={},Object(Le.a)(n,a.payload.targetGroupID,Object(N.a)({},r[a.payload.targetGroupID],{children:r[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(Le.a)(n,a.payload.parent,Object(N.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),n));case A.REORDER:return Object(N.a)({},r,Object(Le.a)({},a.payload.id,Object(N.a)({},a.payload)));default:return r}},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.CREATE_RECORD:return Object(N.a)({},e,Object(Le.a)({},t.payload.id,Object(N.a)({},t.payload)));case A.REMOVE_RECORD:return H.object.deleteProperty(t.payload.id,e);case A.UPDATE_RECORD:return Object(N.a)({},e,Object(Le.a)({},t.payload.id,Object(N.a)({},t.payload)));case A.MOVE_RECORD:return Object(N.a)({},e,Object(Le.a)({},t.payload.id,Object(N.a)({},e[t.payload.id],{parent:t.payload.targetGroupID})));default:return e}}});var Pe,Te={autoSave:!0,saveAndClose:!1,spellCheck:!1};!function(e){e.REPLACE="Settings/Editor/Actions/REPLACE",e.REPLACE_ALL="Settings/Editor/Actions/REPLACE_ALL"}(Pe||(Pe={}));var Ue,_e={softDelete:!0};!function(e){e.REPLACE="Settings/Notes/Actions/REPLACE",e.REPLACE_ALL="Settings/Notes/Actions/REPLACE_ALL"}(Ue||(Ue={}));var Be=Object(Ie.combineReducers)({editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.REPLACE:return Object(N.a)({},e,{},t.payload);case Pe.REPLACE_ALL:return Object(N.a)({},t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.REPLACE:return Object(N.a)({},e,{},t.payload);case Ue.REPLACE_ALL:return Object(N.a)({},t.payload);default:return e}}}),Ve=n(102);var Me=Object(Ie.combineReducers)({notes:Ge,editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.REPLACE:return Object(N.a)({},e,{},t.payload);case m.REPLACE_ALL:return Object(N.a)({},t.payload);default:return e}},settings:Be,overlays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee.OPEN_OVERLAY:return[].concat(Object(Ve.a)(e),[t.payload]);case Ee.CLOSE_OVERLAY:return e.filter((function(e){return e.id!==t.payload}));default:return e}}}),He=[je.a],Ke=Object(Ie.createStore)(Me,Object(xe.composeWithDevTools)(Ie.applyMiddleware.apply(void 0,He)));s.a.render(u.a.createElement(p.a,{store:Ke},u.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.3e723278.chunk.js.map