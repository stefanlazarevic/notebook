(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{103:function(e,t,n){e.exports=n(228)},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"first",(function(){return N})),n.d(r,"last",(function(){return I})),n.d(r,"chunk",(function(){return j})),n.d(r,"swap",(function(){return S})),n.d(r,"mapReversed",(function(){return w})),n.d(r,"map",(function(){return x}));var a={};n.r(a),n.d(a,"clear",(function(){return G}));var o={};n.r(o),n.d(o,"deleteProperty",(function(){return U}));var i={};n.r(i),n.d(i,"generateRandom",(function(){return _})),n.d(i,"isString",(function(){return B}));var c=n(1),u=n.n(c),l=n(23),d=n.n(l),s=(n(108),n(109),n(110),n(18)),p=(n(117),n(12));n(118);function f(e){return u.a.createElement("button",{className:"AppHeaderButton",disabled:e.disabled,title:e.title,onClick:e.onClick},e.children)}function E(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(f,{title:"Create new folder",onClick:e.onCreateNewFolder,disabled:!0},u.a.createElement(p.c,null)),u.a.createElement(f,{title:"Create new file",onClick:e.onCreateNewFile},u.a.createElement(p.j,null)))}var y,h=n(6),m=n.n(h),g=n(13),v={open:!1,id:void 0};function R(e){return function(){var t=Object(g.a)(m.a.mark((function t(n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:y.REPLACE,payload:{open:!0,id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}!function(e){e.REPLACE="Editor/Actions/REPLACE",e.REPLACE_ALL="Editor/Actions/REPLACE_ALL"}(y||(y={}));var O=Object(s.c)(null,(function(e){return{onCreateNewFile:function(){return e(R())},onCreateNewFolder:function(){}}}))((function(e){return u.a.createElement("div",{className:"AppHeaderControls"},u.a.createElement(E,{onCreateNewFolder:e.onCreateNewFolder,onCreateNewFile:e.onCreateNewFile}))}));function C(e){return u.a.createElement("header",{id:"AppHeader",className:"AppHeader"},u.a.createElement("h1",{className:"AppHeader__title"},"Notebook"),u.a.createElement(O,null))}n(120),n(121);function b(e){return u.a.createElement("button",{className:"BackButton",title:"Go back",onClick:e.onClick},u.a.createElement(p.a,null))}n(122);function D(e){return u.a.createElement("button",{className:"HomeButton",onClick:e.onClick,title:"Back to root"},u.a.createElement(p.i,null))}var k,A=n(3);function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[0]}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&!(e.length<=0))return e[e.length-1]}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t<1)throw Error("Chunk size must be greater than one.");for(var n=Array.from({length:Math.ceil(e.length/t)},(function(){return[]})),r=0,a=0;a<n.length;a++)for(var o=n[a],i=0;i<t;i++)"undefined"!==typeof e[r]&&o.push(e[r++]);return n}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||t<0)throw Error("Swap indexes must be greater than or equal to 0.");if(e>=n.length||t>=n.length)throw Error("Swap indexes must be less than the size of array.");for(var r=Array(n.length),a=n[t],o=n[e],i=0;i<n.length;i++)r[i]=i!==e?i!==t?n[i]:o:a;return r}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),r=t.length-1;r>-1;r--)n[t.length-r-1]=e(t[r],r,t);return n}function x(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array(t.length),r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}!function(e){e.OPEN_GROUP="Notes/Actions/Group/OPEN_GROUP",e.CREATE_RECORD="Notes/Actions/CREATE_RECORD",e.REMOVE_RECORD="Notes/Actions/REMOVE_RECORD",e.UPDATE_RECORD="Notes/Actions/UPDATE_RECORD",e.CREATE_GROUP="Notes/Actions/CREATE_GROUP",e.REMOVE_GROUP="Notes/Actions/REMOVE_GROUP",e.MOVE_GROUP="Notes/Actions/MOVE_GROUP",e.MOVE_RECORD="Notes/Actions/MOVE_RECORD",e.REORDER="Notes/Actions/REORDER"}(k||(k={}));var L=n(9);function G(e){var t=e.getSelection(),n=e.getCurrentContent(),r=e.getCurrentInlineStyle().reduce((function(e,n){return L.Modifier.removeInlineStyle(e,t,n)}),n);return L.EditorState.push(e,L.Modifier.setBlockType(r,t,"unstyled"),"change-block-type")}var P=n(98),T=n(102),U=function(e,t){t[e];return Object(P.a)(t,[e].map(T.a))};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="";if(e<=0)return t;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.length<e;){var r=Math.floor(Math.random()*n.length);t+=n.charAt(r)}return t}function B(e){return"string"===typeof e}var V={array:r,editor:a,object:o,string:i};function M(e){return function(){var t=Object(g.a)(m.a.mark((function t(n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:k.OPEN_GROUP,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function H(e,t){return function(){var n=Object(g.a)(m.a.mark((function n(r,a){var o,i,c,u,l,d,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),i=o.notes,c=i.groups,u=i.records,l=c[e],d=c[t],s=u[t],l){n.next=7;break}throw Error("NoteGroup with ID ".concat(e," is absent."));case 7:if(d||s){n.next=9;break}throw Error("ID ".concat(t," does not belong to any NoteRecord or NoteGroup."));case 9:d&&r({type:k.MOVE_GROUP,payload:Object(A.a)({},d,{targetGroupID:e})}),s&&r({type:k.MOVE_RECORD,payload:Object(A.a)({},s,{targetGroupID:e})});case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var z=Object(s.c)((function(e){var t=e.notes,n=t.currentGroupID,r=t.groups[n];return{open:Boolean(r.parent),currentGroupID:n}}),(function(e){return{openGroup:function(t){return e(M(t))},openParentGroup:function(t){return e((n=t,function(){var e=Object(g.a)(m.a.mark((function e(t,r){var a,o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),o=a.notes,i=o.groups,(c=i[n])&&c.parent&&t({type:k.OPEN_GROUP,payload:c.parent});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n}}}))((function(e){return u.a.createElement("div",{className:"Navigator","data-open":e.open},u.a.createElement(b,{onClick:function(){"function"===typeof e.openParentGroup&&e.openParentGroup(e.currentGroupID)}}),u.a.createElement(D,{onClick:function(){"function"===typeof e.openGroup&&e.openGroup("root")}}))})),K=n(36),F=(n(216),n(217),n(58));n(218);function J(e){return u.a.createElement("button",{className:"ResizeButton",onClick:function(t){"function"===typeof e.onClick&&e.onClick(!e.maximized)},title:"".concat(e.maximized?"Minimize":"Maximize"," Editor")},e.maximized?u.a.createElement(F.b,null):u.a.createElement(F.a,null))}n(219);function W(e){return u.a.createElement("button",{className:"CloseButton",title:"Close Editor",onClick:e.onClick},u.a.createElement(p.b,null))}n(220);var q=Object(c.forwardRef)((function(e,t){var n=Object(c.useRef)(null);return Object(c.useImperativeHandle)(t,(function(){return{getValue:function(){return n.current?n.current.value:""}}})),u.a.createElement("input",{ref:n,className:"NameInput",placeholder:"New title",type:"text",defaultValue:e.defaultValue,onChange:e.onChange,autoFocus:!0})}));n(221);function Q(e){return u.a.createElement("div",{className:"ChangeIndicator"},u.a.createElement("span",{className:"ChangeIndicatorDot","data-state":e.state}))}var X,Y=Object(c.forwardRef)((function(e,t){return u.a.createElement("div",{className:"AppEditorHeader"},u.a.createElement(q,{ref:t,defaultValue:e.defaultValue,onChange:e.onChange}),u.a.createElement(Q,{state:e.indicatorState}),u.a.createElement(J,{maximized:e.maximized,onClick:e.onResize}),u.a.createElement(W,{onClick:e.onClose}))}));n(222);function Z(e){return function(t,n){switch(t){case X.BOLD:return e(L.RichUtils.toggleInlineStyle(n,X.BOLD)),"handled";case X.ITALIC:return e(L.RichUtils.toggleInlineStyle(n,X.ITALIC)),"handled";case X.UNDERLINE:return e(L.RichUtils.toggleInlineStyle(n,X.UNDERLINE)),"handled";case X.STRIKETHROUGH:return e(L.RichUtils.toggleInlineStyle(n,X.STRIKETHROUGH)),"handled";case X.UNDO:return e(L.EditorState.undo(n)),"handled";case X.REDO:return e(L.EditorState.redo(n)),"handled";case X.SAVE:return"handled";case X.CLEAR:return e(V.editor.clear(n)),"handled";default:return"not-handled"}}}!function(e){e.BOLD="BOLD",e.ITALIC="ITALIC",e.UNDERLINE="UNDERLINE",e.STRIKETHROUGH="STRIKETHROUGH",e.SAVE="SAVE",e.UNDO="UNDO",e.REDO="REDO",e.CLEAR="CLEAR"}(X||(X={}));var $={13:"enter",27:"esc",66:"b",67:"c",73:"i",83:"s",85:"u",87:"y",97:"z"};function ee(e){var t=e.ctrlKey,n=e.shiftKey,r=e.keyCode,a=$[r];return t&&"b"===a?X.BOLD:t&&"i"===a?X.ITALIC:t&&"u"===a?X.UNDERLINE:t&&n&&"s"===a?X.STRIKETHROUGH:t&&"s"===a?X.SAVE:t&&"z"===a?X.UNDO:t&&"y"===a?X.REDO:t&&n&&"c"===a?X.CLEAR:Object(L.getDefaultKeyBinding)(e)}n(223),n(224);function te(e){return u.a.createElement("button",{className:"EditorControlButton",title:e.title,tabIndex:e.tabIndex,onMouseDown:function(t){"function"===typeof e.onClick&&e.onClick(t,e.command)},"data-active":e.active},e.children)}function ne(e){var t,n,r,a;function o(t,n){t.preventDefault(),"function"===typeof e.onClick&&e.onClick(n)}return u.a.createElement("div",{className:"EditorControls"},u.a.createElement(te,{command:X.BOLD,onClick:o,title:"Bold",active:Boolean(null===(t=e.inlineStyles)||void 0===t?void 0:t.has("BOLD")),tabIndex:-1},u.a.createElement(p.d,null)),u.a.createElement(te,{command:X.ITALIC,onClick:o,title:"Italic",active:Boolean(null===(n=e.inlineStyles)||void 0===n?void 0:n.has("ITALIC")),tabIndex:-1},u.a.createElement(p.f,null)),u.a.createElement(te,{command:X.UNDERLINE,onClick:o,title:"Underline",active:Boolean(null===(r=e.inlineStyles)||void 0===r?void 0:r.has("UNDERLINE")),tabIndex:-1},u.a.createElement(p.h,null)),u.a.createElement(te,{command:X.STRIKETHROUGH,onClick:o,title:"Strikethrough",active:Boolean(null===(a=e.inlineStyles)||void 0===a?void 0:a.has("STRIKETHROUGH")),tabIndex:-1},u.a.createElement(p.g,null)),u.a.createElement(te,{command:X.CLEAR,onClick:o,title:"Clear formatting",active:!1,tabIndex:-1},u.a.createElement(p.e,null)))}var re,ae=Object(c.forwardRef)((function(e,t){var n=Object(c.useState)(e.rawContentState?L.EditorState.createWithContent(Object(L.convertFromRaw)(e.rawContentState)):L.EditorState.createEmpty()),r=Object(K.a)(n,2),a=r[0],o=r[1],i=Object(c.useRef)(null);function l(t){(o(t),"function"===typeof e.onChange)&&(t.getCurrentContent().getBlockMap().equals(a.getCurrentContent().getBlockMap())||e.onChange())}function d(e){i.current&&i.current.focus()}function s(){i.current&&i.current.blur()}return Object(c.useImperativeHandle)(t,(function(){return{getPlainText:function(){return a.getCurrentContent().getPlainText()},getRawDraftContentState:function(){return Object(L.convertToRaw)(a.getCurrentContent())},focusEditor:d,blurEditor:s}})),u.a.createElement("div",{className:"Editor"},u.a.createElement(ne,{inlineStyles:a.getCurrentInlineStyle(),onClick:function(e){Z(l)(e,a)}}),u.a.createElement("div",{className:"EditorWrapper",onMouseDown:d},u.a.createElement(L.Editor,{ref:i,editorState:a,onChange:l,keyBindingFn:ee,handleKeyCommand:Z(l),spellCheck:e.spellCheck})))}));function oe(e){var t=Object(c.useState)(e.maximized),n=Object(K.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(re.IDLE),i=Object(K.a)(o,2),l=i[0],d=i[1],s=Object(c.useRef)(),p=Object(c.useRef)(),f=Object(c.useRef)();function E(){var t={id:e.id||V.string.generateRandom(),parent:e.currentGroupID,title:"",content:{entityMap:{},blocks:[]}};if(s.current&&(t.title=s.current.getValue()),p.current&&(t.content=p.current.getRawDraftContentState()),"function"===typeof e.onSave&&!e.id)return e.onSave(e.currentGroupID,t),void(e.saveAndClose&&!e.autoSave?h():d(re.SAVED));"function"===typeof e.onUpdate&&e.id&&(e.onUpdate(t),e.saveAndClose&&!e.autoSave?h():d(re.SAVED))}function y(){d(re.UNSAVED),f.current&&clearTimeout(f.current),e.autoSave&&Boolean(e.id)&&(f.current=setTimeout((function(){E()}),3e3))}function h(){f.current&&clearTimeout(f.current),"function"===typeof e.onClose&&e.onClose()}return u.a.createElement("div",{className:"AppEditor"},u.a.createElement("div",{className:"AppEditorWrapper",onKeyDown:function(e){var t=e.ctrlKey,n=e.shiftKey,r=e.keyCode,a=$[r];t&&!n&&"s"===a&&(e.preventDefault(),f.current&&clearTimeout(f.current),l===re.UNSAVED&&E()),"esc"===a&&(e.preventDefault(),h())}},u.a.createElement("div",{className:"AppEditorCanvas","data-maximized":r},u.a.createElement(Y,{maximized:r,ref:s,onClose:e.onClose,onResize:a,defaultValue:e.title,indicatorState:l,onChange:y}),u.a.createElement(ae,{ref:p,spellCheck:e.spellCheck,onChange:y,rawContentState:e.content}))))}!function(e){e[e.IDLE=0]="IDLE",e[e.SAVED=1]="SAVED",e[e.UNSAVED=2]="UNSAVED"}(re||(re={}));var ie=Object(s.c)((function(e){var t,n=e.editor,r=e.settings,a=e.notes,o=n.open,i=n.id,c=r.editor,u=a.currentGroupID,l=a.records;return i&&(t=l[i]),Object(A.a)({open:o,maximized:!1,autoSave:Boolean(c.autoSave),saveAndClose:Boolean(c.saveAndClose),spellCheck:Boolean(c.spellCheck),currentGroupID:u},t)}),(function(e){return{onClose:function(){return e(function(){var e=Object(g.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:y.REPLACE_ALL,payload:{open:!1,id:void 0}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSave:function(t,n){Object(s.b)((function(){e(function(e,t){return function(){var n=Object(g.a)(m.a.mark((function n(r,a){var o,i,c,u,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),i=o.notes,c=i.records,u=i.groups,l=u[e],t.id&&!c[t.id]){n.next=5;break}throw Error("NoteRecord with the ID ".concat(t.id," already exists."));case 5:if(l){n.next=7;break}throw Error("NoteGroup with the ID ".concat(e," is absent"));case 7:r({type:k.CREATE_RECORD,payload:Object(A.a)({},t,{parent:e})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n)),e(R(n.id))}))},onUpdate:function(t){return e((n=t,function(){var e=Object(g.a)(m.a.mark((function e(t,r){var a,o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),o=a.notes,i=o.records,c=i[n.id]){e.next=5;break}throw Error("NoteRecord with ID ".concat(n.id," is absent."));case 5:if(c.parent===n.parent){e.next=7;break}throw Error('Changing record location is not permitted. If your intention was moving record to another group, consider using the "moveToGroup" function.');case 7:t({type:k.UPDATE_RECORD,payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n}}}))((function(e){return u.a.createElement(u.a.Fragment,null,e.open&&Object(l.createPortal)(u.a.createElement(oe,e),document.getElementById("app-editor-root")))})),ce=n(99),ue=(n(225),n(226),n(16));function le(e){return u.a.createElement(ue.a,{id:e.id},u.a.createElement(ue.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onOpen&&e.onOpen()}},"Open"),u.a.createElement(ue.c,{disabled:!Boolean(e.groupParent),onClick:function(t){t.stopPropagation(),"function"===typeof e.onUngroup&&e.onUngroup(e.id)}},"Ungroup"),u.a.createElement(ue.c,{disabled:Boolean(e.childrenCount),onClick:function(t){t.stopPropagation(),"function"===typeof e.onRemove&&e.onRemove(e.id)}},"Delete"))}function de(e){function t(t){"function"===typeof e.onDoubleClick&&e.onDoubleClick(e.id)}return u.a.createElement("div",{className:"NoteGroup",draggable:"true",onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(t){t.preventDefault();var n=JSON.parse(t.dataTransfer.getData("text/plain")),r=n&&n.id,a=e.id;"function"===typeof e.moveToGroup&&r&&r!==a&&e.moveToGroup(a,r)},onDoubleClick:t,tabIndex:e.tabIndex,onKeyDown:function(t){var n=t.keyCode;"enter"===$[n]&&"function"===typeof e.onDoubleClick&&(t.preventDefault(),e.onDoubleClick(e.id))}},u.a.createElement(ue.b,{id:e.id,holdToDisplay:-1},u.a.createElement("div",{className:"NoteGroupBack"}),u.a.createElement("div",{className:"NoteGroupFront"},u.a.createElement("h5",{className:"NoteGroupTitle"},u.a.createElement("span",null,e.title)))),u.a.createElement(le,{id:e.id,parent:e.parent,groupParent:e.groupParent,onOpen:t,onUngroup:e.ungroup,onRemove:e.removeGroup,childrenCount:e.childrenCount}))}n(227);function se(e){return u.a.createElement(ue.a,{id:e.id},u.a.createElement(ue.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onOpen&&e.onOpen()}},"Open"),u.a.createElement(ue.c,{disabled:!Boolean(e.groupParent),onClick:function(t){t.stopPropagation(),"function"===typeof e.onUngroup&&e.onUngroup(e.id)}},"Ungroup"),u.a.createElement(ue.c,{disabled:!1,onClick:function(t){t.stopPropagation(),"function"===typeof e.onRemove&&e.onRemove(e.id)}},"Delete"))}function pe(e){function t(){"function"===typeof e.onClick&&e.onClick(e.id)}return u.a.createElement("div",{className:"NoteRecord",draggable:"true",onDragOver:function(e){e.preventDefault()},onDragStart:function(t){t.dataTransfer.setData("text/plain",JSON.stringify({index:e.index,id:e.id}))},onDrop:function(t){t.preventDefault();var n=JSON.parse(t.dataTransfer.getData("text/plain")),r=parseInt(n&&n.index),a=e.index;"function"!==typeof e.onDrop||Number.isNaN(r)||r===a||e.onDrop(r,a)},onClick:t,tabIndex:e.tabIndex,onKeyDown:function(t){var n=t.keyCode;"enter"===$[n]&&"function"===typeof e.onClick&&(t.preventDefault(),e.onClick(e.id))}},u.a.createElement(ue.b,{id:e.id,holdToDisplay:-1},u.a.createElement("div",{className:"NoteRecordCard"},u.a.createElement("h4",{className:"NoteRecordTitle"},e.title))),u.a.createElement(se,{id:e.id,parent:e.parent,groupParent:e.groupParent,onOpen:t,onUngroup:e.ungroup,onRemove:e.removeRecord}))}var fe=Object(s.c)((function(e,t){var n=t.id,r=t.index,a=t.tabIndex,o=e.notes,i=o.records,c=o.groups,u=c[o.currentGroupID],l=i[n]||c[n];return Object(A.a)({index:r,tabIndex:a},l,{groupParent:u.parent})}),(function(e){return{moveToGroup:function(t,n){return e(H(t,n))},openGroup:function(t){return e(M(t))},swapGroupChildren:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(m.a.mark((function n(r,a){var o,i,c,u,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=a(),i=o.notes,c=i.currentGroupID,u=i.groups,l=u[c],r({type:k.REORDER,payload:Object(A.a)({},l,{children:V.array.swap(e,t,l.children)})});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},openEditor:function(t){return e(R(t))},removeRecord:function(t){return e(function(e){return function(){var t=Object(g.a)(m.a.mark((function t(n,r){var a,o,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,i=o.records,c=i[e],e){t.next=5;break}throw Error("NoteRecord ID is absent.");case 5:if(c){t.next=7;break}throw Error("NoteRecord with the ID ".concat(e," is absent."));case 7:n({type:k.REMOVE_RECORD,payload:c});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},removeGroup:function(t){return e((n=t,function(){var e=Object(g.a)(m.a.mark((function e(t,r){var a,o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),o=a.notes,i=o.groups,c=i[n]){e.next=5;break}throw Error("NoteGroup with ID ".concat(n," is absent."));case 5:if(!(c.children.length>0)){e.next=7;break}throw Error("NoteGroup must be empty before removing.");case 7:t({type:k.REMOVE_GROUP,payload:c});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n},ungroup:function(t){return e(function(e){return function(){var t=Object(g.a)(m.a.mark((function t(n,r){var a,o,i,c,u,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.notes,i=o.currentGroupID,c=o.groups,(u=c[i]).parent){t.next=5;break}throw Error("Ungroup is not allowed in root group.");case 5:l=c[u.parent],n(H(l.id,e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){return u.a.createElement(u.a.Fragment,null,e.children?u.a.createElement(de,{id:e.id,index:e.index,title:e.title,moveToGroup:e.moveToGroup,onDoubleClick:e.openGroup,tabIndex:e.tabIndex,parent:e.parent,groupParent:e.groupParent,childrenCount:e.children.length,removeGroup:e.removeGroup,ungroup:e.ungroup}):u.a.createElement(pe,{id:e.id,index:e.index,title:e.title,onClick:e.openEditor,onDrop:e.swapGroupChildren,tabIndex:e.tabIndex,moveToGroup:e.moveToGroup,parent:e.parent,groupParent:e.groupParent,removeRecord:e.removeRecord,ungroup:e.ungroup}))}));var Ee=Object(ce.a)([function(e,t){return e.notes.groups[t].children}],(function(e){return e}));var ye=Object(s.c)((function(e){var t=e.notes.currentGroupID;return{children:Ee(e,t)}}))((function(e){return u.a.createElement("div",{className:"Notes"},V.array.map((function(e,t){return u.a.createElement(fe,{key:e,id:e,index:t,tabIndex:t})}),e.children))}));var he=function(){return u.a.createElement("div",{className:"App"},u.a.createElement(C,null),u.a.createElement(z,null),u.a.createElement(ie,null),u.a.createElement(ye,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me,ge=n(21),ve=n(100),Re=n(101),Oe=n(10),Ce={instruction:{id:"instruction",parent:"root",title:"INSTRUCTIONS",content:{blocks:[{key:"8ofdk",text:"EDITOR",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:6,style:"BOLD"}],entityRanges:[],data:{}},{key:"aemmj",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"35hd4",text:"In order to save a note, use shortcut ctrl + s.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2dqfh",text:"To close editor, you can simply use escape key. (ESC)",type:"unstyled",depth:0,inlineStyleRanges:[{offset:48,length:5,style:"ITALIC"}],entityRanges:[],data:{}},{key:"e5mv2",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a71vr",text:"Available shortcuts:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"dhmf5",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8jlev",text:"1. ctrl + b - Bold",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:4,style:"BOLD"}],entityRanges:[],data:{}},{key:"5ikho",text:"2. ctrl + i  - Italic",type:"unstyled",depth:0,inlineStyleRanges:[{offset:15,length:6,style:"ITALIC"}],entityRanges:[],data:{}},{key:"eacar",text:"3. ctrl + u - Underline",type:"unstyled",depth:0,inlineStyleRanges:[{offset:14,length:9,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"2h4vl",text:"4. ctrl + shift + s - Strikethrough",type:"unstyled",depth:0,inlineStyleRanges:[{offset:22,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"cefcc",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"alrtq",text:"NOTES",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:5,style:"BOLD"}],entityRanges:[],data:{}},{key:"cgvgp",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1jo4c",text:"- To move a note or a group into the another group, simply drag that note over the target group and drop.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bqsbk",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cvojm",text:"- To ungroup certain note or group from current group, use right click > ungroup option.",type:"unstyled",depth:0,inlineStyleRanges:[{offset:59,length:11,style:"BOLD"},{offset:73,length:8,style:"BOLD"}],entityRanges:[],data:{}}],entityMap:{}}}};!function(e){e.REPLACE="Notes/Groups/Actions/REPLACE",e.REPLACE_ALL="Notes/Groups/Actions/REPLACE_ALL"}(me||(me={}));var be={root:{id:"root",parent:void 0,title:"/",children:["fakultet","ostalo","instruction"]},fakultet:{id:"fakultet",parent:"root",title:"Fakultet",children:[]},ostalo:{id:"ostalo",parent:"root",title:"Ostalo",children:[]}};var De=Object(ge.combineReducers)({currentGroupID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.OPEN_GROUP:return t.payload;default:return e}},groups:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case k.CREATE_RECORD:return Object(A.a)({},r,Object(Oe.a)({},a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.concat(a.payload.id)})));case k.REMOVE_RECORD:return Object(A.a)({},r,Object(Oe.a)({},a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case k.CREATE_GROUP:return Object(A.a)({},r,(e={},Object(Oe.a)(e,a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.concat(a.payload.id)})),Object(Oe.a)(e,a.payload.id,Object(A.a)({},a.payload)),e));case k.REMOVE_GROUP:return Object(A.a)({},V.object.deleteProperty(a.payload.id,r),Object(Oe.a)({},a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})));case k.MOVE_GROUP:return Object(A.a)({},r,(t={},Object(Oe.a)(t,a.payload.targetGroupID,Object(A.a)({},r[a.payload.targetGroupID],{children:r[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(Oe.a)(t,a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),Object(Oe.a)(t,a.payload.id,Object(A.a)({},r[a.payload.id],{parent:a.payload.targetGroupID})),t));case k.MOVE_RECORD:return Object(A.a)({},r,(n={},Object(Oe.a)(n,a.payload.targetGroupID,Object(A.a)({},r[a.payload.targetGroupID],{children:r[a.payload.targetGroupID].children.concat(a.payload.id)})),Object(Oe.a)(n,a.payload.parent,Object(A.a)({},r[a.payload.parent],{children:r[a.payload.parent].children.filter((function(e){return e!==a.payload.id}))})),n));case k.REORDER:return Object(A.a)({},r,Object(Oe.a)({},a.payload.id,Object(A.a)({},a.payload)));default:return r}},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.CREATE_RECORD:return Object(A.a)({},e,Object(Oe.a)({},t.payload.id,Object(A.a)({},t.payload)));case k.REMOVE_RECORD:return V.object.deleteProperty(t.payload.id,e);case k.UPDATE_RECORD:return Object(A.a)({},e,Object(Oe.a)({},t.payload.id,Object(A.a)({},t.payload)));case k.MOVE_RECORD:return Object(A.a)({},e,Object(Oe.a)({},t.payload.id,Object(A.a)({},e[t.payload.id],{parent:t.payload.targetGroupID})));default:return e}}});var ke,Ae={autoSave:!0,saveAndClose:!1,spellCheck:!1};!function(e){e.REPLACE="Settings/Editor/Actions/REPLACE",e.REPLACE_ALL="Settings/Editor/Actions/REPLACE_ALL"}(ke||(ke={}));var Ne,Ie={softDelete:!0};!function(e){e.REPLACE="Settings/Notes/Actions/REPLACE",e.REPLACE_ALL="Settings/Notes/Actions/REPLACE_ALL"}(Ne||(Ne={}));var je=Object(ge.combineReducers)({editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.REPLACE:return Object(A.a)({},e,{},t.payload);case ke.REPLACE_ALL:return Object(A.a)({},t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.REPLACE:return Object(A.a)({},e,{},t.payload);case Ne.REPLACE_ALL:return Object(A.a)({},t.payload);default:return e}}}),Se=Object(ge.combineReducers)({notes:De,editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.REPLACE:return Object(A.a)({},e,{},t.payload);case y.REPLACE_ALL:return Object(A.a)({},t.payload);default:return e}},settings:je}),we=[ve.a],xe=Object(ge.createStore)(Se,Object(Re.composeWithDevTools)(ge.applyMiddleware.apply(void 0,we)));d.a.render(u.a.createElement(s.a,{store:xe},u.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.50aa819d.chunk.js.map